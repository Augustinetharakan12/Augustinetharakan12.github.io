!function(l){function e(e){for(var t,n,o=e[0],i=e[1],a=e[2],r=0,s=[];r<o.length;r++)n=o[r],f[n]&&s.push(f[n][0]),f[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(h&&h(e);s.length;)s.shift()();return d.push.apply(d,a||[]),c()}function c(){for(var e,t=0;t<d.length;t++){for(var n=d[t],o=!0,i=1;i<n.length;i++){var a=n[i];0!==f[a]&&(o=!1)}o&&(d.splice(t--,1),e=p(p.s=n[0]))}return e}var n={},u={18:0,24:0},f={18:0,24:0},d=[];function p(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,p),t.l=!0,t.exports}p.e=function(d){var e=[];u[d]?e.push(u[d]):0!==u[d]&&{44:1,100:1,101:1,102:1,103:1,104:1,105:1,106:1}[d]&&e.push(u[d]=new Promise(function(e,o){for(var t=({0:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",1:"viz-02-calcdoku-viz-02-drone-game-viz-02-grid-fill-viz-02-logic-circuit-viz-02-number-bunchers-viz-0-c850af36",2:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock-viz-02-javascript",3:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",4:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",5:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",6:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",7:"viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",8:"vendors-d3-stats-viz-02-escher-viz-02-graph",9:"vendors-viz-02-coinflip-viz-02-escher-viz-02-graph",10:"viz-02-escher-viz-02-graph",15:"admin",24:"codemirror",44:"logic-circuit-css",68:"vendors-codemirror",69:"vendors-d3-nux",70:"vendors-viz-02-escher",71:"vendors-viz-02-quantum-circuit",74:"viz-02-calcdoku",75:"viz-02-canvas",76:"viz-02-coinflip",77:"viz-02-cs-one-offs",78:"viz-02-drone-game",79:"viz-02-escher",80:"viz-02-graph",81:"viz-02-greedy-scheduler",82:"viz-02-grid-fill",83:"viz-02-huygens-clock",84:"viz-02-javascript",85:"viz-02-logic-circuit",86:"viz-02-number-bunchers",87:"viz-02-operator-search",88:"viz-02-order-logic",89:"viz-02-quantum-circuit"}[d]||d)+"."+{0:"5ed300367c8c9dd415ac",1:"2bb6e4112ddf43e49e97",2:"8b8840481cfce0286aa9",3:"f1a98c759b965c4a27d2",4:"7964d0b15ee6408b5720",5:"0db79b03603b36f708eb",6:"1c6dc1e82ea6eb1c8803",7:"1664513eaf7d5994aa65",8:"569d0031cf53e32cdf62",9:"5458357aaecc58427a01",10:"5758c7810c4dab904ad1",11:"072f33353b3b9c857064",15:"4467d69259fdfe583f1e",24:"99a2c08f62ea477305e6",44:"1aa9bd6b61bfe9d07f0b",68:"85e9e7f5d9715690f289",69:"868fb9777779ad6de784",70:"3a0030edb6e23fb85fb5",71:"394f2537a952e3516cba",74:"a2ab2da11e79fe6462c8",75:"67fd153a122f2bd0b805",76:"ce6fb3fc847732eb4c00",77:"b3f1bc41a22c920b5343",78:"7191bfb24844bbc75991",79:"5400f1712507cba1e708",80:"69bc94a79f9db8472171",81:"71541cb14a8133af8b7d",82:"5011a36bd636316f473e",83:"48748044b139c6bb8dd7",84:"6494ba0cd227320e9dd0",85:"53193426853ea8f98d9f",86:"3618cf1ec7fba6517aaf",87:"511e7ffb1e1395ac77ae",88:"4dfc3d4c60c0f4220663",89:"2c26b1e6e443df59b30a",99:"70508285291615dec6fc",100:"0c9dff70a3213ca20748",101:"ca76cc36099e52c4056c",102:"2abf9b49c65799f8a1fd",103:"6874bfcacc4fc63b307b",104:"6f068734998101acbb9d",105:"e5ceca504b7adf409f36",106:"9bd37f964fa420249b10"}[d]+".css",i=p.p+t,n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=(l=n[a]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(r===t||r===i))return e()}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){var l;if((r=(l=s[a]).getAttribute("data-href"))===t||r===i)return e()}var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=e,c.onerror=function(e){var t=e&&e.target&&e.target.src||i,n=new Error("Loading CSS chunk "+d+" failed.\n("+t+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=t,delete u[d],c.parentNode.removeChild(c),o(n)},c.href=i,document.getElementsByTagName("head")[0].appendChild(c)}).then(function(){u[d]=0}));var n=f[d];if(0!==n)if(n)e.push(n[2]);else{var t=new Promise(function(e,t){n=f[d]=[e,t]});e.push(n[2]=t);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,p.nc&&i.setAttribute("nonce",p.nc),i.src=function(e){return p.p+""+({0:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",1:"viz-02-calcdoku-viz-02-drone-game-viz-02-grid-fill-viz-02-logic-circuit-viz-02-number-bunchers-viz-0-c850af36",2:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock-viz-02-javascript",3:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",4:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",5:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",6:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",7:"viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",8:"vendors-d3-stats-viz-02-escher-viz-02-graph",9:"vendors-viz-02-coinflip-viz-02-escher-viz-02-graph",10:"viz-02-escher-viz-02-graph",15:"admin",24:"codemirror",44:"logic-circuit-css",68:"vendors-codemirror",69:"vendors-d3-nux",70:"vendors-viz-02-escher",71:"vendors-viz-02-quantum-circuit",74:"viz-02-calcdoku",75:"viz-02-canvas",76:"viz-02-coinflip",77:"viz-02-cs-one-offs",78:"viz-02-drone-game",79:"viz-02-escher",80:"viz-02-graph",81:"viz-02-greedy-scheduler",82:"viz-02-grid-fill",83:"viz-02-huygens-clock",84:"viz-02-javascript",85:"viz-02-logic-circuit",86:"viz-02-number-bunchers",87:"viz-02-operator-search",88:"viz-02-order-logic",89:"viz-02-quantum-circuit"}[e]||e)+"."+{0:"5ed300367c8c9dd415ac",1:"2bb6e4112ddf43e49e97",2:"8b8840481cfce0286aa9",3:"f1a98c759b965c4a27d2",4:"7964d0b15ee6408b5720",5:"0db79b03603b36f708eb",6:"1c6dc1e82ea6eb1c8803",7:"1664513eaf7d5994aa65",8:"569d0031cf53e32cdf62",9:"5458357aaecc58427a01",10:"5758c7810c4dab904ad1",11:"072f33353b3b9c857064",15:"4467d69259fdfe583f1e",24:"99a2c08f62ea477305e6",44:"1aa9bd6b61bfe9d07f0b",68:"85e9e7f5d9715690f289",69:"868fb9777779ad6de784",70:"3a0030edb6e23fb85fb5",71:"394f2537a952e3516cba",74:"a2ab2da11e79fe6462c8",75:"67fd153a122f2bd0b805",76:"ce6fb3fc847732eb4c00",77:"b3f1bc41a22c920b5343",78:"7191bfb24844bbc75991",79:"5400f1712507cba1e708",80:"69bc94a79f9db8472171",81:"71541cb14a8133af8b7d",82:"5011a36bd636316f473e",83:"48748044b139c6bb8dd7",84:"6494ba0cd227320e9dd0",85:"53193426853ea8f98d9f",86:"3618cf1ec7fba6517aaf",87:"511e7ffb1e1395ac77ae",88:"4dfc3d4c60c0f4220663",89:"2c26b1e6e443df59b30a",99:"70508285291615dec6fc",100:"0c9dff70a3213ca20748",101:"ca76cc36099e52c4056c",102:"2abf9b49c65799f8a1fd",103:"6874bfcacc4fc63b307b",104:"6f068734998101acbb9d",105:"e5ceca504b7adf409f36",106:"9bd37f964fa420249b10"}[e]+".js"}(d);var a=new Error;o=function(e){i.onerror=i.onload=null,clearTimeout(r);var t=f[d];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;a.message="Loading chunk "+d+" failed.\n("+n+": "+o+")",a.name="ChunkLoadError",a.type=n,a.request=o,t[1](a)}f[d]=void 0}};var r=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},p.m=l,p.c=n,p.d=function(e,t,n){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)p.d(n,o,function(e){return t[e]}.bind(null,o));return n},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/site_media/build/dist/",p.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],o=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var h=o;d.push([686,22]),c()}({1:function(e,t,n){"use strict";var i=r(n(0)),f=r(n(4)),p=n(9),o=r(n(42)),a=n(18);function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h={};h.$document=(0,i.default)(document),h.$html=(0,i.default)(document.documentElement),h.$body=(0,i.default)(document.body),h.$window=(0,i.default)(window),h.jqCreateElem=function(e){return(0,i.default)(document.createElement(e))},h.jqGetElemById=function(){for(var n=[],e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.forEach(function(e){var t=document.getElementById(e);t&&n.push(t)}),(0,i.default)(n)},h.jqGetElemByCmpName=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.map(function(e){return"cmp_".concat(e,"_id")});return h.jqGetElemById.apply(h,l(o))};var c,d=h.$body.data();if(h.isIos=!0===d.isIos||0<=navigator.userAgent.indexOf("brilliant-ios-"),h.isIosWeb=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,h.iosVersion={},h.isAndroid=!0===d.isAndroid||0<=navigator.userAgent.indexOf("brilliant-android-"),h.isAndroidWeb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),h.isNative=h.isIos||h.isAndroid,h.isMobile=!0===d.isMobile||h.isNative,h.appVersion=function(){if(d.appVersion)return new o.default(d.appVersion);var e=window.navigator.userAgent.match(/brilliant-(android|ios)-(.*?)$/),t=null!==e&&e.length?e[2]:null;return new o.default(t)}(),h.isTouchDevice="ontouchstart"in document.documentElement,h.userIsAuthenticated=h.$body.hasClass("active"),h.isBrilliantPremium=h.$body.hasClass("b2"),h.isBrilliantPro=!0===d.isBrilliantPro,h.media_host=d.mediaHost,h.instantTryItYourself=h.$body.hasClass("instant-try-it-yourself"),h.smallPadding=8,h.mediumPadding=2*h.smallPadding,h.largePadding=3*h.smallPadding,h.supports_local_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),h.isIosWeb){var u=/OS (\d+_\d+(_\d+)?)/.exec(navigator.appVersion);if(u){var m=u[1];u[2]||(m+="_0"),m=m.replace(/_/g,"."),h.iosVersion=new o.default(m)}}h.supportsAnimation=(c=null,function(){if(null!==c)return c;c=!1;var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(void 0!==t.style.animationName&&(c=!0),!1===c)for(var n=0;n<e.length;n++)if(void 0!==t.style[e[n]+"AnimationName"]){e[n].toLowerCase(),c=!0;break}return c}),window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]},window.history.pushState=window.history.pushState||i.default.noop,h.commaFormat=function(e){return-1<(e=""+e).indexOf(".")&&(e=e.split(".")[0]),3<e.length?h.commaFormat(e.substring(0,e.length-3))+","+e.substring(e.length-3):"".length?e+".":e},h.getRelativeUrl=function(){return location.pathname+location.search},h.jqOffOn=function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.each(function(e,t){var n;(n=(0,i.default)(t).off(o[0])).on.apply(n,o)})},h.setScrollPosition=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.$container,o=void 0===n?h.$html.add(h.$body):n,i=t.animate,a=void 0!==i&&i,r=t.delay,s=void 0===r?0:r,l=t.duration,c=void 0===l?p.TRANSITION_SPEED_MEDIUM:l,d=t.callback,u=void 0===d?f.default.noop:d;a?(s&&o.delay(s),o.animate({scrollTop:e},{duration:c,complete:f.default.once(u)})):(o.scrollTop(e),u())},h.toggleComponentDebug=function(e){e.on("click",function(e){e.preventDefault(),(0,i.default)("div.debug_component_info").toggle()})};var v=window.ie_version||!1;(0,a.onDOMReady)(function(){var e=[],t=[],n=/Edge/.test(navigator.userAgent);if(e.push("no-js"),t.push("js"),t.push(n?"msedge":"not-msedge"),!1!==v||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){if(t.push("ie"),!v)try{v=parseInt(navigator.userAgent.match(/msie (\d{1,2})/i)[1],10)}catch(e){v=10}-1===v&&t.push("ie-noncompatible"),9<=v&&t.push("ie-modern"),6<=v&&t.push("ie-".concat(v))}else{var o=navigator.userAgent.toLowerCase();-1!==o.indexOf("applewebkit")?(t.push("webkit"),"object"===s(window.chrome)&&t.push("chrome")):-1!==o.indexOf("gecko")?t.push("mozilla"):-1!==o.indexOf("presto")?(t.push("opera"),-1!==o.indexOf("opera mini")&&t.push("opera-mini")):-1!==o.indexOf("series40")&&t.push("s40");var i=o.match(/android\s([0-9.]*)/);if(null!==i)4.4<=parseFloat(i[1])?t.push("android-newer"):t.push("android-older");var a=window._cio||null;-1!==o.indexOf("android")&&null!==a&&a.track("logged_in_with_android_browser")}h.isTouchDevice||t.push("no-touch"),h.$body.removeClass(e.join(" ")).addClass(t.join(" "))}),window._fb_status=window._fb_status||[],window.fb_auth_status=function(e){_fb_status.push(e||function(){})},0<=window.location.search.indexOf("breakme")&&breakMe(),e.exports=h},100:function(e,t,n){"use strict";var o={strict:"warn",unicodeTextInMathMode:!0},i={displayMode:!0,strict:"warn",unicodeTextInMathMode:!0};e.exports={inline:o,block:i}},11:function(e,t,n){"use strict";var d=a(n(0)),u=a(n(4)),f=n(7),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(35)),p=n(1),i=n(18),h=n(15),m=n(15);function a(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r,s={};s.CustomSelectbox=function(e){var n=(0,d.default)("select",e),o=(0,d.default)(".dropdown-toggle",e),i=(0,d.default)(".dropdown-menu a",e),a="active",r="."+a;i.on("click",function(e){var t=(0,d.default)(this);e.preventDefault(),t.hasClass("disabled")||(o.find("span:first").html(t.html()),n.val(t.data("opt-value")),n.trigger("change"),i.filter(r).removeClass(a),t.addClass(a))}),i.filter(r).trigger("click")},s.Anchors=new function(){var o=this,s=".nf-feeditem-modal";return o.scrollToTarget=function(e,t){t=t||function(){};var n=e.parents(s).first();if(n.length&&n[0].scrollHeight==n.outerHeight()&&(n=(0,d.default)()),e.length){var o,i=e.offset().top,a=0;if(n.length||(p.isMobile?o=(0,d.default)(".m-action-bar"):p.userIsAuthenticated&&(o=(0,p.jqGetElemById)("header"))),!e.hasClass("anchor")&&o&&o.each(function(e,t){a+=(0,d.default)(t).outerHeight()}),n.length){var r=i-n.offset().top;(0,p.setScrollPosition)(r+n.scrollTop()-a,{$container:n,animate:!0,callback:t})}else(0,p.setScrollPosition)(i-a,{animate:!0,callback:t})}else t()},o.controller=function(t){(0,p.jqOffOn)(t,"click.scrolltotarget",function(e){e.preventDefault(),o.scrollToTarget((0,d.default)(t.data("target")))})},o.init=function(){var e=window.location.hash,t=(0,p.jqGetElemById)(e.substr(1));e&&e.length&&!t.hasClass("anchor")&&((0,p.setScrollPosition)(0),setTimeout(function(){(0,p.setScrollPosition)(0),o.scrollToTarget(t)},10)),p.$document.on("click",'a[href^="#"]',function(e){e.preventDefault();var t=(0,d.default)(e.currentTarget).attr("href").substr(1);if(t&&t.length){var n=(0,p.jqGetElemById)(t);n.length&&(o.scrollToTarget(n),window.location.hash=t)}})},o},s.scrollFixedElements=function(){var o=[{$elem:(0,p.jqGetElemById)("header"),shiftProperty:"margin-left"}],i=0,a=!1;if(0!==(o=o.filter(function(e){return 0<e.$elem.length})).length){var r=function(){var n=p.$window.scrollLeft();n!==i&&(o.forEach(function(e){e.offset=e.offset||parseInt(e.$elem.css(e.shiftProperty),10);var t=e.offset-(n-i);e.$elem.css(e.shiftProperty,"".concat(t,"px")),e.offset=t}),i=n)},e=function(){var e=document.documentElement,t=e.scrollWidth,n=e.clientWidth;!a&&n<t&&(r(),p.$window.on("scroll",r),a=!0),a&&t===n&&(o.forEach(function(e){return e.$elem.css(e.shiftProperty,"")}),p.$window.off("scroll",r),a=!1)};e(),p.$window.on("resize",e)}},s.crop=function(t){u.default.defer(function(){if(!p.isMobile||0<=navigator.userAgent.toLowerCase().indexOf("android"))p.$body.toggleClass("cropped",!1!==t);else{var e=p.$body.children(".modal-bg");!1!==t?e.on("touchstart.crop",function(e){this.allowUp=0<this.scrollTop,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=e.originalEvent.pageY}).on("touchmove.crop",function(e){var t=e.originalEvent,n=t.pageY>this.lastY,o=!n;this.lastY=t.pageY,n&&this.allowUp||o&&this.allowDown?t.stopPropagation():t.preventDefault()}):e.off(".crop")}})},s.sticky=function(e){e.affix({offset:{top:e.offset().top+(e.data("offset-top")||0)}})},s.toggleButtonLoadingState=(r=null,function(e,t){if(t&&!r){var n=(0,d.default)("<span/>").text(".").addClass("dot").css("visibility","hidden"),o=n.clone(),i=e.find(".b2-flag").clone(),a=1;e.data("original-text",e.text()).text("Loading.").append(n,o).append(i),r=setInterval(function(){a=3==a?1:a+1,n.css("visibility",1<a?"visible":"hidden"),o.css("visibility",3==a?"visible":"hidden")},333)}else r&&(e.html(e.data("original-text")),clearInterval(r),r=null)}),s.showConfirmationModal=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.title,a=void 0===t?"Are you sure?":t,r=e.text,n=e.cancelBtnText,s=void 0===n?"Cancel":n,o=e.confirmBtnText,l=void 0===o?"Yes":o,i=e.classes,c=void 0===i?"":i;return new Promise(function(e){var t=!1,n=r?"<p>".concat(r,"</p>"):"";(0,p.jqGetElemById)("confirm-modal").remove();var o='<div class="modal hide '.concat(a?"":"no-title"," ").concat(c,'" id="confirm-modal">\n            <div class="modal-header"><h3>').concat(a,'</h3></div>\n            <div class="modal-body">').concat(n,'</div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(s,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(l,"</a>\n            </div>\n        </div>");o=o.replace(/>\s+</g,"><"),p.$body.append(o);var i=(0,p.jqGetElemById)("confirm-modal");i.find(".confirm").on("click",function(e){e.preventDefault(),t=!0,i.modal("hide")}),i.on("hide",function(){e(t)}),(0,d.default)("body #confirm-modal").modal()})},s.areYouSure=function(t){var n=!1;t.on("click",function(e){n||(e.preventDefault(),s.showConfirmationModal({title:t.data("confirm-box-title")}).then(function(e){e&&(n=!0,t.trigger("click"))}))})},s.modalController=function(t){var e=t.data();t.on("show",function(){e.axId&&setTimeout(function(){(0,f.track)("ui",{action:"modal",element_type:"modal",element_id:e.axId})},1),e.flag&&o.update(e.flag,!0)}),t.modal({show:!1});var n=!0;e.trigger&&((0,d.default)(e.trigger).on("click",function(e){e.preventDefault(),t.modal("show")}),n=!0===e.autoshow),n&&t.modal("show")},s.fitDropdownIntoViewport=function(e){var o,i=e.find(".dropdown-menu"),a=10,t="resize.ddresize scroll.ddresize",r="vertical-scrollbar",s=!1;function n(){var e=p.$window.height()+p.$document.scrollTop()-a,t=i.offset().top+i.outerHeight(),n=i.height()-(t-e);o<n?s&&(i.css("height","auto").removeClass(r),s=!1):(s||(i.addClass(r),s=!0),i.height(n))}function l(){o=i.height(),n()}e.on("opened",function(){l(),p.$window.on(t,u.default.throttle(n,20))}).on("close",function(){i.css("height","auto"),p.$window.off(t)}).on("update",l)},s.fadeOutOnComponentLoad=function(e){e.fadeOut(2e3)},s.autocomplete=function(o){var i=o.find(".autocomplete-field"),a=o.find(".autocomplete-target"),r=o.data();if(r.autocompleteUrl&&i.length&&a.length){var t,s=[],l=function(e){var t=e.title||e.name;return r.showIds&&(t+=" ["+e.id+"]"),t},c=function(e,t){return d.default.Event("autocomplete."+e,{autocomplete:t})};i.typeahead(),i.on("focus",function(){i.select()}),i.on("keypress",function(e){clearTimeout(t),t=setTimeout(function(){var e=i.val();if(3<=e.length){var t=o.data("autocomplete-url"),n={};n[r.paramName||"query"]=e,d.default.get(t,n).then(function(e){s=e,i.data("typeahead").source=e.map(l),e.length&&i.typeahead("lookup")})}},500)}),i.on("ta_select",function(e){var t,n=i.val();for(var o in s)if(t=s[o],l(t)===n)return a.val(t.id),a.trigger("change"),i.trigger(c("select",t)),void i.data("previous-value",n)}),i.on("blur",function(){setTimeout(function(){i.typeahead("hide"),""===i.val()?(a.val(""),a.trigger("change"),i.trigger(c("select",{id:null,title:null}))):i.val(i.data("previous-value"))},200)}),i.on("autocomplete.reset",function(){i.data("typeahead").source=[]}),i.data("previous-value",i.val()),u.default.defer(function(){i.trigger(c("ready",{id:a.val(),title:i.val()}))})}},s.hasPlaceholder=function(e){var t=e.data("placeholder");if(t){var n="placeholder",o=function(){""===e.val().trim()&&e.val(t).addClass(n)},i=function(){e.hasClass(n)&&e.val("").removeClass(n)};e.val()===t&&e.val(""),e.is(":focus")||e.is(":selected")||o(),e.on("focus select",i).on("blur",o),e.parents("form").on("submit",i)}},s.quadLimitWarning=function(t){function e(){var e=n.val().match(r);e&&5<=e.length?(i=!0,o?o.show():(o=(0,d.default)('<ul class="errorlist"><li>'+a+"</li></ul>"),t.append(o))):o&&i&&(i=!1,o.hide())}var n=t.find("textarea"),o=null,i=!1,a=t.data("quad-warning"),r=/\\qq?uad/g;n.on("keyup input",e),u.default.defer(e)},s.showAndHideContent=function(t){t.find(".btn").on("click",function(e){e.preventDefault(),t.nextAll("blockquote.hidden").first().toggleClass("show")})},s.preventDoubleClick=function(e){e.find("a,button").on("click",function(e){var t=(0,d.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},s.genericSignupModal=function(s){var l=(0,p.jqGetElemById)("signup-modal-generic");l.length&&(l.modal({show:!1}),s.on("click",function(e){e.preventDefault(),l.modal("show");var t=l.find(".public-signup-left");t.length&&!t.data("already-opened")&&(t.data("already-opened",!0),t.attr("data-already-opened",!0),(0,f.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1}));var n=l.find(".public-signup-right");if(n.length){var o="show-form",i="show-signup",a="show-login";s.data("show-login")?n.removeClass(o+" "+i).addClass(a):n.removeClass(o+" "+a).addClass(i)}var r=s.data("next");r&&(l.find(".btn-email").data("next",r),l.find(".signup-social").each(function(e,t){var n=t.href.split("?")[0],o="next=".concat(encodeURIComponent(r));(0,d.default)(t).attr("href","".concat(n,"?").concat(o))}));var c=(0,h.getParamsObject)()["from-course"];c&&(l.find(".btn-email").data("signup_course_slug",c),l.find(".signup-social").each(function(e,t){if(t.href.indexOf("from-course=")<0){var n=v(t.href.split("next="),2),o=n[0],i=n[1];i=decodeURIComponent(i);var a=v((i=(0,m.appendGetParam)(i,"from-course",c)).split("?"),2),r=a[0],s=a[1];s=encodeURIComponent("?".concat(s));var l="".concat(o,"next=").concat(r).concat(s);(0,d.default)(t).attr("href",l)}}))}))},s.selectAll=function(t){var e=t.data("parent")||null;(e?t.parents(e):t).on("click",function(e){t.select()})},s.hundredDayButton=function(e){setTimeout(function(){e.removeClass("wiggle-less")},5e3)},s.interceptClicks=function(e){var t=(0,p.jqCreateElem)("button");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100}),t.on("click",function(){window.location=e.data("target")}),e.children().append(t)},s.selectPlaceholder=function(e){if("SELECT"===e[0].tagName){var t=function(){e.toggleClass("not-selected",0===e[0].selectedIndex)};t(),e.on("change",t)}},s.keyboardNavigation=function(e){var t=e.key||"",n=e.guard||u.default.noop,o=e.left||u.default.noop,i=e.right||u.default.noop,a=["input","textarea"];(0,p.jqOffOn)(p.$body,"keydown.keynav".concat(t),function(e){e.metaKey||function(){var e=document.activeElement;return 0<=a.indexOf(e.tagName.toLowerCase())&&(!e.type||"button"!==e.type)&&(e.value&&e.value.length||(0,d.default)(e).parents(".CodeMirror").length)}()||!1===n()||(37===e.which?(e.preventDefault(),o()):39===e.which&&(e.preventDefault(),i()))})},s.isVisibleInContainer=function(e,t){if(!e.is(":visible"))return!1;var n=t[0]===window?0:t.offset().top,o=t.scrollTop(),i=o,a=i+t.height(),r=(t[0]===window?0:o)+e.offset().top-n,s=r+e.outerHeight();return r<=a&&i<=s},s.isInViewport=function(e){return s.isVisibleInContainer(e,p.$window)},s.deferImage=function(e){var t=e.data("src");t&&(0,i.onLoad)(function(){setTimeout(function(){e.on("load",function(){e.removeAttr("width"),e.removeAttr("height")}),e.prop("src",t)},1)})},s.showGenericModal=function(e,t){var n="";return n+='<div class="modal-header">',n+='<button type="button" class="close" data-dismiss="modal">&times;</button>',e&&(n+="<h3>".concat(e,"</h3>")),n+="</div>",n+='<div class="modal-body">',t&&(n+="<p>".concat(t,"</p>")),n+="</div>",n+='<div class="modal-footer">\n            <a href="#" class="btn btn-accent" data-dismiss="modal">Close</a>\n        </div>',(0,d.default)("body #auto-modal").remove(),(0,d.default)("body .modal-bg").remove(),(0,d.default)(".modal:visible").modal("hide"),(0,d.default)("body").append('<div class="modal hide" id="auto-modal">'.concat(n,"</div>")),(0,d.default)("body #auto-modal").modal()},s.getScrollHeight=function(e){return e.length?e[0].scrollHeight:null},(0,i.onDOMReady)(function(){p.isMobile||s.scrollFixedElements(),s.Anchors.init()}),s.clickableHover=function(e){var t="hover";e.on("mouseenter",function(){return e.addClass(t)}),e.on("mouseleave",function(){return e.removeClass(t)}),e.on("click",function(){return e.removeClass(t)})},e.exports=s},127:function(e,t,n){"use strict";var o;try{o="localStorage"in window&&null!==window.localStorage;var i="wafer-test",a="wafer-test-value";window.localStorage.setItem(i,a),window.localStorage.getItem(i)!==a&&(o=!1),window.localStorage.removeItem(i)}catch(e){o=!1}if(!o)var r={setItem:function(e,t,n){var o=!0===n?-1:30,i=new Date;i.setDate(i.getDate()+o),document.cookie=e+"="+escape(t)+"; expires="+i.toUTCString()},getItem:function(e){return-1!==document.cookie.indexOf(e+"=")&&unescape(document.cookie.split(e+"=")[1].split(";")[0].replace("=",""))},removeItem:function(e){this.setItem(e,"",!0)}};var s={_s:o?window.localStorage:r,get:function(e){var t=this._s.getItem(e);try{return JSON.parse(t)}catch(e){return t}},set:function(e,t){try{JSON.parse(t)}catch(e){t=JSON.stringify(t)}try{return this._s.setItem(e,t)}catch(e){return!1}},remove:function(e){return this._s.removeItem(e)}};e.exports=s},128:function(e,t,n){"use strict";var m=n(0),o=n(4),v=n(1),g={checkExpiration:function(e,t,n){var o=Date.now(),i=!!e.timestamp&&e.timestamp<=o-n;(!!localStorage[t+"_timestamp"]&&parseInt(localStorage[t+"_timestamp"])<=o-n||i)&&g.deleteItem(t)},setVal:function(s,l){s.length&&o.defer(function(){var e=s.find('textarea:not(.clone), input[type="text"]'),t=s.data(),n=t.autosaveField,o=!0===t.autosavePassive;if(!l){var i=t.autosaveKey,a=t.autosaveUser;i=a?a+"_"+i:i,l=localStorage[i]?JSON.parse(localStorage[i]):{}}if(!o){var r=l[n];r&&""===e.val().trim()&&(e.val(r),e.trigger(m.Event("input")))}})},save:function(e,t){try{localStorage[e]=t}catch(e){}},deleteItem:function(e){localStorage.removeItem(e),localStorage.removeItem(e+"_timestamp")},controller:function(e){if(!v.supports_local_storage)return!1;var n,t=e.parents("form"),o=e.find('textarea, input[type="text"]'),i=t.find(".autosave-submit"),a=e.data(),r=a.autosaveKey,s=a.autosaveHours,l=a.autosaveField,c=a.autosaveUser,d=a.autosaveHash,u={};r=c?c+"_"+r:r,localStorage[r]&&(u=JSON.parse(localStorage[r]));var f=60*s*60*1e3;g.checkExpiration(u,r,f),g.setVal(e,u);function p(){var e=m(this).val();if(u[l]!=e){u[l]=e,u.timestamp=Date.now(),d&&!u.hash&&(u.hash=d);var t=JSON.stringify(u);g.save(r,t),window.onbeforeunload=e!==n?function(){return"You have unsaved edits."}:null}}o.one("focus",function(){n=o.val(),localStorage[r]&&(u=JSON.parse(localStorage[r]))}),o.on("input",p),o.on("autosave.save",p);function h(){g.deleteItem(r),window.onbeforeunload=null}i.on("click",h),t.on("autosave.clear",h)},discardEdit:function(e){g.deleteItem(e),window.onbeforeunload=null},getEditHash:function(e){if(localStorage[e])return JSON.parse(localStorage[e]).hash}};e.exports=g},129:function(e,t,n){"use strict";var u=o(n(0)),f=o(n(4)),p=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var h={checkScrollPosition:function(e,t){var n=p.$window.scrollTop(),o=t&&t.top?t.top:10,i=t&&t.bottom?t.bottom:null,a=t&&t.stuckClass?t.stuckClass:"stuck",r=t&&t.stuckBottomClass?t.stuckBottomClass:"stuck-bottom",s=t&&t.handler?t.handler:null,l=o<n,c=!!(i&&i<n),d=e.hasClass(a);!l||c||d?!l&&d?e.removeClass(a):c?(e.removeClass(a),e.addClass(r)):c||e.removeClass(r):(e.addClass(a),e.removeClass(r)),s&&s(e,t)},stick:function(e,t){e.addClass("sticky"),t=t||{};var n,o,i=((t=f.default.extend(t,e.data())).$target&&t.$target.length?t.$target:e).offset().top,a=e.outerHeight(!0),r=(0,u.default)("#header").outerHeight(!0),s=t.bottom?t.bottom:null,l=t.forceBottom?t.forceBottom:null,c=t.handler?t.handler:null;t.namespace?n=t.namespace:e.attr("id")?n="sticky-"+e.attr("id"):window.btoa&&(n="sticky-"+window.btoa(e.text())),o=l||(s?s-a-r:null);function d(){h.checkScrollPosition(e,{top:i-r,bottom:o,handler:c})}(0,p.jqOffOn)(p.$window,"scroll.".concat(n," resize.").concat(n),f.default.throttle(d,16)),d()}};e.exports=h},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodexNotesDisplayHandlerAndroid=t.CodexNotesDisplayHandlerMobile=t.CodexNotesDisplayHandlerBase=t.CodexNoteEditor=void 0;var d=o(n(0)),u=o(n(4)),f=n(1),i=n(7),a=n(9),r=n(76);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var _=r.CODEX_LINE_HEIGHT;function b(e){return"btn codex-note-btn codex-note-".concat(e)}var w=function(){function o(e){var t=e.cm,n=e.$notesElement;v(this,o),this.cm=t,this.$notesElement=n,this.existingNoteButtons=[],this.readData(),this.renderNoteButtons(),this.bindEvents(),this.handleSecondaryInputs()}return y(o,[{key:"readData",value:function(){var t;try{t=JSON.parse(this.$notesElement.val())}catch(e){t={}}this.notes=t.notes||[],this.showIntro=t.show_intro||!1}},{key:"saveData",value:function(){var e={notes:this.notes};this.showIntro&&(e.show_intro=!0),this.$notesElement.val(JSON.stringify(e,null,2))}},{key:"saveNote",value:function(e,t){for(var n=[],o=[parseInt(t.startLine,10),parseInt(t.endLine,10)].sort(),i=o[0];n.push(i-1),++i<=o[1];);var a={expect_user_to_edit:t.expect_user_to_edit,content:t.content,lines:n};t.show_on_solvable_id&&(a.show_on_solvable_id=parseInt(t.show_on_solvable_id,10));var r=parseInt(t.noteNumber,10);e!==r?(this.notes.splice(e-1,1),this.notes.splice(r-1,0,a)):this.notes.splice(t.noteNumber-1,1,a),this.saveData(),this.renderNoteButtons()}},{key:"deleteNote",value:function(e){this.notes.splice(e-1,1),this.saveData(),this.renderNoteButtons()}},{key:"renderNoteButtons",value:function(){var o=this,i=(0,d.default)(document.createElement("button"));i.addClass(b("edit")),i.css({width:18}),this.existingNoteButtons.forEach(function(e){return e.remove()}),this.existingNoteButtons=[],this.notesPerLine={},this.notes.forEach(function(t,n){var e=i.clone();e.text("".concat(n+1)),e.on("click",function(e){e.preventDefault(),o.showNoteEditModal(t,n+1)}),o.cm.addWidget({line:t.lines[0],ch:0},e[0],!1);e.css(o.getButtonStylesForLineSet(t.lines,22)),o.existingNoteButtons.push(e),t.lines.forEach(function(e){o.notesPerLine[e]=o.notesPerLine[e]||0,o.notesPerLine[e]++})})}},{key:"bindEvents",value:function(){var i=this,a=(0,d.default)(document.createElement("button"));a.addClass("".concat(b("add")," btn-accent")),a.text("+"),this.cm.on("cursorActivity",function(){for(var e=i.cm.doc.listSelections()[0],t=[e.anchor.line,e.head.line].sort(),n=[],o=t[0];n.push(o),++o<=t[1];);(0,f.jqOffOn)(a,"click",function(e){e.preventDefault(),i.showNoteEditModal({lines:n})}),a.css(i.getButtonStylesForLineSet(n));i.cm.addWidget({line:n[0],ch:0},a[0],!0)})}},{key:"handleSecondaryInputs",value:function(){var e=this,t=(0,f.jqGetElemById)("codex-notes-show-intro");t.on("change",function(){e.showIntro=t.prop("checked"),e.saveData()}),t.prop("checked",this.showIntro)}},{key:"showNoteEditModal",value:function(e,t){var n=this;this.template=this.template||u.default.template((0,f.jqGetElemById)("codex-note-edit-modal").text());var o=this.notes.length+1,a=t||o,i={show_on_solvable_id:"",expect_user_to_edit:!1,content:"",isEditing:e.content&&0<e.content.length,startLine:e.lines[0]+1,endLine:e.lines[e.lines.length-1]+1,maxLineNumber:this.cm.getValue().split("\n").length,editorId:Math.floor(1e3*Math.random()),noteNumber:a,maxNoteNumber:o},r=Object.assign({},i,e);r.content=r.content.replace(/\\n/g,"\n");var s=(0,d.default)(document.createElement("div"));s.html(this.template(r));var l=s.children(".modal");l.find(".btn-delete").on("click",function(e){e.preventDefault(),n.deleteNote(a),l.modal("hide")});var c=l.find("form");c.on("submit",function(e){e.preventDefault();var i={};c.find("input,textarea").each(function(e,t){var n=t.name,o=t.value;"checkbox"===t.type&&(o=t.checked),i[n]=o}),n.saveNote(a,i),l.modal("hide")}),l.appendTo(document.body),l.modal(),c.find(":input:first").focus()}},{key:"getButtonStylesForLineSet",value:function(e,t){var o=this,n=1<arguments.length&&void 0!==t?t:0,i=e.reduce(function(e,t){var n=o.notesPerLine[t];return e<n?n:e},0);return{right:18*i+4*i+n,width:18,height:e.length*_}}}]),o}();t.CodexNoteEditor=w;var k="codex-notes-active",C=".codex-notes-next",x="codex_viewed_note_item",E=function(){function o(e){var t=e.state,n=e.$container;v(this,o),this.cm=t.cm,this.initialValues={code:t.initialCode,language:t.initialLanguage},this.$container=n,this.$notesWrapper=n.find(".codex-notes"),this.$notesWrapper.length&&(this.$notes=this.$notesWrapper.find(".note,.note-placeholder"),this.$language=n.find("[name=language]"),this.$disableElements=n.find(".disable-during-notes"),this.$showNotesButton=this.$container.find(".codex-show-notes"),this.currentNote=-1,this.numNotes=this.$notes.length,this.existingHighlights=[],this.isShowingNotes=!1,this.isAnimated=!0,this.readNoteData(),this.bindEvents())}return y(o,[{key:"run",value:function(){this.userHidNotes||(this.userNeedsIntro?this.showIntro():(this.$notesIntro=null,this.showNotes()))}},{key:"trackNoteAction",value:function(e){var t={action:e};e===x&&(t=Object.assign({},t,{step_position:this.currentNote+1,is_first_step:0===this.currentNote,is_last_step:this.currentNote===this.numNotes-1,triggered_by:a.INTERACTION_TYPES.PREV_NEXT_BUTTON})),(0,i.track)("ui",t)}},{key:"readNoteData",value:function(){var i=this,t=this.$container.data(),e={};window.__brilliantData__&&(e=window.__brilliantData__.codex_records.find(function(e){return e.codex_env_id===t.codexEnvId})),this.userNeedsIntro=t.showNotesIntro,this.codexUpdateUrl=e.codex_update_url||t.codexUpdateUrl,this.userHidNotes=e.user_hid_notes||t.notesUserHid,this.largestViewedNoteNumber=e.largest_viewed_note_number||t.notesLargestViewed,this.notes=[],this.$notes.each(function(e,t){var n=(0,d.default)(t),o=n.data();i.notes.push(Object.assign({$note:n},o)),o.currentNote&&!i.userHidNotes&&(i.currentNote=e-1)})}},{key:"bindEvents",value:function(){var t=this;this.$notesWrapper.find(C).on("click",function(e){e.preventDefault(),t.nextNote()}),this.$showNotesButton.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.$showNotesButton.blur(),t.isShowingNotes?(t.currentNote--,t.hideNotes()):t.showNotes()})}},{key:"showNotes",value:function(){this.userValues={code:this.cm.getValue(),language:this.$language.val()},(0,d.default)(document.body).addClass(k),this.$container.removeClass("expanded"),this.cm.setValue(this.initialValues.code),this.$language.val(this.initialValues.language),this.$disableElements.prop("disabled",!0),this.$showNotesButton.addClass(a.CLASS_NAME_ACTIVE),this.cm.setOption("readOnly",!0),this.$notesWrapper.removeClass(a.CLASS_NAME_HIDE),this.isShowingNotes=!0,this.trackNoteAction("codex_viewed_notes"),this.nextNote()}},{key:"showIntro",value:function(){var t=this;(0,d.default)(document.body).addClass(k),this.$container.removeClass("expanded");var n=this.$container.find(".codex-notes-intro");n.removeClass(a.CLASS_NAME_HIDE).addClass(a.CLASS_NAME_ANIM_IN),n.find(C).on("click",function(e){e.preventDefault(),e.stopPropagation(),n.on("transitionend",function(){n.remove(),t.showNotes()}),n.removeClass(a.CLASS_NAME_ANIM_IN)}),this.userNeedsIntro=!1,this.isShowingNotes=!0,this.trackNoteAction("codex_viewed_intro")}},{key:"baseHideNotes",value:function(){var e=this;this.clearHighlights(),this.cm.setOption("readOnly",!1),this.$disableElements.prop("disabled",!1),this.$showNotesButton.removeClass(a.CLASS_NAME_ACTIVE),this.cm.setValue(this.userValues.code),this.$language.val(this.userValues.language),this.userValues={},this.updateCodexRecord({user_hid_notes:!0}),this.userHidNotes=!0,this.isShowingNotes=!1,this.trackNoteAction("codex_hid_notes");function t(){e.$notesWrapper.addClass(a.CLASS_NAME_HIDE),(0,d.default)(document.body).removeClass(k)}this.isAnimated?(this.$notesWrapper.one("transitionend",t),this.$notesWrapper.removeClass(a.CLASS_NAME_ANIM_IN)):t()}},{key:"hideNotes",value:function(){this.baseHideNotes()}},{key:"baseNextNote",value:function(){var n=this;if(this.currentNote++,this.currentNote===this.numNotes)this.currentNote=-1,this.hideNotes();else{var e=function(){var e=n.$notes.eq(n.currentNote);n.$notes.removeClass(a.CLASS_NAME_ACTIVE),e.addClass(a.CLASS_NAME_ACTIVE),n.highlightLines(e.data("lines")),n.positionNote(e),n.$notesWrapper.addClass(a.CLASS_NAME_ANIM_IN);var t=n.currentNote+1;n.updateCodexRecord({largest_viewed_note_number:t}),n.largestViewedNoteNumber=Math.max(n.largestViewedNoteNumber,t)};this.isAnimated&&this.$notesWrapper.hasClass(a.CLASS_NAME_ANIM_IN)?(this.$notesWrapper.one("transitionend",e),this.$notesWrapper.removeClass(a.CLASS_NAME_ANIM_IN)):e(),this.trackNoteAction(x)}}},{key:"nextNote",value:function(){this.baseNextNote()}},{key:"updateCodexRecord",value:function(e){this.codexUpdateUrl&&this.validateCodexRecordAttrs(e)&&d.default.ajax({url:this.codexUpdateUrl,type:"POST",data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"validateCodexRecordAttrs",value:function(e){return!(e.largest_viewed_note_number&&e.largest_viewed_note_number<=this.largestViewedNoteNumber)&&(!0!==e.user_hid_notes||!0!==this.userHidNotes)}},{key:"clearHighlights",value:function(){this.existingHighlights.forEach(function(e){return e.remove()}),this.existingHighlights=[]}},{key:"highlightLines",value:function(o){var i=this,a=(0,d.default)(document.createElement("span"));a.addClass("codex-line-highlight"),a.css({height:r.CODEX_LINE_HEIGHT}),this.clearHighlights(),o.forEach(function(e,t){var n=a.clone();0===t&&n.addClass("top"),t===o.length-1&&n.addClass("bottom");i.cm.addWidget({line:e,ch:0},n[0],!0),n.css({top:parseInt(n.css("top"),10)-r.CODEX_LINE_HEIGHT}),i.existingHighlights.push(n)})}},{key:"positionNote",value:function(e){if(!f.isMobile){var t=parseInt(this.existingHighlights[0].css("top"),10)+r.CODEX_LINE_HEIGHT*this.existingHighlights.length/2,n=e.outerHeight(),o=this.$container.find("header").outerHeight(),i=this.$container.find(".codex-form").outerHeight()-n-4,a=t-n/2+o-this.$container.find(".CodeMirror-scroll").scrollTop();a=Math.min(Math.max(4,a),i),this.$notesWrapper.css({top:a})}}}]),o}();t.CodexNotesDisplayHandlerBase=E;var I=function(){function e(){return v(this,e),l(this,p(e).apply(this,arguments))}return h(e,E),y(e,[{key:"nextNote",value:function(){var s=this;this.baseNextNote(),this.isShowingNotes&&setTimeout(function(){var e=(0,d.default)(s.$notes[s.currentNote]),t=s.$container.offset().top-e.outerHeight(),n=f.$window.scrollTop(),o=t<n,i=s.$container.offset().top-n,a=s.$container.find(".codex-form").outerHeight(),r=f.$window.height();(o||0<i+a-r)&&(0,f.setScrollPosition)(t)},1)}}]),e}();t.CodexNotesDisplayHandlerMobile=I;var T={};var S=function(){function i(e){var t,n=e.state,o=e.$container;return v(this,i),(t=l(this,p(i).call(this,{state:n,$container:o}))).isAnimated=!1,t.envId=o.data("codex-env-id"),T[t.envId]=c(t),window.Android||(window.Android={}),window.Android.codexTappedNext||(window.Android.codexTappedNext=function(e){var t=T[e];t&&t.nextNote()}),t}return h(i,E),y(i,[{key:"hideNotes",value:function(){this.baseHideNotes();try{window.Android.codexHideNotes(this.envId)}catch(e){throw new Error("Bridge function unavailable: codexHideNotes")}}},{key:"nextNote",value:function(){this.baseNextNote();try{window.Android.codexShowNote(this.envId,this.currentNote)}catch(e){throw new Error("Bridge function unavailable: codexShowNote")}}}]),i}();t.CodexNotesDisplayHandlerAndroid=S},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodexDeemphasizer=t.CodexDeemphasizerEditor=void 0;var o,l=(o=n(0))&&o.__esModule?o:{default:o},c=n(341),s=n(76);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e){return e.map(function(e){return Object.assign({},e)})}function f(e){var t=e.deemphasizeInfo,n=e.initial,o=e.current,i=u(t),a=0,r=0,s=(0,c.diffLines)(n,o);return s.forEach(function(e,t){var n=e.value.split("\n").length-1;if(e.removed&&(n*=-1),e.added)n+=r;else if(e.removed&&s[t+1]&&s[t+1].added)return void(r=n);(e.added||e.removed)&&i.forEach(function(e){e.start>=a&&(e.start+=n),e.end>=a&&(e.end+=n)}),a+=n-r,r=0}),i}function p(e){var i=e.cm,t=e.existingSections,n=e.deemphasizeInfo,o=e.className,a=t.slice(0,t.length);if(a.forEach(function(e){return e.remove()}),a=[],n.length){var r=(0,l.default)("<div/>");r.addClass(o),r.css({height:s.CODEX_LINE_HEIGHT}),n.forEach(function(e,t){for(var n=e.start;n<=e.end;){var o=r.clone();o.attr("data-index",t),o.css({marginTop:-s.CODEX_LINE_HEIGHT}),i.addWidget({line:n,ch:0},o[0],!1),e.prevent_click&&o.addClass("prevent-click"),a.push(o),n++}})}return a}var h="&#128077;",r=function(){return"\n        <thead>\n            <tr>\n                <th>Line start</th>\n                <th>Line end</th>\n                <th>Prevent click?</th>\n                <th>Valid?</th>\n                <th>&nbsp;</th>\n            </tr>\n        </thead>\n    "},m=function(e){var t=e.index,n=e.data,o=e.numLines;return'\n        <tr data-index="'.concat(t,'">\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(o,'"\n                    value="').concat(n.start,'"\n                    data-name="start">\n            </td>\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(o,'"\n                    value="').concat(n.end,'"\n                    data-name="end">\n            </td>\n            <td class="checkbox">\n                <input type="checkbox"\n                    ').concat(n.prevent_click?"checked":"",'\n                    data-name="prevent_click">\n            </td>\n            <td class="error">\n                ').concat(0<n.start&&0<n.end?h:"&hellip;",'\n            </td>\n            <td class="remove">\n                <span class="remove-row css-sprite-global" data-index="').concat(t,'"></span>\n            </td>\n        </tr>\n    ')},v=function(){return'<span class="btn add-row">Add de-emphasized section</span>'},g=function(){function i(e){var t=e.cm,n=e.$deemphasizeField,o=e.$deemphasizeContainer;d(this,i),this.cm=t,this.$deemphasizeField=n,this.$deemphasizeContainer=o,this.initialCode=this.cm.getValue(),this.existingSections=[],this.readData(),this.renderFields(),this.renderCodexAnnotations(),this.bindCodeMirrorEvents()}return a(i,[{key:"readData",value:function(){try{this.data=JSON.parse(this.$deemphasizeField.val())}catch(e){this.data={}}this.deemphasizeInfo=this.data.deemphasizeInfo||[]}},{key:"saveData",value:function(){var t=this,e=this.deemphasizeInfo.filter(function(e){return t.validateInfoItem(e).success}).map(function(e){return Object.assign({prevent_click:!0===e.prevent_click},e)}),n={};e.length&&(n.deemphasizeInfo=e),this.$deemphasizeField.val(JSON.stringify(n,null,2))}},{key:"renderFields",value:function(){var n=this;if(this.$deemphasizeContainer.empty(),this.deemphasizeInfo.length){var e=(0,l.default)("<table/>"),o=(0,l.default)("<tbody/>");e.append(r()),e.append(o),this.deemphasizeInfo.forEach(function(e,t){o.append(m({index:t,data:{start:""===e.start?"":e.start+1,end:""===e.end?"":e.end+1,prevent_click:e.prevent_click},numLines:n.getNumLines()}))}),this.$deemphasizeContainer.append(e)}this.$deemphasizeContainer.append(v()),this.bindFieldsEvents()}},{key:"renderCodexAnnotations",value:function(){this.existingSections=p({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:"codex-deemphasize-highlight-admin"})}},{key:"bindFieldsEvents",value:function(){var s=this;this.$deemphasizeContainer.find(".add-row").on("click",function(){s.deemphasizeInfo.push({start:"",end:"",prevent_click:!1}),s.renderFields()}),this.$deemphasizeContainer.find(".remove-row").on("click",function(e){s.deemphasizeInfo.splice((0,l.default)(e.target).data("index"),1),s.renderFields(),s.renderCodexAnnotations(),s.saveData()}),this.$deemphasizeContainer.find("input").on("input",function(e){var t=(0,l.default)(e.target).parents("tr"),n=t.find("input"),o=t.data("index"),a={};n.each(function(e,t){var n,o=(0,l.default)(t),i=o.prop("type");switch(i){case"number":n=parseInt(o.val(),10)-1,Number.isNaN(n)&&(n=null);break;case"checkbox":n=o.prop("checked");break;default:throw new Error("Unexpected input type: ".concat(i))}a[o.data("name")]=n});var i=s.validateInfoItem(a),r=t.find(".error");i.success?(r.html(h),s.deemphasizeInfo[o]=a,s.renderCodexAnnotations(),s.saveData()):r.html("".concat("&#128577;"," ").concat(i.error))})}},{key:"bindCodeMirrorEvents",value:function(){var t=this;this.cm.on("change",function(){var e=t.cm.getValue();t.deemphasizeInfo=f({deemphasizeInfo:t.deemphasizeInfo,initial:t.initialCode,current:e}),t.initialCode=e,t.renderFields(),t.renderCodexAnnotations(),t.saveData()})}},{key:"getNumLines",value:function(){return this.cm.getValue().split("\n").length}},{key:"validateInfoItem",value:function(e){var t=this.getNumLines(),n=!1,o=null;return"number"!=typeof e.start?o="Start is not a number":"number"!=typeof e.end?o="End is not a number":e.start<0||e.end<0?o="Start and end must be greater than 0":e.start>=t||e.end>=t?o="Start and end must be less than ".concat(t):e.start>e.end?o="Start is greater than end":n=!0,{success:n,error:o}}}]),i}();t.CodexDeemphasizerEditor=g;var y={},_=function(){function r(e){var t=e.cm,n=e.data,o=e.envId,i=e.initialCode;d(this,r),this.cm=t,this.envId=o;var a=y[o]||{};this.deemphasizeInfo=a.current||n.deemphasizeInfo||[],this.initialDeemphasizeInfo=a.initial||u(this.deemphasizeInfo),this.initialCode=i,this.existingSections=[],this.deemphasizeClassName="codex-deemphasize-highlight",this.updateData(),this.render(),this.bindCodeMirrorEvents(),this.bindDeemphasizeEvents()}return a(r,[{key:"render",value:function(){this.existingSections=p({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:this.deemphasizeClassName})}},{key:"bindCodeMirrorEvents",value:function(){var i=this;this.cm.on("change",function(){i.updateData(),i.render(),i.bindDeemphasizeEvents()}),this.cm.on("beforeChange",function(e,t){if(!i.cm.brilliant.isEditing)for(var n=0;n<i.deemphasizeInfo.length;n++){var o=i.deemphasizeInfo[n];if(t.from.line>=o.start&&t.from.line<=o.end){t.cancel();break}}})}},{key:"bindDeemphasizeEvents",value:function(){var t=this;if(this.existingSections.length){var n="hover",e=this.existingSections[0],o=e.add(e.siblings(".".concat(this.deemphasizeClassName)));o.on("mouseenter",function(e){var t=(0,l.default)(e.target);o.removeClass(n),o.filter("[data-index=".concat(t.data("index"),"]")).addClass(n)}),o.on("mouseleave",function(){return o.removeClass(n)}),o.filter(":not(.prevent-click)").on("click",function(e){t.removeInfoItem((0,l.default)(e.target).data("index")),t.render(),t.bindDeemphasizeEvents()})}}},{key:"removeInfoItem",value:function(e){this.deemphasizeInfo.splice(e,1),this.initialDeemphasizeInfo.splice(e,1),y[this.envId]={initial:u(this.initialDeemphasizeInfo),current:u(this.deemphasizeInfo)}}},{key:"updateData",value:function(){this.deemphasizeInfo=f({deemphasizeInfo:u(this.initialDeemphasizeInfo),initial:this.initialCode,current:this.cm.getValue()})}}]),r}();t.CodexDeemphasizer=_},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedContext=function(e){a[e]||(a[e]=new r);return a[e]};var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(75));function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a={},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=null,this.$output=null}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"applyContext",value:function(e,t){if(this.value&&(i.setValue(t,this.value),e.find(".codex-textarea textarea").val(this.value)),this.$output){var n=e.find(".codex-output");n.length?n.replaceWith(this.$output):e.append(this.$output)}else{var o=e.find(".codex-output");o.length&&(this.$output=o.clone())}}},{key:"setValue",value:function(e){this.value=e}},{key:"clearOutput",value:function(){this.$output=null}}]),e}()},134:function(e,t,n){"use strict";var p=i(n(0)),h=i(n(4)),l=i(n(28)),r=n(7),o=i(n(35)),m=n(1),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(34)),c=n(11),v=n(9),g=n(31),s=n(176),d=n(17);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(501);function f(e){(0,r.track)("payment timeout error",{step:e})}var y,_={},b=null;_.SellPage=new function(){return this.controller=function(e){var t=(0,m.jqGetElemById)("subscription-info-modal").detach();t.length&&e.find(".learn-more").on("click",function(e){e.preventDefault(),t.clone().modal()})},this},_.bulkPricing=function(e){e.find(".bulk-pricing-trigger").on("click",function(){e.toggleClass("expanded")})},_.giftPersonalizationForm=function(t){var e=t.find(".plan-category input"),n=t.find(".auto-renew-note"),o=t.find(".learn-more"),i=(0,m.jqGetElemById)("recurring-gift-explanatory-modal"),a=i.find(".make-recurring"),r=i.find(".make-one-time"),s=u(e).map(function(e){return e.value}).join(" ");e.on("change",function(e){var t=e.target.value;n.removeClass(s).addClass(t)}),o.on("click",function(){i.modal("show"),h.default.defer(function(){i.parents(".modal-bg").off("click")})}),a.on("click",function(){(0,p.default)('input[name="plan_category"][value="recurring"]').trigger("click")}),r.on("click",function(){(0,p.default)('input[name="plan_category"][value="onetime"]').trigger("click")}),t.find("input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),t.find('[type="submit"]').trigger("click"))})},_.giftPayment=function(e){b=e.data("gift-message-id")},_.giftDatepicker=function(e){var t={maxViewMode:0,minViewMode:"days",startView:0,clearBtn:!1,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};e.datepicker(h.default.extend({},t,e.data())),e.on("changeDate",function(e){var t=e.date.getFullYear(),n=e.date.getMonth()+1,o=e.date.getDate();(0,m.jqGetElemById)("gift-date-text").text("".concat(t,"/").concat(n,"/").concat(o)),(0,m.jqGetElemById)("id_delivery_date_year").val(t),(0,m.jqGetElemById)("id_delivery_date_month").val(n),(0,m.jqGetElemById)("id_delivery_date_day").val(o),(0,m.jqGetElemById)("gift-date-dropdown").find(".dropdown-toggle").dropdown("toggle")})},_.giftSubscriptionHandler=function(e){e.success?window.location.href=e.gift_purchase.show_url:(0,g.showStandardErrorModal)()},_.giftShowPurchasePage=function(e){var o=e.find("form"),n=(0,m.jqGetElemById)("paywall-gift-modal").modal({show:!1});e.find(".print-btn").on("click",function(){window.print()}),e.find(".edit-btn").on("click",function(){n.modal("show")}),e.find('.opt-in input[type="checkbox"]').on("change",function(e){var t=e.target;if(!t.disabled){var n=(0,p.default)(t),o=n.data("url");t.disabled=!0,p.default.post(o).done(function(e){!0===e.success?n.data("url",e.new_url):(0,g.showStandardErrorModal)()}).fail(function(){n.prop("checked",!n.prop("checked")),(0,g.showStandardErrorModal)()}).always(function(){t.disabled=!1})}}),(0,m.jqOffOn)(o,"submit",function(e){e.preventDefault();var t={};o.find(":input").each(function(){this.name&&(t[this.name]=this.value)}),o.find(".errorlist").hide(),p.default.post(o.prop("action"),t).fail(g.errorModalHandler).then(function(e){e.success?(n.modal("hide"),(0,m.jqGetElemById)("gift-message").text(e.message)):e.errors&&h.default.each(e.errors,function(e,t){var n=e.map(function(e){return"<li>"+e+"</li>"}).join("");o.find("#error-"+t).html(n).show()})})})},_.paywallCourses=function(t){var n=t.find(".btn-group .btn");n.on("click",function(){var e=(0,p.default)(this);e.hasClass("active")||(n.toggleClass("active"),t.toggleClass("practice"),(0,r.track)("ui",{element_id:"clicked_paywall_courses_tab",tab_name:e.data("ax-tab"),action:"click"}))})},_.setFeaturesScroll=function(e){e.scrollLeft(e[0].scrollWidth)},_.Checkout={};function w(e,t,n){var o=(0,m.jqGetElemById)("paid-subscribe").data(),i=o.url,a={plan:y.plan,stripeToken:e.id},r={url:i,data:a,type:"POST",timeout:6e4};b&&(a.gift_message_id=b),x()&&(r.url=(0,m.jqGetElemById)("inr-one-time-card-payment").data("url"),r.data.order_id=y.paytmOrderId,r.data.amount=y.amount),E()&&!b&&(r.url=(0,m.jqGetElemById)("stripe-one-time-payment").data("url"),r.data.payment_plan_id=y.paymentPlanId||y.plan,r.data.amount=y.amount);var s=p.default.ajax(r);if(!0===n)return s;s.then(function(e){if(o.callback)_[o.callback](e);else{var t=(0,p.default)(document.createElement("div")).append(e);m.$body.append(t),(0,d.initGenericControllers)(t)}}).fail(function(e){"timeout"===e.statusText&&(l.default.captureMessage("stripeTokenHandler: timeout error"),f("Sending token to backend")),(0,g.errorModalHandler)(e)}),null!==C&&((x()||E())&&(0,p.default)(".payment-options-modal").find(".close").trigger("click"),C.modal("show"))}var k,C=null,x=function(){return void 0!==y.paytmOrderId},E=function(){return void 0!==y.paymentPlanId||"lifetime"===y.planType},I=!1,T=!1,S=null;function O(e){var t=e.data();e.removeClass("disabled").removeAttr("disabled").data("ax-id",t.loadedAxId).attr("data-ax-id",t.loadedAxId),(0,m.jqOffOn)(e,"click.checkout",function(e){e.preventDefault(),A(S,t)})}_.Checkout.trigger=function(e){I?T||O(e):(m.$body.on("checkout.preloadDone",function(){O(e)}),m.$body.on("checkout.preloadFailed",function(){})),e.filter(".disabled").on("click.checkout",function(e){e.preventDefault(),(k=k||(0,m.jqGetElemById)("checkout-loading-modal")).modal(),k.parent(".modal-bg").css("z-index",1042)})};var j,q,P=(q=j=!1,function(){if(!q){q=!0;var t=(0,m.jqGetElemById)("stripe-checkout-data").data();if(t&&(t.giftSubscription||!m.isBrilliantPro&&!t.useCustomForm))var n=0,o=setInterval(function(){if(n++,"StripeCheckout"in window){if(clearInterval(o),null===S){var e={key:t.key,image:t.image,email:t.email||null,token:w,opened:function(){(0,r.track)("ui",{element_id:"stripe_checkout_modal_opened"})},closed:function(){(0,r.track)("ui",{element_id:"stripe_checkout_modal_closed"})}};t.panelLabel&&(e.panelLabel=t.panelLabel),S=StripeCheckout.configure(e)}I=!0,m.$body.trigger(p.default.Event("checkout.preloadDone"))}else 75===n&&(clearInterval(o),T=I=!0,m.$body.trigger(p.default.Event("checkout.preloadFailed")),j||(j=!0,(0,m.jqGetElemById)("sellpage-wrapper").length&&(l.default.captureMessage("Paid.Checkout.trigger: poll timeout waiting for StripeCheckout."),f("Loading checkout.js"))))},200)}}),A=function(e,t){var n=function(e){var t=h.default.extend({},e);return["controller","controllerInited","loadedAxId","axId","axType","majorAmount","ax_active"].forEach(function(e){delete t[e]}),t.name=t.name.replace("^2"," Premium").replace("[USD]","").trim(),t}(t);y=h.default.extend({},n),delete n.plan,delete n.planType,e.open(n)};_.Checkout.preload=function(){P()},_.Checkout.response=function(e){function t(){o.showAppleWarning&&(0,m.jqGetElemById)("existing-apple-subscription-warning").modal(),"annual_pro"===y.planType&&m.isBrilliantPremium&&r.prop("href",r.data("href-alt")),e.addClass("loaded success"),i=r.prop("href")}var n,o=e.data(),i=window.location.href,a=0,r=(0,m.jqGetElemById)("paid-status-success-btn");o.success&&o.displaySuccess?t():o.success?n=setInterval(function(){p.default.get(o.url,{s:o.subscription}).then(function(e){"active"===e&&(t(),clearInterval(n))}).fail(function(e){clearInterval(n),(0,g.errorModalHandler)(e)}),60<=++a&&(e.addClass("loaded error"),clearInterval(n),l.default.captureMessage("Paid.Checkout.response: timeout error"),f("Checkout subscription status"))},1e3):e.addClass("loaded error"),null!==C&&C.modal("hide"),e.modal(),e.on("hide",function(){m.$body.addClass("disabled"),window.location.href=i})},_.Checkout.prestatus=function(e){e.modal({show:!1}),e.on("show",function(){(0,p.default)(".sell-page.visible").removeClass("visible")}),C=e};var N,D,M,$,L=(N=null,D=!1,M=h.default.template('<ul class="errorlist"><%= list %></ul>'),$=h.default.template("<li><%- message %></li>"),function(e){if(e.preventDefault(),(0,p.default)(this),D)z(0,"complete");else{if(null===N){if(!(N=(0,m.jqGetElemById)("paid-cancel-survey")).length)return void(0,g.showStandardErrorModal)();N.on("submit",function(e){e.preventDefault(),p.default.post(N.attr("action"),N.serialize()).fail(g.errorModalHandler).then(function(e){if(e.success)D=!0,N.modal("hide"),z(0,"complete");else{(0,m.setScrollPosition)(0,{$container:N.parent()});var t=[];for(var n in e.errors)t.push(e.errors[n][0]);var o=t.map(function(e){return $({message:e})}).join("");h.default.defer(function(){N.find(".errorlist").remove(),N.find(".modal-body").prepend(M({list:o}))})}})})}z(0,"beforeshown"),N.modal()}});function z(e,t){return m.$window.trigger(p.default.Event("survey.".concat(t)))}_.Payment={};function B(e){p.default.get(e.url,e).then(function(){m.$body.addClass("disabled"),window.location.reload()}).fail(g.errorModalHandler)}var U,G,F,R=null,H=null;function V(e){return(e=e.toString())<10?"0"+e:e}function W(e,t,n,o){var i=Math.round((new Date).getTime()/1e3)-e,a=t-i;if(0<i||o){a<0&&(a=0);var r=~~(a/86400),s=~~(a%86400/3600),l=~~(a%3600/60),c=a%60,d=n({days:r,hours:0<r?V(s):s,minutes:V(l),seconds:V(c)});d!==F&&(U.text(d),F=d)}return a}function K(n){return n=n||null,function(e,t){t=t||{},n&&(e+="_"+n),(0,r.track)("ui",h.default.extend({},{element_type:"button",element_id:e,path:window.location.pathname,full_path:window.location.pathname+window.location.search},t))}}function X(){return 0<window.location.search.indexOf("pro=")}_.Payment.cancellationModalTrigger=function(t){t.on("click",function(e){e.preventDefault(),t.hasClass("disabled")||((H=t.data()).force?B(H):null!==R&&R.modal("show"))})},_.Payment.cancelModal=function(e){(R=e.clone(!0)).modal({show:!1}),R.find("#paid-cancel").on("click",function(e){var t=(0,m.jqGetElemById)("payment-switch-plan-modal").clone(!0),n=e.currentTarget;t.length?(R.modal("hide"),t.find(".cancel-link").on("click",function(){L.call(n,e)}),t.addClass("canceling"),t.modal()):(R.modal("hide"),L.call(n,e))}),m.$window.on("survey.complete",function(){if((0,m.jqGetElemById)("acct-settings-subscription").find(".cancel a").addClass("disabled"),H.isPaytm){var e=(0,m.jqGetElemById)("cancel-confirm-".concat(H.id));e.modal("show"),e.find("#confirm-btn").on("click",function(){B(H)})}else null!==H&&B(H)})},_.Payment.Renew=function(t){t.on("click",function(e){e.preventDefault(),t.addClass(v.CLASS_NAME_DISABLED),m.$body.addClass(v.CLASS_NAME_DISABLED),p.default.get((0,p.default)(e.currentTarget).attr("href")).then(function(){return window.location.reload()}).fail(g.errorModalHandler).fail(function(){return m.$body.removeClass(v.CLASS_NAME_DISABLED)})})},_.Payment.UpdateCard=function(f){f.on("click",function(e){if(!f.hasClass(v.CLASS_NAME_DISABLED)){var n=(0,m.jqGetElemById)("card-info"),o=n.find(".spinner"),t=(0,p.default)(e.target).data(),i=t.key,a=t.image,r=t.email,s=t.name,l=t.url,c=t.buttonLabel,d={key:i,image:a,name:s,url:l,email:r||null,allowRememberMe:!1},u=Object.assign({panelLabel:c,token:function(t){var e="visible";f.addClass(v.CLASS_NAME_DISABLED),o.addClass(e),p.default.post(l,{stripeToken:t.id}).then(function(){["last4","exp_month","exp_year"].forEach(function(e){n.find(".".concat(e)).text(t.card[e])}),f.removeClass(v.CLASS_NAME_DISABLED),o.removeClass(e)}).fail(g.errorModalHandler)},closed:function(){f.removeClass(v.CLASS_NAME_DISABLED)}},d);f.addClass(v.CLASS_NAME_DISABLED),StripeCheckout.configure(u).open(d)}})},_.switchPlanModal=function(e){e.on("click",function(){(0,m.jqGetElemById)("payment-switch-plan-modal").clone(!0).modal()})},_.redeemPremiumPerk=function(o){o.on("submit",function(e){e.preventDefault(),o.find("button").prop("disabled",!0);var t=o.data(),n={perk_type:t.perkType};p.default.post(o.prop("action"),n).fail(g.showStandardErrorModal).then(function(e){!0===e.success?t.nextUrl?window.location.href=t.nextUrl:(o.parents(".modal").modal("hide"),(0,m.jqGetElemById)("perk-modal-trigger").addClass(v.CLASS_NAME_ACTIVE)):(0,g.showStandardErrorModal)()})})},_.couponCountdown=(F=G=U=null,function(e){var t=h.default.template(e.data("template")),n=e.data("seconds"),o=Math.round((new Date).getTime()/1e3);U=null===U?e:U.add(e),h.default.defer(function(){W(o,n,t,!0),U.removeClass("hide")}),null===G&&(G=setInterval(function(){W(o,n,t)<=0&&(clearInterval(G),U.parents(".hdr-coupon").remove())},250))}),_.Paytm={},_.Paytm.loadPaymentForm=function(o){o.on("click",function(e){e.preventDefault();var n=(0,m.jqCreateElem)("div").addClass("sell-page-preload sell-page").html('<div><span class="spinner"></span></div>').appendTo(m.$body),t=o.data("plan-url");p.default.get(t).then(function(e){var t=(0,m.jqCreateElem)("div").html(e);m.$body.append(t),h.default.defer(function(){n.remove()}),(0,r.setAnalyticsEvents)(t),(0,d.initGenericControllers)(t),t.find(".sell-page").addClass("visible")}).fail(function(){n.remove(),g.errorModalHandler.apply(this,arguments)})})},_.onetimeModal=function(t){t.on("click",function(){var e=(0,p.default)(t.data("modal-target")).clone(!0);e.appendTo(m.$body).show(),e.find(".close").on("click",function(){e.remove()})})},_.paypalModalTrigger=function(t){t.on("click",function(){var e=t.data();!function(t,e){var n=1<arguments.length&&void 0!==e&&e,o=null,i=null;if(null===o){o=(0,m.jqGetElemById)("paypal-modal"),i=o.find(".sell-page"),o.removeClass("hide").appendTo(m.$body),o.find(".close").on("click",function(){i.removeClass("visible"),(0,c.crop)(!1);var e=(0,p.default)("#payment-request-button-mobile-button");0<e.length&&te(e)});var a=o.find(".".concat(t," .payment-request-button"));0<a.length&&te(a)}h.default.defer(function(){var e=(0,p.default)(".modal-bg .modal:visible");e.length&&e.modal("hide"),o.removeClass("annual monthly lifetime annual-pro").addClass(t),o.toggleClass("single-option",n),i.addClass("visible"),(0,c.crop)(),b&&o.find("[name=gift_message_id]").val(b)})}(e.plan,e.singlePaymentOption)})},_.paypalCheckoutButtons=function(e){e.find(".paypal a,.paypal button").on("click",function(e){(0,p.default)(this).parents(".paypal").addClass("loading")})},_.salesCardTrigger=function(o){var i=null;n.e(105).then(n.t.bind(null,991,7)),m.isMobile&&n.e(103).then(n.t.bind(null,992,7)),o.on("click",function(e){if(e.preventDefault(),i)i.modal("show");else{var t=o.data(),n={element_id:t.axId,source_chapter_id:t.sourceChapterId,source_chapter_slug:t.sourceChapterSlug,target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)};(i=(0,p.default)('<div class="b2-sales-card modal"><span class="spinner"></span></div>')).modal(),p.default.get(t.salesUrl,n).then(function(n){h.default.defer(function(){var e=(0,p.default)(n);m.$body.append(e),i.modal("hide");function t(){var e=i.find(".content");(0,c.getScrollHeight)(e)>e.outerHeight()&&e.addClass("scrollable")}(i=e).find("img").on("load",t),i.on("show",function(){a.loadForElement(i),t()}),i.modal()})}).fail(function(){window.location.href=o.attr("href")})}})},_.switchPaywallPosition=function(e){function o(e){a.removeClass(l),a.filter('[data-position="'+s+'"]').addClass(l),t.removeClass(l),e?e.addClass(l):t.filter('[data-position="'+s+'"]').addClass(l),n.removeClass(c),i.removeClass(c),1==s?n.addClass(c):s==r&&i.addClass(c)}var t=e.find("#prac-markers .prac-marker"),n=e.find("#prev-marker-btn"),i=e.find("#next-marker-btn"),a=e.find(".spm-feature"),r=t.length,s=1,l="current",c="disabled";t.on("click",function(e){e.preventDefault();var t=(0,p.default)(this),n=t.data("position");n!=s&&(s=n,o(t))}),n.on("click",function(e){e.preventDefault(),(0,p.default)(this).hasClass(c)||(s--,o())}),i.on("click",function(e){e.preventDefault(),(0,p.default)(this).hasClass(c)||(s++,o())})},_.acceptSubLifetimeUpgrade=function(e){(0,m.jqGetElemById)("accept-sub-continue").on("click",function(){e.one("transitionend",function(){e.addClass("step-2 ".concat(v.CLASS_NAME_ANIM_IN)),m.isMobile&&(0,m.setScrollPosition)(0,{animate:!0})}),e.removeClass(v.CLASS_NAME_ANIM_IN)})},_.premiumSurvey=function(){(0,m.setScrollPosition)(0,{animate:!0,duration:v.TRANSITION_SPEED_FAST})},_.twinklingStars=function(e){e.find(".premium-stars").remove();var t=e.data();if(t){var n=e.offset(),a=e.outerWidth(),r=e.outerHeight(),o=[],i=t.starCount,s=[];e.find(".no-stars").each(function(){var e=(0,p.default)(this),t=e.offset();s.push({left:t.left-n.left-10,right:t.left+e.outerWidth()-n.left+10,top:t.top-n.top-10,bottom:t.top+e.outerHeight()-n.top+10})});var l=function(e){for(var t=e.left/100*a+1.5,n=e.top/100*r+1.5,o=0;o<s.length;o++){var i=s[o];if(!(t<i.left||t>i.right||n<i.top||n>i.bottom))return!0}return!1},c=document.createElement("span");c.className="premium-stars";for(var d=0;d<i;d++){var u=0;do{var f={left:.5+99*Math.random(),top:2+96*Math.random()};u++}while(l(f)&&u<50);o[d]=document.createElement("span"),o[d].className="type-"+~~(3*Math.random()+1),o[d].style.left=f.left+"%",o[d].style.top=f.top+"%",c.appendChild(o[d])}e.append(c),t.static&&!0===t.static||h.default.defer(function(){for(var e=0;e<i;e++){var t=5e3+~~(4e3*Math.random());o[e].style.webkitAnimationDuration=o[e].style.animationDuration="4000ms",o[e].style.webkitAnimationDelay=o[e].style.animationDelay=t+"ms"}})}},_.freeTrialModal=function(e){function t(){n.toggleClass("centered",e.outerHeight()<m.$window.height())}var n,o=e.find(".paywall-free-trial-options button"),i=e.find("#step-0-continue"),a=e.find("#free-trial-continue"),r=e.data(),s="active",l="paywall-free-trial-modal-active",c=null,d=i.length?K("chapter"):K();o.on("click",function(){null===c&&a.removeClass("disabled").removeAttr("disabled");var e=(0,p.default)(this);e.hasClass(s)||(o.removeClass(s),e.addClass(s),c=e.data("option"))}),i.on("click",function(){r.introOnly?r.nextChapterUrl?(d("clicked_chapter_completion_next_chapter"),window.location=r.nextChapterUrl):(d("clicked_chapter_completion_premium_close"),e.modal("hide")):(d("clicked_free_trial_intro_continue"),e.addClass("step-1"))}),a.on("click",function(){c&&(d("clicked_free_trial_continue",{free_trial_selected_option:c}),"limited"===c?e.find(".step-2").length?(e.removeClass("step-1").addClass("step-2"),e.find("#free-trial-close").on("click",function(){d("clicked_free_trial_limited_close"),e.modal("hide")})):e.modal("hide"):(e.modal("hide"),h.default.defer(function(){d(r.premiumAxId)}),window.open(r.premiumUrl)))}),e.on("show",function(){m.$body.addClass(l),d("viewed_free_trial_modal"),h.default.defer(function(){n=e.parent(),t()}),m.$window.on("resize.freeTrialModal",h.default.throttle(t,16))}),e.on("hide",function(){m.$body.removeClass(l),m.$window.off("resize.freeTrialModal")}),e.modal({backdrop:"static"})},_.paywallProToggle=function(n){function o(){i.token&&!e&&!m.isMobile&&X()&&(e=!0,(0,s.loadAndShowFrontChat)(i))}var i=n.data(),a=n.find("a"),e=!1;a.on("click",function(e){if(e.preventDefault(),!e.target.classList.contains("active")){var t=e.target.dataset.key;(0,p.default)(".paywall-wrapper").toggleClass("show-pro"),_.twinklingStars(n.parents(".paywall-header")),a.toggleClass("active"),window.history.replaceState({},null,e.target.href),p.default.get(i.action,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!0)),(0,r.track)("ui",{element_id:"clicked_premium_pro_toggle",target:t}),o()}}),o()},_.paywallProModal=function(n){function o(e){e.removeClass("active"),e.eq(c).addClass("active")}function e(){n.modal("show");var e=(0,m.jqGetElemById)("paywall-pro-overview-next").on(i,function(){c++,o(r),o(s),n.toggleClass(a,c===r.length-1)}),t=(0,m.jqGetElemById)("paywall-pro-overview-add-pro").on(i,function(){n.modal("hide"),(0,m.jqGetElemById)("pro-btn-wrapper").find(".btn").click()});l=e.add(t)}var i="click.paywallpromodal",a="last-slide",t=(0,m.jqGetElemById)("paywall-pro-overview-show"),r=n.find(".slide"),s=n.find(".b-markers span"),l=null,c=0;n.on("hide",function(){c=0,o(r),o(s),l.off(i),n.removeClass(a)}),n.modal({show:!1}),t.on("click",e),X()&&e()};var Y=null;_.proPrecheckoutModal=function(e){e.on("click",function(){Y?Y.modal("show"):Y=(0,m.jqGetElemById)("pro-precheckout-modal").modal()})},_.cancellationStep=function(e){var t=e.data("step"),n={action:"viewed_autorenew_cancel_slide",step_position:t,is_first_step:1===t,is_last_step:4===t};1<t&&0===e.find(".errorlist").length&&(0,m.setScrollPosition)(0),1<t&&(n.triggered_by=v.INTERACTION_TYPES.CONTINUE_BUTTON),h.default.defer(function(){return(0,r.track)("ui",n)})},_.giftPurchaseList=function(e){var l={giftSummaryModal:h.default.template((0,m.jqGetElemById)("gift-summary-modal-template").text()),turnOffRecurringGiftModal:h.default.template((0,m.jqGetElemById)("turn-off-recurring-gift-modal-template").text())};e.find(".recurring-gift").each(function(e,t){function r(e){var t="subscription-state";n.attr("data-".concat(t),e),n.data(t,e)}var n=(0,p.default)(t),s=n.data();n.find(".show-gift-summary-modal").on("click",function(){var i=(0,p.default)(l.giftSummaryModal(s)),a=i.find(".auto-renew-note");(0,p.default)(".gift-summary-modal").remove(),m.$body.append(i),i.modal(),i.find(".turn-on-auto-renew").on("click",function(e){e.preventDefault();var t=(0,p.default)(e.currentTarget);if(!t.hasClass(v.CLASS_NAME_DISABLED)){var n=t.attr("href");t.addClass(v.CLASS_NAME_DISABLED),p.default.post(n).fail(g.showStandardErrorModal).then(function(e){"active"===e.state?(a.removeClass("onetime").addClass("recurring"),t.removeClass(v.CLASS_NAME_DISABLED),r(e.state)):(0,g.showStandardErrorModal)()})}}),i.find(".turn-off-auto-renew").on("click",function(e){e.preventDefault();var t=(0,p.default)(e.currentTarget);if(!t.hasClass(v.CLASS_NAME_DISABLED)){var n=t.attr("href"),o=(0,p.default)(l.turnOffRecurringGiftModal(s));i.modal("hide"),(0,p.default)(".turn-off-recurring-gift-modal").remove(),m.$body.append(i),o.modal(),o.on("hide",function(){i.modal("show"),h.default.defer(c.crop)}),o.find(".turn-off").on("click",function(){o.find("button").addClass(v.CLASS_NAME_DISABLED),p.default.post(n).fail(g.showStandardErrorModal).then(function(e){"recurring_stopped"===e.state?(a.removeClass("recurring").addClass("onetime"),o.modal("hide"),r(e.state)):(0,g.showStandardErrorModal)()})})}})})})};var J=void 0,Q=void 0,Z=void 0,ee=void 0,te=function(t){var n=t.find(".payment-request-button-inner")[0];if(Z)void 0!==t&&void 0!==J&&(ee.unmount(),Z.update({currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")}}),J=t.data("subscribe-url"),Q=t.data("plan-id"),ee.mount(n));else{var e=Stripe(t.data("stripe-public-key"));Z=e.paymentRequest({country:"US",currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")},requestPayerName:!0,requestPayerEmail:!0});var o=e.elements();ee=o.create("paymentRequestButton",{paymentRequest:Z,style:{paymentRequestButton:{theme:"light-outline",height:"43px"}}}),Z.canMakePayment().then(function(e){e?(ee.mount(n),J=t.data("subscribe-url"),Q=t.data("plan-id")):(0,p.default)(".paymentrequest").hide()}),Z.on("token",function(e){p.default.post({url:J,headers:{"X-CSRFToken":t.data("csrf-token")},data:{plan:Q,stripeToken:e.token.id,payment_request_method:e.methodName}}).done(function(){e.complete("success"),window.location.href=t.data("success-url")}).fail(function(){e.complete("fail")})})}};_.PaymentRequest=function(e){void 0!==e.data("mobile-button")&&te(e)},_.scrollEducators=function(e){var t=e.find(".chevron-left"),n=e.find(".chevron-right"),o=e.find(".educators");t.on("click",function(){o.animate({scrollLeft:0},250),t.hide(),n.show()}),n.on("click",function(){o.animate({scrollLeft:o[0].scrollWidth},250),n.hide(),t.show()})},_.giftPromoBannerLoggedIn=function(t){var e=t.find(".close"),n=t.data();e.on("click",function(e){e.preventDefault(),t.remove(),o.default.update(n.flagName,!0)})},e.exports=_},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wistiaController=a,t.videoController=l,t.popoverController=function(e){var t=e.find(".popover-video.modal"),n=t.find(".video-container");e.on("click",function(){t.modal(),l(n)})},t.videoPlaceholder=function(n){n.find("button").on("click",function(){var e=n.find("template");e.hasClass("wistia-video")?(n.css("height",n.height()),s(n.data("video"),function(e){setTimeout(function(){return e.play()}),n.css("height","auto")}),n.html(n.find("template").html()),n.find('[data-controller*="app/videos:wistiaController"]').each(function(e,t){a((0,v.default)(t))})):e.hasClass("video-container")&&(n.html(n.find("template").html()),n.find('[data-controller*="app/videos:videoController"]').each(function(e,t){l((0,v.default)(t)),n.find("video")[0].play()}))})};var o,v=(o=n(0))&&o.__esModule?o:{default:o},i=n(7),g=n(1),y=n(9);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r={};function s(e,t,n){var o=2<arguments.length&&void 0!==n&&n;if(window.Wistia&&!o){var i=window.Wistia.api(e);i?t(i):s(e,t,!0)}else window._wq=window._wq||[],window._wq.push({id:e,onHasData:function(e){t(e)}})}var b=function(e,t){(0,i.track)("ui",{action:"video_action",element_id:e,video_id:t})};function a(a){var n=a.data("video"),o=a.data("ax-id");!function(e,t){var n=t.find("template"),o=r[e];if(o)t.find(".embed-wrapper").remove(),t.append(o.find(".embed-wrapper").clone());else if(n.length){var i=(0,v.default)("<div>").html(n.html());t.append(i.find(".embed-wrapper").clone()),r[e]=i}}(n,a),s(n,function(i){var e=["play","pause","end"];"loop"!==i.options.endVideoBehavior&&e.push("seek");function t(){if(a.is(":visible")){var e=a.data("width"),t=i.height(),n={};e=e||a.width();var o=Math.min(e,a.width());t=o/i.aspect(),n.width=o,setTimeout(function(){return i.height(t,{constrain:!0})},1),n.height=t,a.children().css(n)}}t(),o&&b("video_wistia_viewed_".concat(o)),i.bind("heightchange",t),e.forEach(function(e){i.bind(e,function(){return b("video_wistia_".concat(e),n)})})})}function l(n){var t=n.data("video"),e=n.data("assets"),o=n.data("caption-url"),i=n.find("video"),a=i.find("track"),r=["play","pause","ended"],s="paused",l="started",c="play",d="video-toggle";if(i[0].hasAttribute("loop")||r.push("seeked"),!i[0].hasAttribute("autoplay")||i[0].hasAttribute("muted")||n.is(":visible")||g.isNative||i[0].removeAttribute("autoplay"),void 0!==e&&!i[0].src){var u=n.width();n.parents().each(function(e,t){var n=(0,v.default)(t).width();return!(0!==n&&n<=window.innerWidth)||((n<u||0===u)&&(u=n),!1)}),n.data("width")<u&&(u=n.data("width")),u*=window.devicePixelRatio;var f=e.filter(function(e){return e.width>=u});if(0===f.length)f=e[e.length-1];else f=_(f,1)[0];i[0].src=f.url}if(o&&0<a.length&&(a[0].src=o),0===n.find("button.".concat(d)).length){var p="".concat(d," ").concat(i[0].paused?s:"");i[0].hasAttribute("muted")||(p+=" has-controls"),n.append('<button aria-label="play" type="button" class="'.concat(p,'"></button>'))}n.find(".".concat(d)).on("click",function(e){e.preventDefault(),!0===i[0].paused?i[0].play():i[0].pause()}),i.on("play pause",function(e){var t=n.find(".".concat(d));e.type!==c||t.hasClass(l)||t.addClass(l),!0===i[0].paused?(t.removeClass(c),t.addClass(s)):(t.removeClass(s),t.addClass(c))}),r.forEach(function(e){i.on(e,function(){return b("video_wistia_".concat(e),t)})});var h="".concat(y.EVT_QUIZ_POSITION_WILL_CHANGE,".video").concat(t),m="".concat(y.EVT_QUIZ_POSITION_DID_CHANGE,".video").concat(t);g.$window.on(h,function(){document.body.contains(n[0])&&(!1===i[0].paused?i[0].setAttribute("data-was-playing",!0):i[0].removeAttribute("data-was-playing"),i[0].pause(),g.$window.off(h),g.$window.on(m,function(){document.body.contains(n[0])&&(i.data("wasPlaying")&&i[0].play(),g.$window.off(m))}))}),setTimeout(function(){return i.removeClass("hide")},1)}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendGetParam=function(e,t,n){var o=e.split("#"),i=-1!==o[0].indexOf("?")?"&":"?";return o[0]+="".concat(i).concat(t,"=").concat(n),1<o.length?o.join("#"):o[0]},t.appendGetParams=function(e,t){if(!e)return null;var n=e.split("#"),o=-1!==n[0].indexOf("?")?"&":"?";return Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[0]+="".concat(o).concat(e,"=").concat(t[e]),o="&")}),1<n.length?n.join("#"):n[0]},t.getParamsObject=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.search).replace("?","").split("&"),i={};return e.forEach(function(e){if(0<e.length){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e.split("="),2),n=t[0],o=t[1];i[n]=o}}),i}},160:function(e,t,n){"use strict";var o,i;o=[n(143),n(537)],void 0===(i=function(e){e.defineSimpleMode("qsharp",{start:[{token:"comment",regex:/(\/\/|%).*/},{token:"string",regex:/^\"(?:[^\"\\]|\\[\s\S])*(?:\"|$)/},{token:"keyword",regex:/(^|\W)(?:namespace|open|operation|function|body|adjoint|controlled)\b/},{token:"keyword",regex:/\W(?:if|elif|else|repeat|until|fixup|for|in|return|fail)\b/},{token:"keyword",regex:/\W(?:Adjoint|Controlled|self|auto|none|distribute|invert|intrinsic)\b/},{token:"keyword",regex:/\W(?:let|set|new|not|and|or|using|borrowing|newtype|mutable)\b/},{token:"meta",regex:/\W(?:Int|BigInt|Double|Bool|Qubit|Pauli|Result|Range|String|Unit)\b/},{token:"atom",regex:/\W(?:true|false|Pauli(I|X|Y|Z)|One|Zero)\b/},{token:"builtin",regex:/(\\n|\W)(?:X|Y|Z|H|HY|S|T|SWAP|CNOT|CCNOT|MultiX|R|RFrac|Rx|Ry|Rz|R1|R1Frac|Exp|ExpFrac|Measure|M|MultiM)\b/},{token:"builtin",regex:/(\\n|\W)(?:Message|Length|Assert|AssertProb|AssertEqual)\b/}]}),e.defineMIME("text/x-qsharp","qsharp")}.apply(t,o))||(e.exports=i)},17:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeFunctionByName=l,t.initGenericControllers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.$body,t=1<arguments.length?arguments[1]:void 0,n=Object.assign({callback:r.FUNC_NOOP,force:!1,ignoreHidden:!1},t),o=e.find("[data-controller]").add(e.filter("[data-controller]"));n.force||(o=o.not("[data-controller-inited]"));n.ignoreHidden&&(o=o.filter(":visible"));var i=[];o.each(function(e,t){var n=(0,a.default)(t),o=n.data("controller");n.attr("data-controller-inited",!0),o&&o.split(",").forEach(function(e){var t=e.trim();t.length&&i.push(l(t,n))})}),Promise.all(i).then(n.callback)};var a=n(c(0)),r=c(9),s=c(1),d=n(c(28));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(r){for(var e=arguments.length,s=new Array(1<e?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];var l=function(e){var t=i(e.split(":"),2),n=t[0],o=t[1];return void 0===o&&d.default.captureMessage("Controller name is undefined for: ".concat(e)),{context:n,name:o}}(r);return new Promise(function(e,t){var n,o,i=(n={},function(e){n[l.context]||(n[l.context]=l.context,d.default.captureMessage("[module error] ".concat(r," (").concat(window.location.pathname,")")),t(e))});try{var a=l.context.split(/\//g)[0];switch(a){case"app":o=c(782)("./".concat(l.context.replace("app/","")));break;case"util":o=c(790)("./".concat(l.context.replace("util/","")));break;default:t(new Error("Subdirectory ".concat(a," is not setup for generic controllers.")))}}catch(e){i(e)}o&&(function(e,n,t){for(var o=function(e){var t="Invalid controller: ".concat(n.context?"".concat(n.context,":"):""," ").concat(n.name,": ").concat(e);d.default.captureMessage(t),console.error(t)},i=n.name.split("."),a=i.pop(),r=e,s=0;s<i.length;s++)if("object"!==u(r=r[i[s]]))return o("".concat(i[s]," is not an object"));"function"==typeof r[a]?r[a].apply(e,t):o("".concat(a," is not a function"))}(o,l,s),e())})}},170:function(e,t,n){"use strict";var a=o(n(0)),r=o(n(4)),s=o(n(335)),l=o(n(127)),c=o(n(7)),d=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i={},u=null,f=!0,p=null,h=window.btoa||function(e){return e.split("").map(function(e){return e.charCodeAt(0)}).join("")};function m(e){return c.default.identity+"_brilliant-branch-"+e}function v(){p&&(d.$body.removeClass("branch-banner-active"),p.removeClass("in"),p=null)}i.disable=function(){f=!1},i.init=function(e){var i=e.data();u=h(c.default.superProperties.sessionid||"unknown"),s.default.init(i.branchKey,function(e,t){if(!e){try{s.default.setIdentity(c.default.identity)}catch(e){}var n=t&&!0===t.has_app;if(c.default.setSuperProperties({branch_has_app:n}),!n){var o={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:!0}};s.default.link(o,function(e,t){!e&&f&&i.showBanner&&function(e,t){if("closed"===function(e){var t=l.default.get(m(e));if(t&&(t=t.split(":"),u===t[0]))return t[1];return null}("banner"))return;var n=r.default.template((0,d.jqGetElemById)("branch-banner-tmpl").text()),o=(0,a.default)(n({link:e,hasApp:t,isIosWeb:d.isIosWeb,isAndroidWeb:d.isAndroidWeb}));d.$body.addClass("branch-banner-active").append(o),c.default.setAnalyticsEvents(o),setTimeout(function(){o.addClass("in")},1e3),o.find(".close").on("click",function(){return v()}),o.find("button,a").on("click",function(){!function(e,t){l.default.set(m(e),u+":"+t)}("banner","closed")}),p=o}(t,n)})}}})},i.hideBranchBanner=function(){return v()},e.exports=i},171:function(e,t,n){"use strict";var o=n(1),i={setBackButton:function(t,n,e){window.location.hash=t,(0,o.jqOffOn)(o.$window,"hashchange.backbutton",function(e){window.location.hash.indexOf(t)<0&&(n(e),o.$window.off("hashchange.backbutton"))}),(0,o.jqOffOn)(e,"click.backbutton",function(e){window.history?window.history.back():(n(e),i.removeBackButton())})},removeBackButton:function(){window.hash="",o.$window.off("hashchange.backbutton")}};e.exports=i},172:function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(0)),_underscore=_interopRequireDefault(__webpack_require__(4)),_cursor=_interopRequireDefault(__webpack_require__(73)),_global=__webpack_require__(1),_ui=__webpack_require__(11),_error_modal=__webpack_require__(31);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qq={},MC,ZC;qq.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var o=e.length;for(n<0&&(n+=o);n<o;n++)if(n in e&&e[n]===t)return n;return-1},qq.getUniqueId=(MC=0,function(){return MC++}),qq.attach=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},qq.detach=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n)},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)},qq.remove=function(e){e.parentNode.removeChild(e)},qq.contains=function(e,t){return e==t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)))},qq.toElement=(ZC=document.createElement("div"),function(e){ZC.innerHTML=e;var t=ZC.firstChild;return ZC.removeChild(t),t}),qq.css=function(e,t){(0,_jquery.default)(e).css(t)},qq.hasClass=function(e,t){(0,_jquery.default)(e).hasClass(t)},qq.addClass=function(e,t){(0,_jquery.default)(e).addClass(t)},qq.removeClass=function(e,t){(0,_jquery.default)(e).removeClass(t)},qq.setText=function(e,t){e.innerText=t,e.textContent=t},qq.children=function(e){for(var t=[],n=e.firstChild;n;)1==n.nodeType&&t.push(n),n=n.nextSibling;return t},qq.getByClass=function(e,t){if(e.querySelectorAll)return e.querySelectorAll("."+t);for(var n=[],o=e.getElementsByTagName("*"),i=o.length,a=0;a<i;a++)qq.hasClass(o[a],t)&&n.push(o[a]);return n},qq.obj2url=function(e,o,t){function n(e,t){var n=o?/\[]$/.test(o)?o:o+"["+t+"]":t;"undefined"!=n&&"undefined"!=t&&i.push("object"===_typeof(e)?qq.obj2url(e,n,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(n)+"="+encodeURIComponent(e()):encodeURIComponent(n)+"="+encodeURIComponent(e))}var i=[],a="&";if(!t&&o)a=/\?/.test(o)?/\?$/.test(o)?"":"&":"?",i.push(o),i.push(qq.obj2url(e));else if("[object Array]"===Object.prototype.toString.call(e)&&void 0!==e)for(var r=0,s=e.length;r<s;++r)n(e[r],r);else if(null!=e&&"object"===_typeof(e))for(var l in e)e.hasOwnProperty(l)&&n(e[l],l);else i.push(encodeURIComponent(o)+"="+encodeURIComponent(e));return i.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.FileUploaderBasic=function(e){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,filesLimit:0,onSubmit:function(e,t){},onProgress:function(e,t,n,o){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){},messages:{typeError:"{file} has an invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",filesLimitError:"No more than {filesLimit} files are allowed to be uploaded.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(e){alert(e)}},qq.extend(this._options,e),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(e){this._options.params=e},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(e){var t=this;return new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(e){t._onInputChange(e)}})},_createUploadHandler:function(){var e,i=this;return e=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",new qq[e]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(e,t,n,o){i._onProgress(e,t,n,o),i._options.onProgress(e,t,n,o)},onComplete:function(e,t,n){i._onComplete(e,t,n),i._options.onComplete(e,t,n)},onAllComplete:function(e){i._options.onAllComplete(e)},onCancel:function(e,t){i._onCancel(e,t),i._options.onCancel(e,t)}})},_preventLeaveInProgress:function(){var t=this;qq.attach(window,"beforeunload",function(e){if(t._filesInProgress)return(e=e||window.event).returnValue=t._options.messages.onLeave,t._options.messages.onLeave})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(e,t,n,o){},_onComplete:function(e,t,n){this._filesInProgress--,n.error&&this._options.showMessage(n.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(e){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(e.files):this._validateFile(e)&&this._uploadFile(e),this._button.reset()},_uploadFileList:function(e){var t,n=0;for(t=0;t<e.length;t++){if(!this._validateFile(e[t],n))return;n++}for(t=0;t<e.length;t++)this._uploadFile(e[t])},_uploadFile:function(e){var t=this._handler.add(e),n=this._handler.getName(t);!1!==this._options.onSubmit(t,n)&&(this._onSubmit(t,n),this._handler.upload(t,this._options.params))},_validateFile:function(e,t){var n,o,i,a;return e.value?n=e.value.replace(/.*(\/|\\)/,""):(n=null!=e.fileName?e.fileName:e.name,o=null!=e.fileSize?e.fileSize:e.size),this._isAllowedExtension(n)?0===o?(this._error("emptyError",n),!1):o&&this._options.sizeLimit&&o>this._options.sizeLimit?(this._error("sizeError",n),!1):o&&o<this._options.minSizeLimit?(this._error("minSizeError",n),!1):!(this._options.filesLimit&&(null==t&&(t=0),i=null==this._handler._completed_files?0:this._handler._completed_files.length,a=null==this._handler._queue?0:this._handler._queue.length,this._options.filesLimit<=i+a+t))||(this._error("filesLimitError",n),!1):(this._error("typeError",n),!1)},_error:function(e,t){var n=this._options.messages[e];function o(e,t){n=n.replace(e,t)}var i=this._options.allowedExtensions;0!==i[i.length-1].indexOf("and ")&&(i[i.length-1]="and "+i[i.length-1]),o("{file}",this._formatFileName(t)),o("{extensions}",i.join(", ")),o("{sizeLimit}",this._formatSize(this._options.sizeLimit)),o("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),o("{filesLimit}",this._options.filesLimit),this._options.showMessage(n)},_formatFileName:function(e){return 33<e.length&&(e=e.slice(0,19)+"..."+e.slice(-13)),e},_isAllowedExtension:function(e){var t=-1!==e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",n=this._options.allowedExtensions;if(!n.length)return!0;for(var o=0;o<n.length;o++)if(n[o].toLowerCase()==t)return!0;return!1},_formatSize:function(e){for(var t=-1;t++,99<(e/=1024););return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][t]}},qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">'+e.btnTitle+'</div><span class="spinner hide"></span><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,e),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(e,t){var n=qq.getByClass(e,this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_setupDragDrop:function(){var n,o=this,i=this._find(this._element,"drop"),a=new qq.UploadDropZone({element:i,onEnter:function(e){qq.addClass(i,o._classes.dropActive),e.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(i,o._classes.dropActive)},onDrop:function(e){for(var t=qq.getByClass(document,o._classes.drop),n=0;n<t.length;n++)t[n].style.display="none";qq.removeClass(i,o._classes.dropActive),!o._options.multiple&&1<e.dataTransfer.files.length?alert("Multiple file uploads are disabled."):o._uploadFileList(e.dataTransfer.files)}});i.style.display="none",qq.attach(document,"dragenter",function(e){a._isValidFileDrag(e)&&(i.style.display="block",clearTimeout(n))}),qq.attach(document,"dragover",function(e){a._isValidFileDrag(e)&&clearTimeout(n)}),qq.attach(document,"dragleave",function(e){if(a._isValidFileDrag(e)){var t=document.elementFromPoint(e.clientX,e.clientY);t&&"HTML"!=t.nodeName||(i.style.display="none"),clearTimeout(n),e.target===document.body&&(n=setTimeout(function(){i.style.display="none"},200))}})},_onSubmit:function(e,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,o){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var i,a=this._getItemByFileId(e),r=this._find(a,"size");r.style.display="inline",i=n!=o?Math.round(n/o*100)+"% from "+this._formatSize(o):this._formatSize(o),qq.setText(r,i)},_onComplete:function(e,t,n){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var o=this._getItemByFileId(e);qq.remove(this._find(o,"cancel")),qq.remove(this._find(o,"spinner")),n.success?qq.addClass(o,this._classes.success):qq.addClass(o,this._classes.fail)},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);n.qqFileId=e;var o=this._find(n,"file");qq.setText(o,this._formatFileName(t)),this._find(n,"size").style.display="none",this._listElement.appendChild(n)},_getItemByFileId:function(e){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==e)return t;t=t.nextSibling}},_bindCancelEvent:function(){var o=this,e=this._listElement;qq.attach(e,"click",function(e){var t=(e=e||window.event).target||e.srcElement;if(qq.hasClass(t,o._classes.cancel)){qq.preventDefault(e);var n=t.parentNode;o._handler.cancel(n.qqFileId),qq.remove(n)}})}}),qq.UploadDropZone=function(e){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(this._options,e),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var n=this;qq.attach(n._element,"dragover",function(e){if(n._isValidFileDrag(e)){var t=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"==t||"linkMove"==t?"move":"copy",e.stopPropagation(),e.preventDefault()}}),qq.attach(n._element,"dragenter",function(e){n._isValidFileDrag(e)&&n._options.onEnter(e)}),qq.attach(n._element,"dragleave",function(e){if(n._isValidFileDrag(e)){n._options.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq.contains(this,t)||n._options.onLeaveNotDescendants(e)}}),qq.attach(n._element,"drop",function(e){n._isValidFileDrag(e)&&(e.preventDefault(),n._options.onDrop(e))})},_isValidFileDrag:function(e){var t=e.dataTransfer,n=-1<navigator.userAgent.indexOf("AppleWebKit");return t&&"none"!=t.effectAllowed&&(t.files||!n&&t.types.contains&&t.types.contains("Files"))}},qq.UploadButton=function(e){this._options={element:null,multiple:!1,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,e),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var e=document.createElement("input");this._options.multiple&&e.setAttribute("multiple","multiple"),e.setAttribute("type","file"),e.setAttribute("name",this._options.name),qq.css(e,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(e);var t=this;return qq.attach(e,"change",function(){t._options.onChange(e)}),qq.attach(e,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(e,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(e,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(e,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}},qq.UploadHandlerAbstract=function(e){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(e,t,n,o){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){}},qq.extend(this._options,e),this._queue=[],this._params=[],this._completed_files=[]},qq.UploadHandlerAbstract.prototype={log:function(e){this._options.debug&&window.console&&console.log("[uploader] "+e)},add:function(e){},upload:function(e,t){var n=this._queue.push(e),o={};qq.extend(o,t),this._params[e]=o,n<=this._options.maxConnections&&this._upload(e,this._params[e])},cancel:function(e){this._cancel(e),this._dequeue(e)},cancelAll:function(){for(var e=0;e<this._queue.length;e++)this._cancel(this._queue[e]);this._queue=[]},getName:function(e){},getSize:function(e){},getQueue:function(){return this._queue},_upload:function(e){},_cancel:function(e){},_dequeue:function(e){var t=qq.indexOf(this._queue,e);this._queue.splice(t,1);var n=this._options.maxConnections;if(this._queue.length>=n){var o=this._queue[n-1];this._upload(o,this._params[o])}0==this._queue.length&&this._onAllComplete()},_onAllComplete:function(){this._options.onAllComplete(this._completed_files)}},qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(e){e.setAttribute("name","qqfile");var t="qq-upload-handler-iframe"+qq.getUniqueId();return(this._inputs[t]=e).parentNode&&qq.remove(e),t},getName:function(e){return this._inputs[e].value.replace(/.*(\/|\\)/,"")},_cancel:function(e){this._options.onCancel(e,this.getName(e)),delete this._inputs[e];var t=document.getElementById(e);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(t,e){var n=this._inputs[t];if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");var o=this.getName(t),i=this._createIframe(t),a=this._createForm(i,e);a.appendChild(n);var r=this;return this._attachLoadEvent(i,function(){r.log("iframe loaded");var e=r._getIframeContentJSON(i);r._options.onComplete(t,o,e),r._dequeue(t),delete r._inputs[t],setTimeout(function(){qq.remove(i)},1)}),a.submit(),qq.remove(a),t},_attachLoadEvent:function(e,t){qq.attach(e,"load",function(){e.parentNode&&(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML||t())})},_getIframeContentJSON:function _getIframeContentJSON(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(e){response={}}return response},_createIframe:function(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_createForm:function(e,t){var n=null;if(t.csrf_token&&t.csrf_name){var o='<input type="hidden" name="'+t.csrf_name+'" value="'+t.csrf_token+'" />';n=qq.toElement('<form method="post" enctype="multipart/form-data">'+o+"</form>")}else n=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');delete t.csrf_token,delete t.csrf_name,delete t.csrf_xname;var i=qq.obj2url(t,this._options.action);return n.setAttribute("action",i),n.setAttribute("target",e.name),n.style.display="none",document.body.appendChild(n),n}}),qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");return e.type="file","multiple"in e&&"undefined"!=typeof File&&void 0!==(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(e){if(!(e instanceof File))throw new Error("Passed obj is not a File (in qq.UploadHandlerXhr)");return this._files.push(e)-1},getName:function(e){var t=this._files[e];return null!=t.fileName?t.fileName:t.name},getSize:function(e){var t=this._files[e];return null!=t.fileSize?t.fileSize:t.size},getLoaded:function(e){return this._loaded[e]||0},_upload:function(t,e){var n=this._files[t],o=this.getName(t);this._loaded[t]=0;var i=this._xhrs[t]=new XMLHttpRequest,a=this;i.upload.onprogress=function(e){e.lengthComputable&&(a._loaded[t]=e.loaded,a._options.onProgress(t,o,e.loaded,e.total))},i.onreadystatechange=function(){4==i.readyState&&a._onComplete(t,i)};var r=null,s=null;(e=e||{}).csrf_token&&e.csrf_xname&&(r=e.csrf_token,s=e.csrf_xname,delete e.csrf_token,delete e.csrf_xname,delete e.csrf_name),e.qqfile=o;var l=qq.obj2url(e,this._options.action);i.open("POST",l,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-File-Name",encodeURIComponent(o)),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r&&i.setRequestHeader(s,r),i.send(n)},_onComplete:function _onComplete(id,xhr){if(this._files[id]){var name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status||201==xhr.status){var response;this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(e){response={}}this._completed_files.push({file:this._files[id],response:response}),this._options.onComplete(id,name,response)}else this._completed_files.push({file:this._files[id],response:{}}),this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(e){this._options.onCancel(e,this.getName(e)),this._files[e]=null,this._xhrs[e]&&(this._xhrs[e].abort(),this._xhrs[e]=null)}}),qq.uploadController=function(e){var u=e.data(),f=0,p=u.target?(0,_jquery.default)(u.target):null,t=["jpg","jpeg","png","gif"];u.allowSvg&&t.push("svg");var n=new qq.FileUploader({action:u.url,element:e[0],multiple:!0,allowedExtensions:t,sizeLimit:10485760,btnTitle:u.btnTitle,onComplete:function(e,t,n){if(n.success){var o=n.url;if(p){var i=n.filename.match(/\.([^.]*)$/)[1].toLowerCase(),a=u.isDailyProblem?500:300,r="svg"===i?"|width=".concat(a):"",s="![](".concat(o).concat(r,"){: .center}\n"),l=_global.$window.scrollTop();_cursor.default.insert(p,s,f),p.trigger("autosave.save"),p.trigger(_jquery.default.Event("ajaxupload.complete",{response:n})),!0===p.data("autosize")&&p.trigger("autosize.resize"),_cursor.default.set(p,f+s.length),(0,_global.setScrollPosition)(l);var c=p.attr("id");if("undefined__copy"==c){var d=p.attr("class").split(/\s+/).join(".");p.siblings(".".concat(d)).val(p.val())}else c.indexOf("__copy")&&p.siblings("#"+c.replace("__copy","")).val(p.val())}_global.$window.trigger(_jquery.default.Event("ajaxupload.complete",{imageUrl:o}))}else{p.trigger(_jquery.default.Event("ajaxupload.message",{message:"Upload failed"}));try{(0,_error_modal.showStandardErrorModal)()}catch(e){}}},onProgress:function(){e.find(".spinner").show()},onAllComplete:function(){e.find(".spinner").hide()},showMessage:function(e){p.trigger(_jquery.default.Event("ajaxupload.message",{message:e}));try{(0,_ui.showGenericModal)("Error",e)}catch(e){}},params:{csrf_token:u.token,csrf_name:"csrfmiddlewaretoken",csrf_xname:"X-CSRFToken"}});if(e.data("ajax-uploader",n),p){var o=function(){p.on("keydown",function(){f=_cursor.default.get(p)}),p.on("focus",function(){_underscore.default.defer(function(){f=_cursor.default.get(p)})}),p.on("click",function(){_underscore.default.defer(function(){f=_cursor.default.get(p)})})};p.length?o():(0,_jquery.default)(u.target.replace("__copy","")).on("mentions.ready",function(){p=(0,_jquery.default)(u.target),o()})}},module.exports=qq},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){if(!a.userIsAuthenticated||a.isMobile)return;var t=e.data("mini-profile-instance");t||(t=new m(e),e.data("mini-profile-instance",t))},t.toggleMiniProfile=u;var f=o(n(0)),c=o(n(4)),i=o(n(7)),s=n(87),a=n(1),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(34));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p={},d=!1;function h(e,t){var n={element_id:"profile_card_".concat(e)};t&&(n.field_name=t),i.default.track("ui",n)}function u(e,n){e.each(function(e,t){try{(0,f.default)(t).data("mini-profile-instance")[n]()}catch(e){}})}var m=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$target=e,this.id=this.$target.data("id")||null,this.loading=!1,this.hid_while_loading=!1,this.timeout=null,this.visible=!1,null!==this.id&&this.setEvents()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"setEvents",value:function(){var e,t=this;this.$target.on("mouseenter",function(){e=c.default.delay(function(){t.show()},200)}),this.$target.on("mouseleave",function(){clearTimeout(e),t.hideWithDelay()})}},{key:"hideWithDelay",value:function(){var t=this;this.timeout=c.default.delay(function(){var e=p[t.id];e&&(!e||e.data.wasEditing)||t.hide()},300)}},{key:"clearDelay",value:function(){clearTimeout(this.timeout)}},{key:"setGlobalEvents",value:function(){var t=this;a.$body.on("click.mp",function(e){t.visible&&0===(0,f.default)(e.target).parents(".mini-profile-full, .mini-profile-full-new").length&&t.hide()});var e=(0,a.jqGetElemById)("nf-feeditem-modal");e.length&&e.is(":visible")&&a.$window.on("scroll.mp",c.default.throttle(function(){t.visible&&t.hide()},16))}},{key:"loadTooltip",value:function(t){d||(this.loading=!0,d=!0,f.default.get("/profile/mini_profile/",{identity:this.id,orientation:""}).done(function(e){d=!1,200===e.status?t(e.new_html):t(null)}).fail(function(){d=!1,t(null)}))}},{key:"repositionTooltip",value:function(e){return(0,s.repositionTooltip)({$target:this.$target,$tooltip:e,topOffset:20,leftOffset:-3,offsetMethod:"offset"})}},{key:"updateCachedData",value:function(e){p[this.id].data=c.default.extend({},p[this.id].data,e)}},{key:"renderTooltip",value:function(e,t){var n,o,i,a=e.find(".profile-content"),r=p[this.id]||null;i=r?(n=r.template,o=r.data,r.errorTemplate):(n=c.default.template(a.find("script").text()),o=a.data(),c.default.template(o.genericErrorMessage)),t&&(o=c.default.extend(o,t)),o=function(o){var i={};return["interests","skills","competitions"].forEach(function(e){var t=o[e];if(!c.default.has(t,"numOthers")){var n=t.length-o.listFieldDisplayLength;i[e]={items:t,numOthers:Math.max(n,0)}}}),c.default.extend({},o,i)}(o),p[this.id]={template:n,errorTemplate:i,data:o},a.html(n(o)),o.isEditing||l.loadForElement(a.find(".status-msg"),!0),o.isEditing?(this.setEditingEvents(e),o.trackedViewed||(h("edit_state_viewed"),o.trackedViewed=!0)):o.wasEditing&&(h("edit_state_closed"),o.trackedViewed=!1),e.removeClass("left right top bottom").addClass((0,s.getOrientation)(this.$target)),e.css(this.repositionTooltip(e))}},{key:"handleTextFieldGroup",value:function(e,t){function s(e,t){var n=e.text().trim(),o="default-value",i=e.data("default"),a=e.hasClass(o);a&&!t||0!==n.length&&n!==i?n.length&&a&&n!==i&&(e.removeClass(o),e.css("min-width",16)):(e.addClass(o),t?e.text(i):e.text(""))}var n=this,o=(0,f.default)(e),i=o.find("[contenteditable]"),l=o.data("url");i.on("click focus",function(){c.default.defer(function(){document.execCommand("selectAll",!1,null)})}),i.on("blur",function(){var a={},r=!1;i.each(function(e,t){var n=(0,f.default)(t),o=n.data(),i=n.text().trim();i===o.default.trim()&&(i=""),i!==o.current&&(r=!0,n.data("current",i),h("edited_field",o.name)),o.apiFieldName&&(a[o.apiFieldName]=i),a[o.name]=i,c.default.defer(function(){s(n,!0)})}),r&&f.default.ajax({url:l,type:"POST",data:JSON.stringify(a),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.success&&(n.updateCachedData(a),n.renderTooltip(t))})}),i.on("input",function(e){s((0,f.default)(e.currentTarget),!1)}),i.on("focus",function(e){var t=(0,f.default)(e.currentTarget),n=t.data("default");t.text().trim()===n&&c.default.defer(function(){t.css("min-width",t.width()),t.text("")})}),i.on("keydown",function(e){13!==e.which&&27!==e.which||(e.preventDefault(),(0,f.default)(e.currentTarget).blur(),window.getSelection().removeAllRanges())}),i.each(function(e,t){var n=(0,f.default)(t);n.data("current",n.text()),s(n,!0)})}},{key:"handleListField",value:function(e,n){function o(e){var t={};t[l.fieldName]=e,a.updateCachedData(t),a.renderTooltip(n)}function i(e,t){var n=!0===t,o=n?".removal-error":".input-error",i=e;null===i&&(i=p[a.id].errorTemplate({isRemoving:n})),r.find(o).text(i),r.find("[disabled]").prop("disabled",!1)}function t(){var e=s.val().trim();if(e.length&&!u){u=!0;var t={value:e};s.prop("disabled",!0),f.default.ajax({url:c,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.success?o(e.existing_values):i(e.value)}).fail(function(){i(null)}).always(function(){u=!1}),h("list_added_item",l.fieldName)}}var a=this,r=(0,f.default)(e),s=r.find("input"),l=r.data(),c=l.url,d=p[this.id].data["".concat(l.fieldName,"Typeahead")],u=!1;r.find(".btn-remove").on("click",function(e){var t=(0,f.default)(e.currentTarget),n={remove:t.data("id")};t.prop("disabled",!0),f.default.ajax({url:c,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.success?o(e.existing_values):i(e.value,!0)}).fail(function(){i(null,!0)}),h("list_removed_item",l.fieldName)}),s.typeahead({source:d,menu:'<ul class="typeahead dropdown-menu miniprofile"></ul>',matchWidth:!0}),s.on("ta_select",t),s.on("keydown",function(e){13!==e.which&&27!==e.which||setTimeout(t,200)})}},{key:"setEditingEvents",value:function(n){var o=this;n.find(".text-field-group").each(function(e,t){return o.handleTextFieldGroup(t,n)}),n.find(".list-field").each(function(e,t){return o.handleListField(t,n)})}},{key:"setTooltipEvents",value:function(n){var o=this;(0,a.jqOffOn)(n,"mouseenter",function(){o.clearDelay()}),(0,a.jqOffOn)(n,"mouseleave",function(){o.hideWithDelay()}),n.hasClass("editable")&&(0,a.jqOffOn)(n.find(".btn-edit"),"click",function(e){e.preventDefault(),n.toggleClass("editing");var t=n.hasClass("editing");o.renderTooltip(n,{isEditing:t,wasEditing:!0})})}},{key:"show",value:function(){var n=this;if(!this.visible){var e=a.$body.children("#mini-profile-".concat(this.id));u((0,f.default)(".mini-profile"),"hide"),this.setGlobalEvents();var o=function(e){e.removeClass("left right top bottom").addClass((0,s.getOrientation)(n.$target))};0<e.length&&this.$target.data("mini_profile_rendered",e);var t=this.$target.data();t.mini_profile_rendered?(o(t.mini_profile_rendered),t.mini_profile_rendered.css(this.repositionTooltip(t.mini_profile_rendered)).show(),this.visible=!0,p[this.id]&&this.updateCachedData({isEditing:!1,wasEditing:!1}),t.mini_profile_rendered.hasClass("mini-profile-full-new")&&(t.mini_profile_rendered.removeClass("editing"),this.renderTooltip(t.mini_profile_rendered)),this.setTooltipEvents(t.mini_profile_rendered)):this.loadTooltip(function(e){if(null!==e){a.$body.append(e);var t=a.$body.find("#mini-profile-".concat(n.id));o(t),t.css(n.repositionTooltip(t)),n.$target.data("mini_profile_rendered",t),n.loading=!1,n.hid_while_loading?(n.hid_while_loading=!1,n.hide(),n.visible=!1):(n.visible=!0,t.hasClass("mini-profile-full-new")&&n.renderTooltip(t),n.setTooltipEvents(t)),i.default.setAnalyticsEvents(t)}})}}},{key:"hide",value:function(){if(this.loading)this.hid_while_loading=!0;else{this.clearDelay(),a.$body.off("click.mp"),a.$window.off("scroll.mp"),this.visible=!1;var e=this.$target.data("mini_profile_rendered")||null;null!==e&&(e.find(".list-field input").typeahead("hide"),e.hide())}}}]),t}()},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.images=function(e){e.find("img").each(function(e,t){var n=(0,l.default)(t);if(!function(e){var t=".avatar, .no-zoom, .viz-wrapper";return e.is(t)||e.parents(t).length}(n)){var o=function(){return new s(t)};t.complete?o():n.on("load",o)}})};var l=o(n(0)),c=o(n(784)),d=n(1),u=n(15);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=[1e3,1500,2e3,2500,3e3,4e3,5e3],a="zoomable-image";function r(e){var t=(0,l.default)('\n        <div class="modal hide zoomable-modal">\n            <button></button>\n            <div class="solv-ir-loading row">\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </div>\n    '),n="loading";t.addClass(n);var o=new Image;if(e.isBriocheImage){var i=f(e.img.src.split("?"),1)[0],a=(0,u.getParamsObject)(e.img.src).format,r={width:function(){var t=d.$window.width()*window.devicePixelRatio;return p.find(function(e){return t<=e})||p[p.length-1]}()};a&&(r.format=a),o.src=(0,u.appendGetParams)(i,r)}else o.src=e.img.src;o.style.cssText="",t.append(o);var s=(0,l.default)(o);s.on("load",function(){t.removeClass(n),d.isMobile&&new c.default(o)}),d.isMobile&&s.on("click",function(e){return e.stopPropagation()}),t.on("show hide",function(){setTimeout(function(){e.zoomed=!e.zoomed,t.toggleClass("visible",e.zoomed)},1)}),t.modal({show:!1}),t.on("click",l.default.proxy(e.hide,e)),e.$zoomModal=t}var s=function(){function n(e){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.img=e,this.$img=(0,l.default)(e),this.zoomed=!1,this.isBriocheImage=0<=e.src.indexOf("/brioche/");function t(){if(!i&&o.img.width){i=!0;var e=o.$img.parent().width(),t=o.$img.css("width");if(0<=t.indexOf("px")?o.width=Math.min(e,parseInt(t,10)):o.width=e,o.height=parseInt(o.$img.css("height"),10),function(e){return(e.isBriocheImage||e.img.naturalWidth>e.width||e.img.naturalHeight>e.height)&&!e.img.closest(".visualization")&&(0===e.$img.parents(".codex-output").length||!e.img.src.indexOf(".gif?t=").index<0)}(o)){var n=o.$img.parents(".".concat(a));n.length?function(e,t){e.$container=t,e.$container.on("click",l.default.proxy(e.show,e))}(o,n):function(e){var t='<span class="'.concat(a,'"><span></span></span>'),n=(0,l.default)(t),o=e.$img.clone();n.append(o),e.$img.replaceWith(n);var i=f(e.$img=o,1);e.img=i[0],e.$container=n,e.$container.on("click",l.default.proxy(e.show,e))}(o)}}}var i=!1;setTimeout(t,1),this.$img.on("load",t)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"show",value:function(){Object.prototype.hasOwnProperty.call(this,"$zoomModal")||r(this),this.$zoomModal.modal("show")}},{key:"hide",value:function(){this.$zoomModal.modal("hide")}}]),n}()},175:function(e,t,n){"use strict";var l=y(n(0)),i=y(n(4)),a=y(n(43)),r=y(n(19)),o=n(37),s=n(9),c=g(n(44)),d=n(1),u=g(n(30)),f=n(11),p=y(n(77)),h=n(17),m=y(n(59)),v=n(45);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){var t=0<arguments.length&&void 0!==e?e:d.$body;p.default.events(t),p.default.expander(t),p.default.subscribe(t);var n=(0,d.jqGetElemById)("subscr-placeholder");n.length&&(0,d.jqGetElemByCmpName)("discussions_subscribe").appendTo(n).removeClass("hide"),u.scaleSVG(t.find(".latexprocessor-block, .latexprocessor-inline"))}function w(){var t=(0,l.default)("#edit_post_form_id"),n=(0,l.default)("#disc-post-single"),o=(0,l.default)(".edit-form textarea",n);(0,a.default)(o),(0,v.wikiLinks)(o),(0,l.default)("#newdisc-edit").on("click",function(e){e.preventDefault(),n.addClass("editing"),o.trigger("autosize.resize")}),(0,l.default)("#newdisc-delete").on("click",function(e){e.preventDefault(),n.addClass("deleting")}),t.find(".preview:not(.fake)").on("click",function(e){e.preventDefault(),(0,r.default)("discussions_single").form(t[0],{preview_post:!0})}),t.find(".edit:not(.fake)").on("click",function(e){e.preventDefault(),n.addClass("editing"),n.removeClass("previewing"),o.trigger("autosize.resize")}),(0,l.default)("#delete-cancel").on("click",function(e){e.preventDefault(),n.removeClass("deleting")})}var k={},C=window.vkey;k.onload=function(e){if(b(e),w(),0<=window.location.search.indexOf("unsubscribe_from_post=true")){var t=(0,d.jqGetElemByCmpName)("discussions_subscribe");t.addClass("wiggle"),i.default.defer(function(){f.Anchors.scrollToTarget(t)})}else{var n=window.location.hash.match(/#comment-a3f5[\d]+e92/);if(n){var o=(0,l.default)(n[0]);p.default.expandThreadsFor(o),o.addClass("highlight"),setTimeout(function(){o.removeClass("highlight")},3e3)}}},k.editableTitle=function(e){var t=e.find(".edit-title-link"),n=e.parent().find(".edit-title-form"),o=n.find(".cancel-edit-link");t.add(o).on("click",function(){e.add(n).toggleClass("hide")})},k.reaction=function(a){function r(e,t){var n=_(e.html().split(" "),2),o=n[0],i=n[1];o=parseInt(o,10)+t,e.html("".concat(o," ").concat(i))}var e=a.find("button"),s=a.serializeArray();e.on("click",function(e){e.preventDefault();var t=(0,l.default)(e.target),n=t.data("reaction");if(n){var o=t.hasClass("selected")?"off":"on",i=s.concat([{name:"reaction_action",value:"".concat(n,"_").concat(o)}]);l.default.post(a.attr("action"),i,function(e){e.vote_details&&(e.vote_details.reactions[n]?(t.addClass("selected"),r(t,1)):(t.removeClass("selected"),r(t,-1)))})}})},k.expandAllThreads=function(t){function e(e){(0,l.default)(e?".show-replies":".hide-replies").trigger("click"),t.toggleClass(s.CLASS_NAME_EXPANDED,e)}function n(){return new Promise(function(e){var t=".discsol-comments .cmp-deferred",n=(0,l.default)(t);d.$window.on("solutions.reload",function(){0===(0,l.default)(t).length&&e()}),0<n.length?n.each(function(e,t){c.load((0,l.default)(t))}):e()})}t.on("click",function(){t.hasClass(s.CLASS_NAME_EXPANDED)?e(!1):(t.addClass(s.CLASS_NAME_DISABLED),new Promise(function(e){function t(){0<(0,l.default)(".solution-next-page").length?d.$window.trigger("scroll.loadMoreSolutionsButton",{force:!0}):e()}d.$window.on("moreSolutionsLoaded",t),t()}).then(n).then(function(){e(!0),t.removeClass(s.CLASS_NAME_DISABLED)}))})};var x="discussions_modal_single_component";k[x]=function(){var e=(0,d.jqGetElemByCmpName)(x);(0,h.initGenericControllers)(e),b(),w(),e.find(".modal-target").each(m.default.modal_events),(0,o.initAutosubmit)(e)},C[x]=k[x],C.discussions_single=function(){var e=C.handle.apply(this,arguments);u.updateMathjax(e),b(),w()},C.modal_groups_post_component=C.discussions_single,C.discussions_subscribe=C.qanda_subscribe=C.course_feedback_subscribe=C.contentreports_subscribe=C.dailyproblem_feedback_subscribe=function(){C.handle.apply(this,arguments),p.default.subscribe()},C.discussions_comments=function(){var e=C.handle.apply(this,arguments);u.updateMathjax(e),b();var t=e.find(".disc-comments").data("highlighted-comment-id");if(t){var n="comment-a3f5".concat(t,"e92"),o=(0,d.jqGetElemById)(n);p.default.expandThreadsFor(o),o.addClass("highlight"),setTimeout(function(){o.removeClass("highlight")},3e3),(0,f.isInViewport)(o)||i.default.delay(function(){f.Anchors.scrollToTarget(o,function(){window.location.hash=n})},500)}},C.discussions_comment_subscribe=function(e,t){C.handle(e,t);p.default.subscribe()},e.exports=k},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launcher=b,t.showLauncherIfConversation=function(e){var t=e.data();window.localStorage&&1===parseInt(window.localStorage[v(t)],10)&&b(e)},t.loadAndShowOnClick=function(e){var t=e.data(),n=e.find(".front-chat-trigger");n.length||(n=e);n.on("click",function(e){e.preventDefault(),l.$body.click(),_(t,g)})},t.loadAndShowOnClickForVue=function(e){_(e,g)},t.loadAndShowFrontChat=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(e,function(){setTimeout(g,1e3)})};var r=i(n(0)),s=i(n(4)),l=n(1),o=n(18);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,l.jqGetElemById)(d).find(".unread-message-counter");t.text(e||""),t.toggle(0<e)}var c="front-chat-container",d="custom-front-chat-launcher",u="FrontChat.ready",f="FrontChat.show",p="FrontChat.hide",h={ACTIVE:"active",LOADING:"loading"},m=!1,v=function(e){return"brilliant_front_chat__".concat(e.userHash,":").concat(e.conversationFlag)},g=function(){if(a(0),window.FrontChat("show"),m)l.$body.trigger(f);else var t=setInterval(function(){var e=document.getElementById(c);e&&e.children.length&&e.children[0].children.length&&"1"===e.children[0].children[0].style.opacity&&(clearInterval(t),m=!0,l.$body.trigger(f))},50)},y=s.default.once(function(){var n=(0,l.jqGetElemById)(d);l.$body.on(u,function(){window.FrontChat("onUnreadChange",function(e){var t=e.unread_count;!n.is(":visible")&&0<t?g():n.hasClass("active")||a(t)}),n.on("click",function(e){e.preventDefault(),n.hasClass(h.ACTIVE)?(window.FrontChat("hide"),l.$body.trigger(p)):g()})}).on(f,function(){n.removeClass(h.LOADING),n.addClass(h.ACTIVE)}).on(p,function(){n.removeClass(h.ACTIVE)})}),_=function(i,a){function e(){var e=(0,l.jqGetElemById)(d);e.is(":visible")&&!e.hasClass(h.ACTIVE)&&e.addClass(h.LOADING),y();var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://chat-assets.frontapp.com/v1/chat.bundle.js",t.onload=function(){window.localStorage&&i.conversationFlag&&l.$body.on(f,function(){window.localStorage[v(i)]="1"}),l.$body.on("click","#".concat(c," .fc-2a549"),function(){l.$body.trigger(p)});var e={useDefaultLauncher:!1};!function(t,n){["email","name","userHash"].forEach(function(e){t[e]&&(n[e]=t[e])})}(i,e),window.FrontChat("init",e);var t=(0,l.jqGetElemById)("footer-notifs");if(0<t.length&&!l.isMobile){var n=0;""!==t.html().trim()&&(n=t.outerHeight()),0<n&&((0,r.default)("style:last")[0].textContent+="#".concat(c," .fc-3laqu {")+"height: ".concat(580-n,"px !important;")+"margin-bottom: ".concat(n,"px !important;")+"}@media (max-height: 600px) and (min-width: 760px) {"+"#".concat(c," .fc-3laqu {")+"height: calc(100vh - 44px - ".concat(n,"px) !important;")+"}}")}"function"==typeof a&&s.default.delay(a,1e3)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var o=setInterval(function(){var e=document.getElementById(c);e&&e.children.length&&(clearInterval(o),l.$body.trigger(u))},250)}window.FrontChat?"function"==typeof a&&a():(window.FCSP=i.token,window.isLoaded?e():(0,o.onLoad)(e)),l.$body.addClass("front-chat-active")};function b(e){function t(){return e.removeClass("hide")}var n=e.data(),o=parseInt(n.delay,10);e.one("click",function(){return _(n,function(){e.hasClass(h.ACTIVE)||g()})}),o?setTimeout(t,1e3*o):t()}},177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t,o=e,i=o.data("tooltip"),a=(0,d.default)("#glossary-".concat(i)),n=!0,r=(0,d.default)("div.glossary-container");0===r.length&&(r=(0,d.default)("<div>").addClass(b),u.$body.append(r));a.parent().hasClass(b)||a.detach().appendTo(r);function s(){a.addClass(v)}function l(){t=setTimeout(function(){s()},300)}function c(){var e=o.html();(0,p.track)("ui",{element_id:"viewed_glossary_card",glossary_card_slug:i,glossary_card_trigger_term:e});var t=a.height();if(u.isMobile||u.isNative){if(m){var n=a.clone();n.find(".admin-links, .close").remove();try{return void window.Android.glossaryShowCard(i,e,n.html())}catch(e){}}a.removeClass(v)}else{a.hasClass(g)&&a.on("mouseleave",l);a.removeClass("left right top bottom").addClass((0,f.getOrientation)(o,a)).css((0,f.repositionTooltip)({$target:o,$tooltip:a,topOffset:3,leftOffset:-45,zOffset:400,offsetMethod:"offset"})).removeClass(v).removeClass(g),t!==a.height()&&a.css((0,f.repositionTooltip)({$target:o,$tooltip:a,topOffset:3,leftOffset:-45,zOffset:400,offsetMethod:"offset"}))}}u.isMobile||u.isNative?o.on("click",function(){a.hasClass(v)?((0,d.default)(".glossary-tooltip").addClass(v),c(),n&&(n=!1,a.find("button.close").on("click",s))):s()}):(u.isTouchDevice?(o.on("click",function(){c(),n&&(n=!1,a.draggable())}),u.$body.css({cursor:"pointer"}),u.$document.on("click",function(e){(0,d.default)(e.target).hasClass(y)||(0,d.default)(e.target).hasClass(_)||s()})):(o.on("mouseenter",function(){clearTimeout(t),c(),n&&(n=!1,a.draggable())}),o.on("mouseleave",l),a.on("mouseenter",function(){return clearTimeout(t)}),a.on("mouseleave",l)),a.on("dragstart",function(){a.off("mouseleave"),a.addClass(g),a.find("button.close").on("click",s)}));u.$body.on(h.EVT_QUIZ_POSITION_WILL_CHANGE,s)};var o,d=(o=n(0))&&o.__esModule?o:{default:o},u=n(1),f=n(87),p=n(7),h=n(9);n(347);var m=u.isAndroid&&u.appVersion&&u.appVersion.isGreaterThanOrEqualTo("4.2.0"),v="hidden",g="dragged",y="glossary",_="glossary-tooltip",b="glossary-container"},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabs=function(o){var i=o.closest(".image-gallery>div"),a="hidden",r="selected",s="main-image";o.children().on("click",function(e){var t=(0,l.default)(e.currentTarget);if(t.hasClass("more"))o.children(".hidden").removeClass(a),t.remove();else{var n=t.data("index");o.children(".selected").removeClass(r),t.addClass(r),i.find(".main-image").addClass(a).removeClass(s),i.find(".".concat(a,":nth-child(").concat(n+1,")")).addClass(s).removeClass(a)}})};var o,l=(o=n(0))&&o.__esModule?o:{default:o}},179:function(e,t,n){"use strict";var y=a(n(0)),o=a(n(4)),_=a(n(19)),i=n(1);function a(e){return e&&e.__esModule?e:{default:e}}var b,r={};r.paginate_triggered_ts=b;function s(g){i.$body.on("click",".newsfeed_".concat(g,"_paginate"),function(e){e.preventDefault(),e.stopPropagation();var t,n,o=(0,y.default)(this),i=o.parents(".nf-next-container"),a=i.siblings(".next_container_stub"),r=a.children().first(),s=a.data("page-key");if(void 0!==r&&0!=r.length&&!a.hasClass("loaded")){t=r.attr("class").slice(4,-3),n=o.data().next_url,i.addClass("loading");var l=s+"_container";"skill"===g&&(l="wiki_community_posts_container",s="wiki_canonical_page"),a.addClass("loaded");var c=new _.default(l);c.error=function(e){"timeout"===e.statusText?(i.removeClass("loading"),a.removeClass("loaded")):(i.hide(),r.hide())},b=(new Date).getTime(),w||k(!0);var d={page_key:s,param_key:t},u=o.parents(".nf-feed-wrapper"),f=u.data("feed-type")||null,p=u.data("filter_content_type")||"",h=u.data("popular")||"",m=u.data("reviewed_state")||"",v=u.data("user_to_display_id")||null;u.length&&("normal"===f&&(d.show_all_content=!0),d.filter_content_type=p,""!==h&&(d.popular=h),d.reviewed_state=m,v&&(d.user_to_display_id=v)),c.get(n,d)}})}r.paginate=s,r.init=function(){(0,y.default)(".feed").not(".inited").each(function(){var e=(0,y.default)(this),t=e.attr("id").replace(/^newsfeed_/,"").replace(/_wrapper$/,"");s(t),e.addClass("inited")})};function l(){u=(0,y.default)(".nf-next-container:not(.loaded):visible:last"),r.is_autopaginating=!1,0<u.length&&c<10?d=u.offset().top-500:(w=!1,i.$window.off("scroll.nfpage"))}var c,d,u,f,p,w=r.is_autopaginating=!1;r.reset_autopagination_point=l;r.needs_additional_pagination=function(e){var t=e.find(".nf-feed-item:visible:not(.nf-next-empty)").length;w&&(0<t&&t<4?p<5&&(p++,h(!1)):p=0)};var h=function(e){e=!1!==e,r.is_autopaginating||(r.is_autopaginating=!0,u.find("a").click(),e&&c++)},k=function(e){e=e||!1,f=i.$window.height(),p=c=0,l(),0<u.length&&(w=!0,(0,i.jqOffOn)(i.$window,"scroll.nfpage",o.default.debounce(function(){i.$window.scrollTop()+f>=d&&h()},100)),e||h())};r.autopagination=k,e.exports=r},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onLoad=function(e){(0,i.default)(window).on("load",function(){return a(e)})},t.onDOMReady=function(e){(0,i.default)(function(){return a(e)})};var o,i=(o=n(0))&&o.__esModule?o:{default:o};var a=function(e){e()}},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handler=function(){var i=(0,a.getRelativeUrl)();a.$window.on("popstate",function(e){if(r.default.popstateHandlerHook())i=(0,a.getRelativeUrl)();else{var t=(0,a.getRelativeUrl)();if(t!==i){if(e.state&&e.state.modalContent){var n=(0,a.jqGetElemById)("nf-feeditem-modal"),o=(0<n.length&&n.is(":visible")?n:a.$body).find('.modal-link[href="'.concat(t,'"]'));if(0<o.length)return r.default.urlStack.push(i),i=t,void o.trigger("click")}i=t,window.location.href=window.location.href}}})};var o,a=n(1),r=(o=n(59))&&o.__esModule?o:{default:o}},181:function(e,t,n){"use strict";var c=v(n(0)),o=v(n(4)),s=v(n(43)),l=v(n(28)),i=v(n(19)),d=r(n(44)),u=n(1),f=r(n(30)),a=n(11),p=v(n(77)),h=n(45),m=n(78);function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}function g(){var t,e=!1;if(!(y<=0)){if(!1!==C&&0<C.length)t=C;else if(!1!==k&&0<k.length)t=k,e=!0;else if(x)t=(0,u.jqGetElemById)("comment-a3f5".concat(x,"e92")),e=!0;else{if(!(!1!==w&&0<w.length))return;t=w}var n=function(){e&&(t.addClass("highlight"),setTimeout(function(){t.removeClass("highlight")},5e3))};0<t.length&&(p.default.expandThreadsFor(t),(0,a.isInViewport)(t)?n():function e(){o.default.delay(function(){t.is(":visible")?a.Anchors.scrollToTarget(t,n):e()},500)}())}}var y,_={},b=window.vkey||{},w=!1,k=!1,C=!1,x=!1,E=!1;_.add=function(e){var t=e.find(".guide-link"),n=e.find(".discsol-add-guide"),o=e.find("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id"),i=o.find("textarea"),a=o.find("[type=submit]");g();var r=i.filter(":visible");r.length||(r=i),(0,h.mentionsAndWikiLinks)(r),(0,s.default)(r),o.after(n),(0,u.jqOffOn)(t,"click",function(e){e.preventDefault(),n.fadeToggle(100)}),(0,c.default)("#make-visible-form, #make-private-form").on("submit",function(e){(0,c.default)(this).find("button").addClass("dim")}),o.on("submit",function(){(0,c.default)(this).attr("disabled","disabled"),a.attr("disabled","disabled")}),i.on("focus",function(){(0,c.default)(".mobile-solution-tips").show()}),u.$body.on("solvable.statechange",function(e){"solutions"===e.currentState&&i.trigger("autosize.resize")}),p.default.add_form()},_.showCommentsForSolution=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.find(".discsol-comments .cmp-deferred"),o="comments-expanded";!0===t?e.addClass(o):e.toggleClass(o),n.length&&d.load(n)},_.comments=function(e){if(p.default.expander(e),p.default.editEvents(e),e.find(".solution-comments-trigger").on("click",function(){_.showCommentsForSolution((0,c.default)(this).parents(".discsol-post-wrapper"))}),e.find(".action.subscr .cmp-deferred").each(function(e,t){d.load((0,c.default)(t))}),!0!==E){var t=window.location.hash||null;if(t){E=!0,t=t.split(/\//g);var n,o,i=e.parents("#solv-main");switch(t[1]){case"solution-comments":n="solutions",o=i.find(".btn-solution").length?i.find(".btn-solution").data("solutions-loaded"):i.find(".discsol-list").data("controller-inited"),e=(0,c.default)(".solv-solutions");break;case"dispute-comments":n="disputes",o=i.find(".report-link").data("disputes-loaded"),e=(0,c.default)(".solv-disputes");break;case"qanda-question":case"course-feedback":case"content-reports":return}if(o&&(0,m.setStateForSolvable)(e.parents(".solv-main"),n),t[2])if((w=(0,c.default)("#post-"+t[2])).length){0<=window.location.search.indexOf("unsubscribe_from_post=true")?(C=w.find(".action.subscr")).addClass("wiggle"):t[3]&&(x=parseInt(t[3],10)),y=e.find(".discsol-post").length;var a=w.parents(".discsol-post-wrapper");_.showCommentsForSolution(a,!0)}else{E=!1;var r=(0,u.jqGetElemById)("solution-next-page");r.length&&(I=t[2],r.click())}}}};var I=null;_.loadSolutionsPage=function(n){function o(){var e=n.data(),t={component_key:e.componentKey,param_key:e.paramKey};e.position&&(t.p=e.position),I&&(t.solution=I),n.addClass("loading"),(0,i.default)(e.pageKey).get(e.url,t)}u.$window.on("scroll.loadMoreSolutionsButton",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(0,a.isInViewport)(n)&&!t.force||n.hasClass("loading")||o()}),n.on("click",o)},_.filterableSolutionsComments=function(e){function n(e){if("all"===e)(0,c.default)(".discsol-post-wrapper .comment-item").removeClass(o);else if("unreviewed"===e){var t=(0,c.default)(".discsol-post-wrapper .level-0 > .comment-item");t.removeClass(o),function a(e){var r=!1;return e.each(function(e,t){var n=(0,c.default)(t),o=n.next(".cmmnt-container").children(".comment-item"),i=!1;o.length&&(i=a(o)),!0===n.data("reviewed")?i?n.addClass(l):n.addClass(s):i=!0,r=i||r}),r}(t)}}function t(){i.each(function(e,t){"solutions"===t.name?function(e){"all"===e?(0,c.default)(".discsol-post-wrapper").removeClass(o):"unreviewed"===e&&(0,c.default)(".discsol-post-wrapper").removeClass(o).each(function(e,t){Boolean(t.dataset.reviewed)&&(t.querySelectorAll(".comment-item:not([data-reviewed])").length?t.classList.add(l):t.classList.add(s))})}(t.value):"comments"===t.name&&n(t.value)})}var s="reviewable-hidden",l="reviewable-dim",o="".concat(s," ").concat(l),i=e.find("select");i.on("change",t),u.$window.on("solutions.reload",t)},b.quizzes_solvabledisputecomments=b.quizzes_challengesolvablesolutioncomments=b.potw_solvablesolutioncomments=b.potw_solvabledisputecomments=b.wikidiscussions_wikifeedbackcomments=b.qanda_comments=b.course_feedback_comments=b.contentreports_comments=b.dailyproblem_feedback_comments=b.disputediscussions_publicsolvabledisputecomments=b.daily_problems_solutioncomments=b.solutiondiscussions_publicsolvablesolutioncomments=function(e,t){var n=b.handle(e,t);p.default.events(),p.default.subscribe(),f.updateMathjax(n.find(".latex"));var o=n.find(".disc-comments").data("highlighted-comment-id");o&&(k=(0,u.jqGetElemById)("comment-a3f5".concat(o,"e92")),y+=1),x&&!k&&(0===(k=n.find(".cmmnt-container #comment-a3f5"+x+"e92")).length?k=!1:y+=1),!1!==k&&"qanda_comments"!==e.component_key&&"course_feedback_comments"!==e.component_key&&"contentreports_comments"!==e.component_key&&g(),p.default.expander(n),y--,u.$window.trigger(c.default.Event("solutions.reload"))},b.quizzes_challengesolvablesolutionwrapper=b.potw_solvablesolutionwrapper=b.daily_problems_solutionlist=b.solutiondiscussions_publicsolvablesolutionwrapper=function(e,t){var n=b.handle(e,t);f.updateMathjax(n.find(".latex")),p.default.init(n),u.$window.trigger("moreSolutionsLoaded");var o=!1,i={};for(var a in(0,c.default)(".solv-solutions .solution-header .text .mini-profile").each(function(){var e=(0,c.default)(this).data("id");if(e in i)i[e].count++,o=!0;else{var t=(0,c.default)(this).attr("href");i[e]={name:t?t.match(/\/profile\/(.*)\//)[1]:(0,c.default)(this).text().trim(),count:1}}}),i)i[i[a].name]=i[a].count,delete i[a];var r={},s=!1;p.default.hitPreviewSolution&&((0,c.default)(".hdr-settings .dropdown-toggle img").attr("alt")in i||(r["__Lost.Edits"]="Yes",s=!0));o&&(r._Authors=JSON.stringify(i),s=!0),s&&l.default.captureMessage("Messed up solutions",{tags:r}),p.default.hitPreviewSolution=!1},b.daily_problems_solutionwrapper=function(e,t){var n=b.handle(e,t);u.isIos&&n.find(".discsol-comments .cmp-deferred").each(function(e,t){d.load((0,c.default)(t))});u.$window.trigger("moreSolutionsLoaded")},e.exports=_},185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.component=function(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.data();(function(e){switch(e){case"InteractiveProblem":return Promise.all([a.e(11),a.e(100)]).then(a.bind(null,629));case"QuizDropdown":return Promise.all([a.e(11),a.e(99)]).then(a.bind(null,630));default:throw new Error("Unknown component '".concat(e,"'"))}})(i.component).then(function(e){var t=new e.default({propsData:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}({},i,o)});t.$mount(n[0]),t.$on("external",function(e){e.name&&r.$window.trigger("".concat(i.component,".").concat(e.name),e)})})};var r=a(1);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){return(0,o.uploadController)(e)};var o=n(172)},19:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new a(e)},t.Ajax=void 0;var n,l=(n=s(0))&&n.__esModule?n:{default:n},c=s(7),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(s(36)),u=s(11),f=s(1),p=s(74),o=s(31);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(i,e,t,n){var o=1<arguments.length&&void 0!==e?e:"",a=2<arguments.length&&void 0!==t?t:{},r=3<arguments.length&&void 0!==n?n:"POST";return a.page_key=a.page_key||i.key,a.version=a.version||window.VERSIONS[a.page_key]||1,a.deferred=a.deferred||!1,a.timeout=a.timeout||9e4,f.isNative||d.isSameOrigin(o)?(l.default.ajax({url:o,data:a,type:r,timeout:a.timeout,cache:!1,success:function(t){"string"==typeof t.redirect&&(a.redirectHandler?Promise.resolve().then(function(){if(s.m[17])return s.t(17,7);var e=new Error("Module '17' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}).then(function(e){return(0,e.executeFunctionByName)(a.redirectHandler,t.redirect,a)}):window.location=t.redirect),l.default.each(t.actions||{},function(e,t){var n=window.VERSIONS[t.component_key]||window.VERSIONS[e]||1;if(n===t.version)t.result&&t.result.reload?i.get(t.result.reload,{param_key:e,version:n}):i.success(e,t,a.deferred);else{window.VERSIONS[t.component_key]=t.version;var o=t.js_failure_mode;switch(1<Math.abs(n-t.version)&&(o="hard"),(0,l.default)(".hide-on-error").hide(),o){case"soft_with_update":(0,u.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. We're updating\n                                the page."),i.success(e,t);break;case"soft_without_update":(0,u.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. You must refresh\n                                the page and try again.");break;case"no_warn_no_update":break;case"hard":window.location.reload();break;default:throw new Error("Unknown failure mode ".concat(o))}}}),l.default.each(t.ajax_tracked_events||{},function(e,t){(0,c.track)(t.event_name,t.event_properties)}),l.default.each(t.messages||{},function(e,t){"error"===t.message_type?(0,u.showGenericModal)("Error",t.message_text):(0,u.showGenericModal)("Warning",t.message_text)})},error:function(e){i.error(e,a)}}),this):i.error({error:"csrf",responseText:"CSRF error",status:0})}var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=e||!1}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"post",value:function(e,t){return h(this,e,t,"POST")}},{key:"get",value:function(e,t){return h(this,e,t,"GET")}},{key:"form",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:"",o=1<arguments.length&&void 0!==t?t:{},i=(0,l.default)(n);if(0===i.length)return this;var a="string"==typeof o.url?o.url:i.attr("action");a=0===(a=a||"").length?window.location.href:a;var r=Object.assign({},{},(0,p.getFormData)(i),o,i.data());return i.find("button, input[type=submit], .btn").prop("disabled","disabled").addClass("dim"),h(this,a,r,"POST")}},{key:"error",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};(0,l.default)(".hide-on-error").hide(),e.status=e.status||0,n.page_key=this.key,delete n.version,delete n.csrfmiddlewaretoken,delete n.deferred,"timeout"===e.statusText?((0,o.showTimeoutErrorModal)(),n.timeoutHandler&&Promise.resolve().then(function(){if(s.m[17])return s.t(17,7);var e=new Error("Module '17' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}).then(function(e){(0,e.executeFunctionByName)(n.timeoutHandler,n),delete n.timeoutHandler}),(0,c.track)("timeout_errors",n)):0<e.status&&((0,o.errorModalHandler)(e),n.status=e.status,(0,c.track)("ajax_errors",n))}},{key:"success",value:function(e,t,n){(window.vkey[t.component_key]||window.vkey.handle)(t,e,n||!1)}}]),t}();t.Ajax=a},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=window.Raven;t.default=o},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkOverflow=l,t.scaleSVG=function(e){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.65;e.each(function(e,t){var n=(0,c.default)(t).find("svg");0<n.length&&n.each(function(e,t){var n=(0,c.default)(t),o=n.data("orig-width");o?n[0].style.width="".concat(o,"ex"):n.data("orig-width",parseFloat(n[0].style.width));var i=n.parent().width()+4,a=parseInt(n[0].style.width,10),r=~~n.width(),s=~~(a*i/r);i<r&&l<=s/a&&(n[0].style.width="".concat(s,"ex"))})})},t.updateMathjax=function(e){e.each(function(e,t){var n=(0,c.default)(t);s.loadForElement(n),n.parent().find(".uses-latex, .latex").css("visibility","visible")})},t.equationEditorTrigger=function(n){function o(e){(0,i.track)("ui",{action:"click",element_type:e,element_id:"link"})}n.on("click",function(e){var t=n.data();o(t.axClicked),e.metaKey||(e.preventDefault(),(0,r.showConfirmationModal)({text:n.data("text")}).then(function(e){e&&(o(t.axConfirmed),window.open(n.attr("href")))}))})};var o,c=(o=n(0))&&o.__esModule?o:{default:o},i=n(7),a=n(18),r=n(11),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(34));function l(e){(e?e.find(".latexprocessor-inline"):(0,c.default)(".latexprocessor-inline")).each(function(e,t){var n=(0,c.default)(t),o=n.outerWidth();n.parent().outerWidth()<o&&n.addClass("overflowed")})}(0,a.onDOMReady)(function(){l()})},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showStandardErrorModal=r,t.showTimeoutErrorModal=s,t.showBackendErrorModal=l,t.errorModalHandler=function(e){if("abort"===e.statusText)return;403===e.status?l(e):"timeout"===e.statusText?s():r()};var o=n(1),i=n(11);function a(){return(0,o.jqGetElemById)("default-ajax-error").data()}function r(){var e=a();e&&(0,i.showGenericModal)(e.errorTitle,e.errorContent)}function s(){var e=a();e&&(0,i.showGenericModal)(e.errorTitle,e.timeoutContent)}function l(e){if(e.responseJSON){var t=e.responseJSON.error;(0,i.showGenericModal)(t.title,t.message)}else console.log(e)}},336:function(e,t,n){"use strict";var o;(0,((o=n(0))&&o.__esModule?o:{default:o}).default)(document).ajaxSend(function(e,t,n){"POST"===n.type.toUpperCase()&&-1===n.contentType.search(/multipart\/form-data|application\/x-www-form-urlencoded/)&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")})},337:function(e,t,n){"use strict";var o={set:function(e,t,n){var o=(n=n||{}).expires;if("number"==typeof o&&o){var i=new Date;i.setTime(i.getTime()+1e3*o),o=n.expires=i}o&&o.toUTCString&&(n.expires=o.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var r in n)if(n.hasOwnProperty(r)){a+="; "+r;var s=n[r];!0!==s&&(a+="="+s)}document.cookie=a},get:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},remove:function(e){o.set(e,null,{expires:-1})}};e.exports=o},338:function(e,t,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newGlossaryTerm=function(e){C({$input:b,startStr:e.html().split("]]")[0],endStr:"]]",placeholderStr:""}),E.modal("hide"),e.remove(),_.default.track("ui",{element_id:"add_new_glossary_term",action:"staff_only_action",element_type:"btn"})},t.controller=function(e){function t(){o.on("mousedown",function(e){e.preventDefault()}),i.on("click",function(e){e.preventDefault();var t=g.default.get(h);C({$input:h,cursorPosition:t,startStr:"\\(",endStr:"\\)",placeholderStr:"LaTeX"})}),a.on("click",function(e){e.preventDefault();var t=g.default.get(h);x(h,t,"","",[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}])}),r.on("click",function(e){e.target===this&&r.find("input").trigger("click")}),s.on("click",function(e){e.preventDefault();var t=g.default.get(h),n=w(h,t,"[[start-example]]");C({$input:h,cursorPosition:t,startStr:n,endStr:"[[end-example]]",placeholderStr:"example text"})}),l.on("click",function(e){e.preventDefault();var t=g.default.get(h),n=w(h,t,"[[start-proof]]");C({$input:h,cursorPosition:t,startStr:n,endStr:"[[end-proof]]",placeholderStr:"proof text"})}),c.on("click",function(e){e.preventDefault(),b=h,E.modal("show"),_.default.track("ui",{element_id:"clicked_glossary_button",action:"staff_only_action",element_type:"btn"}),(0,y.jqOffOn)(E.find(".new-glossary-card"),"click",function(){E.find(".new-glossary-card-container").removeClass("hide"),m.e(15).then(m.t.bind(null,988,7)).then(function(){E.find("#id_glossary_term").on("keyup",function(){E.find("#id_slug").val(window.URLify(E.find("#id_glossary_term").val(),50))})});var t=E.find("#id_filter_wiki");t.on("keyup",function(){var e=E.find("#id_wiki"),o=t.val().toLowerCase();""===o?e.find("option").css("display","block"):e.find("option").each(function(e,t){var n=(0,v.default)(t);-1!==n.html().toLowerCase().indexOf(o)||-1!==n.val().indexOf(o)?n.css("display","block"):n.css("display","none")})})}),(0,y.jqOffOn)(E.find(".search-glossary"),"click",function(e){_.default.track("ui",{element_id:"search_glossary_term",action:"staff_only_action",element_type:"btn"}),e.preventDefault();var n=E.find(".search-glossary-card-container");v.default.get(e.target.href,{prefix:E.find(".prefix").val()}).then(function(e){var t=e.map(function(e){return'<li><button data-value="'.concat(e.value,'"\n                    class="btn-link">').concat(e.name,"</button></li>")}).join("");n.html(t),n.find("button").on("click",function(e){C({$input:b,startStr:(0,v.default)(e.target).data("value").split("]]")[0],endStr:"]]",placeholderStr:""}),E.modal("hide"),_.default.track("ui",{element_id:"add_searched_glossary_term",action:"staff_only_action",element_type:"link"})})})})}),d.on("click",function(e){e.preventDefault();var t=g.default.get(h);C({$input:h,cursorPosition:t,startStr:"**",endStr:"**",placeholderStr:"bold text"})}),u.on("click",function(e){e.preventDefault();var t=g.default.get(h);x(h,t,"\\(\\frac","\\)",[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}])}),f.on("click",function(e){e.preventDefault();var t=h.val(),n=g.default.get(h),o=t.lastIndexOf("\n",n-1)+1,i=t.indexOf("\n",n-1),a=k(),r=n;i=-1==i?t.length:i,-1==t.slice(o,i).search("- ")&&(g.default.insert(h,"- ",o),r+="- ".length),a?g.default.set(h,r,r+a.length):g.default.set(h,r),h.trigger("input")}),p.on("click",function(e){e.preventDefault();var t=g.default.get(h),n=w(h,t,"||");x(h,t,n,"||",[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}])})}var n=e.data(),o=e.find(".btn"),i=o.filter(".add-latex"),a=o.filter(".add-link"),r=o.filter(".add-image"),s=o.filter(".add-example"),l=o.filter(".add-proof"),c=o.filter(".add-glossary"),d=o.filter(".add-bold"),u=o.filter(".add-fraction"),f=o.filter(".add-list"),p=o.filter(".add-table"),h=(0,v.default)(n.target);h.length?t():(0,v.default)(n.target.replace("__copy","")).on("mentions.ready",function(){h=(0,v.default)(n.target),t()})};var v=n(m(0)),g=n(m(73)),y=m(1),_=n(m(7));function n(e){return e&&e.__esModule?e:{default:e}}var b,w=function(e,t,n){var o=e.val();return o&&t&&!o.charAt(t-1).match(/\n/)?"\n".concat(n):n},k=function(){var e="";if(window.getSelection)e=window.getSelection().toString();else if(document.selection&&"Control"!==document.selection.type){e=document.selection.createRange().text}return e},C=function(e){var t,n=e.$input,o=e.cursorPosition,i=e.startStr,a=e.endStr,r=e.placeholderStr;t=void 0===o?g.default.get(n):o;var s,l=k(),c=t+i.length;l?(s=c+l.length,g.default.insert(n,i,t),g.default.insert(n,a,s)):(s=c+r.length,g.default.insert(n,i+r+a,t)),g.default.set(n,c,s),n.trigger("input")},x=function(e,t,n,o,i){var a,r,s=i[0].startStr,l=i[0].placeholder,c=i[0].endStr,d=i[1].startStr,u=i[1].placeholder,f=i[1].endStr,p=k();if(p)r=(a=t+n.length+s.length+p.length+c.length+d.length)+u.length,g.default.insert(e,n+s,t),g.default.insert(e,c+d+u+f+o,t+n.length+s.length+p.length);else{var h=l+c+d+u;r=(a=t+n.length+s.length)+h.length,g.default.insert(e,n+s+h+f+o,t)}g.default.set(e,a,r),e.trigger("input")},E=(0,v.default)(".glossary-admin-modal")},339:function(e,t,n){"use strict";var o,i=(o=n(0))&&o.__esModule?o:{default:o},a=n(7),r=n(37),s=n(9),l=f(n(44)),c=n(1),d=f(n(34)),u=n(17);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}window.vkey=window.vkey||{},window.vkey.handle=function(e,t){var n=(0,i.default)("#cmp_".concat(t,"_id"));return 0===n.length&&(n=(0,i.default)(".cmp_".concat(t,"_id"))),c.$window.trigger(i.default.Event("".concat(s.EVT_VKEY_BEFORE_UPDATE,".").concat(e.component_key),{$cmp:n})),n.html(e.new_html),(0,r.initAutosubmit)(n),(0,u.initGenericControllers)(n),(0,a.setAnalyticsEvents)(n),c.$window.trigger(i.default.Event("".concat(s.EVT_VKEY_AFTER_UPDATE,".").concat(e.component_key),{$cmp:n})),d.loadForElement(n),n.find(".cmp-deferred").each(function(e,t){l.add((0,i.default)(t))}),n}},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textContainsUnrenderedMath=p,t.useKatex=v,t.formPreloader=function(e){var t=e.find("input[type=text], textarea"),n="keydown.mjxpreload";t.on(n,function(){t.off(n),y()})},t.loadForElement=b,t.onLoad=w,t.loadForElementAsync=function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(e){v()?(b(t,n),e()):w(function(){setTimeout(function(){b(t,n),window.MathJax.Hub.Queue(function(){return e()})})})})},t.redrawExpression=function(n,o,i,a){if(v())return i(n,o);return new Promise(function(t){try{var e=window.MathJax.Hub.getAllJax(n)[0];e?(window.MathJax.Hub.Queue(["Text",e,o]),window.MathJax.Hub.Queue(function(){t()})):(n.classList.add(a),i(n,o).then(t))}catch(e){t()}})},t.controller=function(){function e(){return _(document.body)}window.isLoaded?e():window.addEventListener("load",e)};var o,i=(o=n(69))&&o.__esModule?o:{default:o};var a={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"},r=!1,s=!1,l=[],c=[],d=/\\\(.*?\\\)/,u=/\\\[.*?\\\]/,f=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/data-answers-list=".*?"/g,/data-registered-choice=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g];function p(e){for(var t=e,n=0;n<f.length;n+=1)t=t.replace(f[n],"");return d.test(t)||u.test(t)}function h(e){return p(e.innerHTML)}function m(){return"/latex-image-export/"===window.location.pathname}function v(){return document.body.classList.contains("use_katex")&&!m()}function g(e){if(v())(0,i.default)(e);else try{window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,e])}catch(e){}}function y(){if(!s&&!r)if(v())s=!0;else{r=!0;var t=document.createElement("script"),e=m()?"TeX-AMS_SVG":"TeX-AMS_HTML";t.type="text/javascript",t.src="".concat(document.body.dataset.mediaHost,"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=").concat(e),t.addEventListener("load",function(){s||(s=!(r=!1),window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:!1,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:!1,positionToHash:!1}),window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Register.StartupHook("TeX color Ready",function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,a)}),c.forEach(function(e){return e()}),l.forEach(g),l=[])}),setTimeout(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},0)}}function _(e){v()?setTimeout(function(){return(0,i.default)(e)}):s?g(e):(l.push(e),r||y())}function b(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];"function"==typeof e.each?e.each(function(e,t){(n||h(t))&&_(t)}):(Array.isArray(e)?e:[e]).forEach(function(e){(n||h(e))&&_(e)})}function w(e){s?e():c.push(e)}},340:function(e,t,n){"use strict";var h=o(n(0)),m=o(n(4)),v=n(1),g=n(17);function o(e){return e&&e.__esModule?e:{default:e}}var i={showHeaderOnScroll:function(e){v.$window.on("scroll",function(){200<v.$window.scrollTop()&&!e.hasClass("show")?e.addClass("show"):v.$window.scrollTop()<80&&e.hasClass("show")&&e.removeClass("show")})},deactivatedAccountModal:function(e){e.modal({show:!0})},autoOpenSignup:function(e){"#sign-up"===window.location.hash&&e.click()},autoOpenLogin:function(e){"#login"===window.location.hash&&e.click()},inlineSignupForm:function(o){function i(e){e.css({display:"block",position:"absolute",left:"-99999px",top:"-99999px"});var t=e.outerHeight();return e.css({display:"",position:"",left:"",top:""}),t}var a=o.find(".initial-content"),e=a.find(".signup-btn"),r=o.find(".signup-btns"),t=(0,v.jqGetElemById)("inline-signup-email"),s=o.find(".inline-signup-form-container"),l=t.data(),c=s.data(),d=1e3*parseFloat(o.css("transition-duration")),u=!1,f=a.outerHeight(),p=i(r);e.one("click",function(e){if(e.preventDefault(),!u){var t=m.default.extend({page_key:c.pageKey},l);h.default.get(c.url,t).then(function(e){u=!0,s.html(e.actions.homepage_signup_form.new_html),(0,g.initGenericControllers)(s)})}var n=o.height();o.height(n),o.addClass("out"),o.height(n+(p-f)),setTimeout(function(){o.removeClass("out"),a.hide(),r.show(),o.height("")},d)}),t.on("click",function(e){if(u){e.preventDefault();var t=o.height(),n=i(s);o.height(t),o.addClass("out"),o.height(t+(n-p)),setTimeout(function(){o.removeClass("out"),r.hide(),s.show(),o.height("")},d)}})},v4Signup:function(n){(0,v.jqGetElemById)("btn-email-signup").on("click",function(e){e.preventDefault();var t=n.find(".v4-form");n.animate({opacity:0},200,function(){n.animate({height:t.outerHeight()+parseInt(t.css("margin-top"),10)+30},200,function(){n.addClass("open").animate({opacity:1,height:"auto"},200)})})}),(0,v.jqGetElemById)("fb_canvas_signup").on("click",function(e){e.preventDefault(),window.top.location.replace("https://brilliant.org/account/facebook/login/")})}};e.exports=i},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modal=function(e){function t(){r(),n.modal("show")}var n,o,i=e.data(),a=(0,s.default)(i.trigger),r=l.default.once(function(){!function(e){var t=e.find("textarea"),n=e.find(".note");t.on(f,l.default.throttle(function(e){l.default.defer(function(){n.toggleClass(d.CLASS_NAME_HIDE,0===e.currentTarget.value.length)})},250))}(n),o.showAtStart||p(n),h(n),n.find("form").on("submit",function(){u.$body.data(d.CMP_RELOADING_FLAGS.DISPUTES,!0)}),n.on("hide",function(){i.endstate&&(u.$body.data(d.CMP_RELOADING_FLAGS.DISPUTES,!0),(0,c.default)("assessment").get(i.solvableUrl,{page_key:i.pageKey}))})});u.$body.children(".modal-bg").has(".dispute-form-modal").remove(),a.on("click",function(e){e.preventDefault(),t()}),l.default.defer(function(){n=e.clone(!0,!0),(o=n.data()).showAtStart&&t()})},t.webview=function(e){p(e),h(e)};var s=o(n(0)),l=o(n(4)),c=o(n(19)),d=n(9),u=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var f="keydown.shownote";function p(e){e.find("#solvable-resend-verification-form").trigger("submit")}function h(o){var i=o.find("input[type=radio]"),a=o.find(".choose-choice"),r=o.find(".cancel"),t=o.find(".note");i.on("change",function(){a.toggleClass(d.CLASS_NAME_DISABLED,0===i.filter(":checked").length)}),a.on("click",function(e){e.preventDefault();var t=i.filter(":checked");if(t.length){a.hide();var n=o.find(".".concat(t.val()));o.addClass("out"),setTimeout(function(){o.find(".options").hide(),n.add(r).show(),n.find("textarea").triggerHandler(f),o.removeClass("out")},250)}}),r.on("click",function(e){e.preventDefault(),o.addClass("out"),setTimeout(function(){o.find(".options").add(a).show(),o.find(".choice").filter(":visible").add(r).hide(),t.addClass(d.CLASS_NAME_HIDE),o.removeClass("out")},250)})}},35:function(e,t,n){"use strict";var i=n(0),o={update:function(e,t,o){void 0===t&&(t=!0),o=o||function(){};var n=(t?"/profile/set_flag/":"/profile/unset_flag/")+e+"/";i.post(n).then(function(e){o(e)}).fail(function(e,t,n){o({success:!1,error:n,status:e.status})})},controller:function(e){var t=e.data("flag")||null;null!==t&&e.on("click",function(){o.update(t,!0)})}};e.exports=o},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streakModal=function(o){s.default.defer(function(){if(0===(0,c.jqGetElemById)("sales-card").length){if(c.isMobile)return o.show(),s.default.defer(function(){o.addClass("animated")}),void c.$body.one(a.EVT_QUIZ_POSITION_DID_CHANGE,function(){o.one("transitionend",function(){o.hide()}),o.removeClass("animated")});var t=(0,c.jqGetElemById)("solv-main"),e=o.html(),n=t.data("full-url")||"";n+=-1===n.indexOf("?")?"?":"&",e=e.replace(/__share_url__((\?)|(%3F))/g,n).replace(/&streak=|&amp;streak=/g,"&streak="),o.html(e),(0,d.initGenericControllers)(o),(0,i.modalController)(o),s.default.defer(function(){o.find(".streak-icon").addClass("animated")}),0===(0,c.jqGetElemById)("wiki-main").length&&o.find(".continue-btn").on("click",function(){var e=t.find(".esr-problem");e?e.click():o.hide()})}})},t.topicsNav=function(t){var n=t.find(".toggle"),o=t.children("div"),i="expanded",a=!1;n.on("click",function(e){e.preventDefault(),a=!a,t.toggleClass(i,a)}),c.$body.on("click",function(e){a&&e.target!==n[0]&&e.target!==o[0]&&0===(0,r.default)(e.target).parents().filter(o).length&&(t.removeClass(i),a=!1)})},t.continuePracticing=function(e){var t=e.data(),n={action:"click",element_type:"button",continue_practicing_quiz_id:t.targetQuizId,continue_practicing_problems_left:t.problemsLeft,path:window.location.pathname,full_path:window.location.pathname+window.location.search},o=(0,c.jqGetElemById)("footer-notifs"),i=o.outerHeight(),a=e.outerHeight();o.css("height",i+a+20),e.find(".continue-practicing-button").on("click",function(){(0,l.track)("ui",s.default.extend({element_id:"continue_practicing_button"},n))}),e.find("form").find(".close").on("click",function(){e.hide(),o.css("height",i),(0,l.track)("ui",s.default.extend({element_id:"continue_practicing_dismissed"},n))})},t.reenablePremium=function(e){setTimeout(function(){e.addClass("in"),(0,l.track)("ui",{element_id:"autorenewcancel_show_tooltip"})},1e3);function t(){e.one("transitionend",e.remove),e.removeClass("in")}e.on("click",function(e){return e.stopPropagation()}),e.find(".btn-close").one("click",t),c.$body.on("click",t)};var r=o(n(0)),s=o(n(4)),l=n(7),c=n(1),i=n(11),a=n(9),d=n(17);function o(e){return e&&e.__esModule?e:{default:e}}},356:function(e,t,n){"use strict";var s=n(538),l=i(n(0)),c=i(n(4)),o=n(37),d=n(1),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(30)),f=n(17),p=i(n(88)),h=n(78);function i(e){return e&&e.__esModule?e:{default:e}}function m(n){return(n=n||{}).answer=n.answer.trim(),n.preventUpdate=!1,n.hasMultipleOptions||(n=function(e){if(e.interactive)return e.validationError=!1,e.alreadyTriedThisAnswer=!1,e;0===e.answer.indexOf("+")&&(e.answer=e.answer.substring(1)),e.answer.length&&(e.answer=e.answer.replace(/^0+/,""),""===e.answer&&(e.answer="0"));var t=parseFloat(e.answer),n=e.answer.replace(/[\d-Ee\.]/g,"");return isNaN(t)||0<n.length?e.validationError=!0:null===e.answer.match(/[\.Ee]/)||e.isFloat?e.validationError=!1:e.validationError=!0,e.alreadyTriedThisAnswer=0<=e.answersList.indexOf(e.answer.toString()),e}(n)),n.validationError||n.alreadyTriedThisAnswer||(n=function(e){if(e.interactive)e.answerIsCorrect=(0,l.default)("[name=mark_correct]").prop("checked");else{var t=_.update(e.answer+e.salt).digest("hex");e.answerIsCorrect=t==e.hash,e.answerIsCorrect||(e.answersList.unshift(e.answer),e.preventUpdate=e.isFloat),e.triesLeft--,e.attemptNumber++}return e}(n)),n.canStillAnswer=0<n.triesLeft&&!n.answerIsCorrect,n.isMobile=d.isMobile,n.b2=d.isBrilliantPremium,n.answersListWithAnd=function(){var e=n.answersList,t=n.answersList.length;return e=1===t?e[0]:2===t?e.join(" and "):(e[t-1]="and "+e[t-1],e.join(","))},n}var v={},g={},y=null,_=null,b=null;v.processAttemptData=m;v.init=function(e){var o=e.data(),i=g[o.solvable]||{},a=e.parents(".solv-details,.solv-details-loggedout"),r=a.find(["#mcq-form","#text_answer_entry_form","#solv-interactive-form",".solv-form-logged-out"].join(","));_=(0,s.createHash)("sha1"),o.answersList=o.answersList?o.answersList.toString():"";try{o.answersList=o.answersList.length?o.answersList.split(/,/g):[]}catch(e){o.answersList=[]}if(o.answersList=o.answersList.filter(function(e){return 0<e.length}),o.answerIsCorrect=!1,o.$choices=o.hasMultipleOptions&&r.find("svg").length?r.find(".btn-mcq"):null,o.b2=d.isBrilliantPremium,null===b||b>=o.numFreeSolutionsRemaining?b=o.numFreeSolutionsRemaining:o.numFreeSolutionsRemaining=b,o.exportOnly)return v.data=o,i.data=o,void(g[o.solvable]=i);i.template=i.template||null,null===i.template&&(i.template=c.default.template(e.text())),i.data=o,g[o.solvable]=i,r.on("submit",function(e){e.preventDefault(),c.default.defer(function(){if(!r.data("no_instant_response")){if(y=o.solvable,o.viewedSolution=r.data("viewed-solution"),o.viewedSolution)o.answer=null;else if("single_select"===o.problemType)o.answer=r.find("input[type=radio]:checked").val();else if("multi_select"===o.problemType){var t=[];r.find("input[type=checkbox]").each(function(e){(0,l.default)(this).is(":checked")&&t.push(e+1)}),o.answer=t.join("|")}else o.answer=r.find("#id_answer,.logged-out-answer").val();o.answer||o.interactive?(o.answer=o.answer||"",o.answer=o.answer.replace(/__replace_plus__/g,"+"),o=m(o)):o.canStillAnswer=!1;var n=a.parents(".solv-main");n.data("ir-verification",{canStillAnswer:o.canStillAnswer,answerIsCorrect:o.answerIsCorrect,attemptNumber:o.attemptNumber,triesLeft:o.triesLeft,answer:o.answer,preventUpdate:o.preventUpdate}),o.preventUpdate||(i.$originalSidebar=a.clone(),i.$solvable=n,c.default.defer(function(){var e=o;o.isMobile&&o.hasMultipleOptions&&!o.answer&&c.default.extend(e,{canStillAnswer:!0}),a.html(i.template(e)),function(e,a){if(!a.canStillAnswer){var t="endstate "+(a.answerIsCorrect?"correct":"incorrect");if(a.isPracticeSection)if(d.isIos&&d.appVersion.isGreaterThanOrEqualTo("0.9.1"))a.answerIsCorrect?window.location="answercorrect://":window.location="answerincorrect://";else if(d.isAndroid)try{Android.onPracticeSolvableAnswered(a.answerIsCorrect)}catch(e){}e.addClass(t)}var n=e.parents(".solv-main");if(a.hasMultipleOptions&&a.$choices&&e.find(".btn-mcq").each(function(e){var t=(0,l.default)(a.$choices[e]),n=(0,l.default)(this),o=n.find(".choice-text"),i=o.length?o:n;t.find("input").remove(),i.html(t.html())}),(0,l.default)(".btn-solution").not(".solution-btn-b2").addClass("disabled dim").attr("disabled","disabled"),(0,d.jqOffOn)(e.find(".btn.disabled"),"click",function(e){e.preventDefault()}),(0,h.practiceAnon)(n),(0,f.initGenericControllers)(e),u.updateMathjax(e),"single_select"==a.problemType&&e.find(".btn-mcq").each(function(){var e=(0,l.default)(this),t=e.data("choice");a.answer===t&&e.addClass(a.answerIsCorrect?"correct":"incorrect")}),a.isPracticeSection||a.isProblemOfTheDay){var o=n.parents(".prac-preload-wrapper");o.length&&p.default.practice(o,{reloaded:!0,instantResponse:!0})}}(a,o),n.trigger(l.default.Event("instantresponse.updated",o)),d.$window.trigger(l.default.Event("instantresponse.updated",o))})),i.data=o,g[o.solvable]=i}})})},v.timeout=function(){var e=g[y],t=e.$originalSidebar||null;null!==t&&(e.$solvable.find(".solv-details").replaceWith(t),t.find(".spinner").removeClass("active"),t.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),c.default.defer(function(){(0,f.initGenericControllers)(t),(0,o.initAutosubmit)(t)}))},e.exports=v},357:function(e,t,n){"use strict";var s=i(n(0)),o=i(n(4)),l=n(1),c=n(7);function i(e){return e&&e.__esModule?e:{default:e}}n(358);var a,r,d,u,f={};function p(){window.location.href="/account/google/login/callback/"}function h(e){e.success&&e.data&&e.data.redirect?"social-signup"==e.data.redirect?window.location=a.signupUrl:"nux"==e.data.redirect?window.location=a.nuxUrl:window.location="/":p()}function m(){gapi.auth.signIn({callback:u,clientid:a.clientId,cookiepolicy:"single_host_origin",scope:"profile email",apppackagename:"org.brilliant.android"})}f.onload=function(){var t=(0,l.jqGetElemById)("signin"),n=(0,l.jqGetElemById)("signup"),o=(0,s.default)("#signup-form, #signup_form");if(0!==t.length&&0!==n.length&&0!==o.length){var i=window.location.hash||!1;if(i)(0,s.default)("input[name=next]").each(function(){var e=(0,s.default)(this);e.val(e.val()+i)});var a=function(e){l.isMobile||e.find("input").filter("[type=email], [type=password], [type=text]").first().focus()};if((0,s.default)(".goto-signup").on("click",function(e){e.preventDefault(),t.fadeOut(100,function(){n.fadeIn(100),a(n)})}),(0,s.default)(".goto-signin").on("click",function(e){e.preventDefault(),n.fadeOut(100,function(){t.fadeIn(100),a(t)})}),(0,s.default)(".goto-signup-form").on("click",function(e){e.preventDefault(),n.fadeOut(100,function(){o.fadeIn(100),a(o)})}),(0,s.default)(".goto-signup-main").on("click",function(e){e.preventDefault(),o.fadeOut(100,function(){n.fadeIn(100),a(n)})}),t.is(":visible")&&a(t),0<(0,s.default)(".validation-error").length&&(0,c.track)("ui",{action:"click",element_type:"form",element_id:"v4_signup_validation_error"}),0<o.length&&!o.hasClass(".fb")){var e=(0,s.default)(this).find("input[type=text], select"),r=(0,s.default)(this).find("#id_birthday_month, #id_birthday_day, #id_birthday_year");e.on("blur.validation",function(e){var t=s.default.trim((0,s.default)(this).val()),n=(0,s.default)(this).parents(".control-group"),o=(0,s.default)(this).parents(".outer-field").find(".validation-error-msg");""===t?n.hasClass("error")||(n.addClass("error validation-error"),o.show()):n.hasClass("validation-error")&&(n.removeClass("error validation-error"),o.hide())}),r.off("blur.validation"),r.on("blur.bday_validation",function(e){var n=(0,s.default)(this).parents(".control-group"),o=(0,s.default)(this).parents(".outer-field").find(".validation-error-msg");0===parseInt((0,s.default)(this).val(),10)?n.hasClass("validation-error")||(n.addClass("error validation-error"),o.show()):n.hasClass("validation-error")&&r.each(function(e,t){if(0===parseInt((0,s.default)(this).val(),10))return!1;e===r.length-1&&n.hasClass("validation-error")&&(n.removeClass("error validation-error"),o.hide())})})}}},f.googleAuth=(r=!(d="googleapis.ready"),u=function(e){r||(r=!0,e.access_token?s.default.post(a.loginUrl,{access_token:e.access_token}).then(h).always(function(){r=!1}):(e.error&&-1===["immediate_failed","access_denied"].indexOf(e.error)&&p(),o.default.defer(function(){r=!1})))},o.default.defer(function(){window.googleApisLoaded?l.$body.trigger(s.default.Event(d)):window.onGoogleApisLoaded=function(){window.googleApisLoaded=!0,l.$body.trigger(s.default.Event(d))}}),function(e){a=e.data(),e.on("click",function(){window.googleApisLoaded?m():l.$body.on(d,m)})}),f.loginBtnFallback=function(e){null===e[0].form&&e.one("click",function(){(0,l.jqGetElemById)(e.attr("form")).submit()})},e.exports=f},358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){var t=e.find("#email-validation"),n=e.find("#id_email");0<t.length&&0<n.length&&(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.$fields,n=e.inProgress,i=void 0===n?c.default.noop:n,o=e.onSuccess,a=void 0===o?c.default.noop:o,r=e.onError,s=void 0===r?c.default.noop:r;t.on("blur",function(e){var n=e.target,t=(0,l.default)(n).val();if(t){var o=!1;512<t.length?s.call(n,"address is too long (".concat(t.length,")")):(i.call(n),l.default.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:t,api_key:d},dataType:"jsonp",crossDomain:!0}).done(function(e){o=!0,a.call(n,e)}).fail(function(e,t){o=!0,s.call(n,"http error: ".concat(t," (").concat(e.status,")"))}),setTimeout(function(){o||s.call(n,"timeout")},3e4))}})}({$fields:n,onSuccess:function(e){t.removeClass("active didyoumean invalid"),n.removeClass("email-invalid"),e.is_valid&&!e.did_you_mean||(n.addClass("email-invalid"),e.did_you_mean?((0,o.jqGetElemById)("didyoumean-txt").text(e.did_you_mean),t.data("didyoumean",e.did_you_mean).addClass("active didyoumean")):t.addClass("active invalid"))},onError:function(e){i.default.captureMessage("Mailgun error: ".concat(e))}}),t.find(".didyoumean-close").on("click",function(e){e.preventDefault(),(0,l.default)(e.currentTarget).hasClass("accept")&&n.val(t.data("didyoumean")),t.removeClass("active"),n.removeClass("email-invalid")}))};var l=a(n(0)),c=a(n(4)),o=n(1),i=a(n(28));function a(e){return e&&e.__esModule?e:{default:e}}var d="pubkey-7bfc8ckzpnzm6x-a4d86olnmp5lbj5p2"},359:function(e,t,n){"use strict";var s=f(n(0)),d=f(n(4)),u=n(1),r=c(n(30)),o=f(n(179)),l=n(11),i=c(n(15)),a=f(n(59));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}n(501),n(180);var p=u.isMobile?5:15,h={},m=window.vkey||{};h.instantBtn=function(a){a.on("click",function(e){if(!(a.hasClass("loading")||a.hasClass("disabled")||"ignore"===a.data("action")||0<a.parents(".dropdown-menu").length)){e.preventDefault();var t=a.parents("form"),n=t.data()||{},o=a.hasClass("active"),i=n.count||0;i=o?i-1:i+1,t.data("count",i),a.html(n.tmpl.replace(/\[count]/g,i)),a.toggleClass("zero",0===i),a.toggleClass("active"),a.addClass("loading"),d.default.defer(function(){t.submit()})}})},h.followBtn=function(c){c.on("click",function(e){e.preventDefault();var t=c.parents("form"),n=t.find("[type=submit]"),o=t.find("[name=subscribed]"),i=n.data(),a=o.val(),r=n.html().trim(),s=i.toggleClass||"btn-accent",l=n.hasClass("btn-toggle");d.default.defer(function(){n.html(i.altText),n.data("alt-text",r),n.trigger("blur").toggleClass(s).toggleClass("btn-subscribed","yes"===a)}),d.default.delay(function(){t.submit()},l?200:10)})};function v(t,e,n,o){o=o||d.default.noop;var i=e+"-"+n;if(void 0!==t&&k["load_action_"+t]!==i){k["load_action_"+t]=i;var a={next_category_type:t,current_selected_category_id:e,previous_selected_category_id:n},r={url:"/assessment/get_categorization_options/",type:"POST",data:JSON.stringify(a),headers:{"Content-type":"application/json"}};s.default.ajax(r).done(function(e){k[t]=e,o()})}else o()}function g(o,i,a,r){r=r||d.default.noop,void 0!==k[i]&&void 0!==k[i][a]?v(w[i],"",a,function(){var e=k[i][a],t=o.find("select"),n=o.find("div.dropdown");!function(e,t){var n=d.default.template((0,s.default)("#custom_select_options_tmpl").text())({options:t}),o=e.find("ul.dropdown-menu"),i=d.default.template((0,s.default)("#html_select_options_tmpl").text())({options:t}),a=e.find("select"),r=a.val();e.find(".dropdown-menu a").find("span").first().html("..."),o.html(n),a.html(i),(0,l.CustomSelectbox)(e),r&&setTimeout(function(){o.find('[data-opt-value="'+r+'"]').click()},50)}(o,e),(0,u.jqOffOn)(t,"change",function(){C(n,i,t.val())}),r(!0)}):r(!1)}var y,_,b,w={topic:"sub_topic",sub_topic:"chapter",chapter:"recommended_concept_quiz"},k={},C=function(e,t,n){var o=e.parent("div.field"),i=w[t],a=o.parent().find("div.field-"+i);n&&0<a.length&&g(a,i,n,function(e){e&&(!0===a.data("is-reloading")?a.data("is-reloading",!1):(o.slideUp(),a.find("a.back_link").show(),a.slideDown(400,function(){(0,s.default)(this).css("overflow","visible")})))})};h.CategorizationNavBack=function(e){var t=e.parents("div.field"),n=t.prev();e.on("click",function(){t.slideUp(),n.slideDown(400,function(){(0,s.default)(this).css("overflow","visible")})})},h.TopicSelector=function(e){function t(){h.selectedTopic=parseInt(y.val(),10),void 0!==_.filter_categories&&C(e,"topic",y.val())}y=e.find("select"),_=e.data(),h.selectedTopic=null,(0,u.jqOffOn)(y,"change",t),void 0!==_.filter_categories&&v("sub_topic","","",t)},h.LevelSelector=function(e){b=e.data("level-data"),e.on("open",function(){var n=b[h.selectedTopic]||0;e.find(".dropdown-menu a").each(function(){var e=(0,s.default)(this),t=e.data("opt-value")||0;n<t?e.addClass("disabled"):e.removeClass("disabled")})})},h.filterMenu=function(e){e.find(".trigger").on("click",function(){e.toggleClass("filtering")})};function x(e){var t=0<arguments.length&&void 0!==e?e:u.$body;(t.is(".nf-feed-item")?t:t.find(".nf-feed-item")).each(function(){var t=(0,s.default)(this);t.find(".staff-tools-toggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.find(".staff-tools").toggle()}),t.find(".mini-profile").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=(0,s.default)(this).data("url");t&&(window.location.href=t)})})}var E,I,T,S,O,j,q,P,A,N;h.datepicker=function(n){function t(e){var t=i.getParamsObject();null!==e?t.before_date=e.getTime()/1e3:t.before_date&&delete t.before_date,n.siblings(".dropdown-toggle").dropdown("toggle"),window.location=i.appendGetParams(window.location.pathname,t)}var o=!1,e={maxViewMode:0,minViewMode:"days",startView:0,clearBtn:0<=window.location.search.search(/[\?|&]before_date=/),templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};n.datepicker(d.default.extend({},e,n.data())),n.on("changeDate",function(e){o||t(e.date)}),n.find(".clear").on("click",function(e){o=!0,t(null)})},h.portalFeed=function(n){n.find("select").on("change",function(){if(n.addClass("loading"),"/community/home/"===window.location.pathname)(0,s.default)(this.form).submit();else{var e={};n.find("select").each(function(){e[this.name]=this.value});var t=d.default.template(n.data("url-format"))(e);window.history?((0,s.default)(this.form).submit(),window.history.replaceState({},"",t)):window.location.href=t}}),n.find(".feed-section-choice").on("click",function(){var e=(0,s.default)(this).data();(0,s.default)(e.field).val(e.choice).trigger(s.default.Event("change"))});var e=".portal-feed-filters";n.find(e+" > button").on("click",function(){(0,s.default)(this).parents(e).toggleClass("open")})},h.problemsFeedPreviews=(P=q=!1,A={},N=".problem-preview-tooltip",function(e){if(!(E=u.$body.children(N)).length){var t=(0,s.default)(N);if(!t.length)return;(E=t.first()).appendTo(u.$body),t.not(E).remove()}function a(){j=setTimeout(function(){P||(E.css("left",-99999),q=!1)},300)}I=E.find(".content"),T=E.find(".dropdown-menu"),S=T.outerHeight(!0)-I.outerHeight()+parseInt(I.css("max-height")),e.find(".modal-feed-item").each(function(){function t(e){q&&E.data("solvable-id")===n&&(I.html(e),r.updateMathjax(I),r.checkOverflow(I),i())}var c=(0,s.default)(this),n=c.data("solvable-id"),o=c.data("preview-url"),i=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=c.offset().top+c.outerHeight()/2,o=t.useActualHeight?T.outerHeight(!0):S,i=u.$window.scrollTop(),a=i+u.$window.height(),r=n-o,s=n+o,l="bottom";a<s&&(i<r||r<i&&i-r<s-a)&&(l="top"),E.toggleClass("dropdown","bottom"===l),E.toggleClass("dropup","top"===l),E.css({left:c.offset().left,top:n}),E.toggleClass("overflowing",I[0].scrollHeight>I[0].clientHeight)};c.on("mouseenter",function(){clearTimeout(j),O=setTimeout(function(){var e=n in A;E.toggleClass("loading",!e),I.html(e?A[n]:""),r.updateMathjax(I),r.checkOverflow(I),i({useActualHeight:e}),q=!0,E.data("solvable-id",n),e||s.default.get(o).always(function(){E.removeClass("loading")}).then(function(e){A[n]=e,t(e)}).fail(function(){t("Sorry! Something went wrong.")})},280)}).on("mouseleave",function(){clearTimeout(O),a()})}),(0,u.jqOffOn)(E,"mouseenter.problemPreview",function(){P=!0}),(0,u.jqOffOn)(E,"mouseleave.problemPreview",function(){P=!1,a()})}),h.portalFeedSwitcher=function(o){function i(e){e.find(".latexprocessor-inline,.latexprocessor-block,.MathJax").each(function(){var e=(0,s.default)(this).parents(".td"),t=e.height();n<t&&e.css({transform:"scale("+n/t+")",transformOrigin:"0 0"})})}var a=o.find("#switcher-btns .btn"),r="active",e=(0,s.default)(".modal-feed-item.feed-section-row"),n=e.outerHeight()-2*parseInt(e.css("padding-top"),10);a.on("click",function(e){e.preventDefault();var t=(0,s.default)(this);if(!t.hasClass(r)){a.removeClass(r),t.addClass(r),o.find(".feed-section").removeClass(r);var n=o.find(t.data("target"));n.addClass(r),u.isMobile||i(n)}}),u.isMobile||d.default.defer(function(){i((0,s.default)(".feed-section:visible"))})},h.feed=function(e){o.default.init(),"wiki-main"!==e.attr("id")&&o.default.autopagination(),a.default.feeditem_modal(),(0,s.default)(".nf-feed-subscription").each(function(){var e=(0,s.default)(this);0===e.children().length&&e.remove()}),r.scaleSVG((0,s.default)(".latexprocessor-block")),x()};function D(e,t){var n=m.handle(e,t);(0,s.default)(".nf-next-container.loading").removeClass("loading").addClass("loaded"),r.updateMathjax(n),a.default.feeditem_modal(n),o.default.reset_autopagination_point(),o.default.needs_additional_pagination(n),r.scaleSVG((0,s.default)(".latexprocessor-block")),r.checkOverflow(n),u.$window.trigger("scroll"),a.default.open_modal_is_set&&a.default.preloadFirstItem($newsfeed_modal_set_content),x(n)}m.newsfeed_newsfeed_container=D,m.newsfeed_firehose_container=D,m.newsfeed_explore_container=D,m.newsfeed_feed_container=D,m.profile_newsfeed_favorites_container=D,m.problems_started_problems_container=D,m.newsfeed_generic_tag_container=D,m.profile_newsfeed_favorites=D,m.newsfeed_generic_tag=D,m.wiki_community_posts_container=D,m.topic_feed_container=D,m.topic_feed_page=D,m.problems_feed_container=D,m.discussions_feed_container=D,m.home_activity_container=D,m.community_problems_container=D,m.community_discussions_container=D,m.community_wikis_featured_container=D,m.groups_newsfeed_container=D,m.daily_problems_container=D,m.daily_problems_archives_container=D,m.community_portal_lttr_listing_container=D,m.community_portal_featured_users_listing_container=D,m.profile_forlater_container=D,m.daily_problems_archives=function(e,t){D(e,t),o.default.autopagination(!0),u.$window.trigger("scroll")},m.community_portal_problems=m.community_portal_need_solution=m.community_portal_discussions=m.community_portal_problems_container=m.community_portal_need_solution_container=m.community_portal_discussions_container=function(e,t){if(D(e,t),u.$body.hasClass("portal-page")){var n=(0,s.default)(".cmp_"+t+"_id").parents(".feed-section").find(".nf-feed-item-wrapper");if(n.length>p)return void n.slice(p).remove()}o.default.autopagination(!0),u.$window.trigger("scroll")};function M(e,t){var n=m.handle(e,t);r.updateMathjax(n),a.default.feeditem_modal(n),r.scaleSVG((0,s.default)(".latexprocessor-block")),x(n.parent())}m.newsfeed_feeditem_challengerecommendation=M,m.problems_started_solvable_component=M,m.groups_feeditem_discussionpost=M,m.groups_feeditem_newsfeedproblemset=M,m.newsfeed_mark_reshare=function(e,t){var n=m.handle(e,t).parents(".cmp_reshare").first(),o=n.data("reshare-key");o&&(0,s.default)('.cmp_reshare[data-reshare-key="'+o+'"]').not(n).find("> div").each(function(){(0,s.default)(this).html(e.new_html)})},e.exports=h},36:function(e,t,n){"use strict";var o;function i(){var t=!1;return document.cookie.split(";").forEach(function(e){0<=e.indexOf("csrftoken")&&(t=e.split("=")[1].trim())}),t||null}function a(e){var t=document.location,n=t.host,o=t.protocol,i="//".concat(n),a=o+i;return e===a||e.slice(0,a.length+1)==="".concat(a,"/")||e===i||e.slice(0,i.length+1)==="".concat(i,"/")||!/^(\/\/|http:|https:).*/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=i,t.isSameOrigin=a,(0,((o=n(0))&&o.__esModule?o:{default:o}).default)(document).ajaxSend(function(e,t,n){!function(e,t){return!function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}(e)&&a(t)}(n.type,n.url)||function(e){e.setRequestHeader("X-CSRFToken",i())}(t)})},360:function(e,t,n){"use strict";var i=c(n(0)),o=c(n(19)),a=l(n(44)),r=n(1),s=l(n(30));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function d(e){document.title=(e?"("+e+") ":"")+h}var u={},f=null,p=0,h=document.title;function m(e){null!==f&&e!==p&&(f.text((0,r.commaFormat)(e)),0===p?f.removeClass("hide"):0===e&&f.addClass("hide"),p<e&&(f.parents("#header").removeClass("short"),f.addClass("wiggle-more")),d(e),p=e)}u.dropdownHandler=function(e){var t=e.find(".cmp-deferred"),n=t.parent(),o=t.clone(),i=!1;e.on("open",function(){i?(n.html(t),a.load(o)):(a.load(t),i=!0),f.length&&f.removeClass("wiggle-more")}),e.find(".dropdown-menu").on("click",function(e){e.stopPropagation()})},u.toggleDismissed=function(n){n.on("click",function(e){e.preventDefault();var t=n.data();n.addClass("dim"),(0,o.default)(t.pageKey).get(n.attr("href"),{component_key:t.componentKey})})},u.unreadCount=function(e){f=e,p=parseInt(f.text().replace(/,/g,""),10),d(p);var n=f.data(),o=0;!function e(){var t;i.default.get(n.url).then(function(e){"num_notifications"in e?m(e.num_notifications):"logged_out"in e&&clearTimeout(t)}),t=setTimeout(e,function(e){return 100*Math.pow(e,2)+500*e+5e3}(o)),o++}()},u.updateCount=function(e){m(e.data("notif-count")),(0,i.default)(".dropdown.hdr-settings").trigger("update")},window.vkey=window.vkey||{},window.vkey.notifications_page=function(e,t){e.new_html=e.new_html.replace(/&amp;(.*?);/g,"&$1;");var n=window.vkey.handle(e,t);s.updateMathjax(n)},e.exports=u},361:function(e,t,n){"use strict";var _=i(n(0)),b=i(n(4)),g=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(983)),w=n(1),o=i(n(35)),k=n(7),C=n(9),a=n(17);function i(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r,s,l,c={},d=null,u=0,f="nx-target-active";function p(e){var t=e.data("target")||null;if(t){var n=(0,_.default)(t);b.default.defer(function(){n.addClass(f),function(r,s,l){var c=["top","bottom"],d=r.data("reposition");d&&b.default.defer(function(){var e=d.split("-"),t=e[0],n=e[1];if(!(c.indexOf(t)<0||c.indexOf(n)<0)){var o=s.offset().top+("bottom"===t?s.outerHeight():0)-("bottom"===n?r.outerHeight():0),i=r.offset().top-r.position().top;if(r.css({top:o-i+parseInt(r.css("margin-top"),10)}),l&&r.show(),(0,w.jqGetElemById)("prac-topic-header").length){var a=s.offset().top-(0,w.jqGetElemById)("header").outerHeight()-28;(0,w.setScrollPosition)(a,{animate:!0})}}})}(e,n)})}}function h(e,o){var i=u;u=e,b.default.defer(function(){d.removeClass("nx-slide-"+i).addClass("nx-slide-"+u);var e=d.find(".slide-".concat(u)),t=e.data("on-visible")||null;if(function(i){b.default.defer(function(){(0,_.default)(".".concat(f)).off("click.lock").removeClass(f),0<i.length?(i.find(".nx-modal").each(function(e,t){var n=(0,_.default)(t),o=i.data("reposition-handler");o?(0,a.executeFunctionByName)(o,n):p(n)}),b.default.defer(function(){i.addClass("in")})):(w.$body.trigger("nuxClose"),d.hide())})}(e),t&&(0,a.executeFunctionByName)(t,e),d.trigger(_.default.Event("nux.slidechange")),0<e.length){var n={action:"viewed_".concat(l,"_popup"),step_position:u,is_first_step:u===r,is_last_step:u===s};o&&(n.triggered_by=o),(0,k.track)("ui",n)}})}c.tour=function(e){var t=(d=e).find(".slide");r=parseInt(t.first().prop("class").match(/slide-(\d+)/)[1],10),s=r+t.length-1,l=e.data("axContext");var n=d.prop("class").match(/nx-slide-(\d+)/)[1];u=parseInt(n,10),h(u),d.on("click",".nx-next",function(){h(u+1,C.INTERACTION_TYPES.CONTINUE_BUTTON)}),b.default.defer(function(){window.history.replaceState&&window.history.replaceState({},"",window.location.href.replace(/tour=true&?/,"").replace(/[&?]$/,""))})},c.overlay=function(e){e.on("click",function(){o.default.update(e.data("flag"),!0),b.default.defer(function(){e.hide()})})},c.banner=function(e){o.default.update(e.data("flag"),!0)},c.problemsOfTheDay=function(e){o.default.update(e.data("flag"),!0)},c.potdHighlight=function(e){var o=e.find(".nx-modal");setTimeout(function(){var e=o.offset(),t=w.$window.height();if(e.top>t){var n=w.$html.add(w.$body);(0,w.setScrollPosition)(e.top-t+o.height()+8,{$container:n,animate:!0}),d.on("nux.slidechange",function(){(0,w.setScrollPosition)(0,{$container:n,animate:!0})})}},500)},c.welcomePage=function(o){function e(){return 0<=window.location.search.indexOf("step=")?parseInt(window.location.search.match(/[?&]step=(\d)/)[1],10):1}function i(e){var t=h===f,n=t&&0<=s,o={action:"viewed_nux_slide",is_first_step:1===h};r?(o.step_position=n?h+s-1:h,o.is_last_step=n?l:t):(o.step_position=h,o.is_last_step=t),e&&(o.triggered_by=e),(0,k.track)("ui",o)}function a(e,t,n){if(c.removeClass(C.CLASS_NAME_ACTIVE),c.filter(".nux-welcome-slide-".concat(e)).addClass(C.CLASS_NAME_ACTIVE),n!==C.INTERACTION_TYPES.PREV_NEXT_BUTTON)try{window.history.pushState({},null,t)}catch(e){}i(n),m(e)}var t=o.data(),r=t.enableNuxSegmentation,s=t.surveyStep,l=t.isLastSurveyStep,c=o.find(".nux-welcome-slide"),d=o.find(".category-link"),u=o.find(".category-item"),f=o.find(".nux-welcome-slide").length,p=o.find(".continue:first").attr("href"),h=e(),m=b.default.noop;o.find(".btn-back").on("click",function(e){var t=o.find(".prev-category");if(w.isMobile){var n=(0,_.default)(e.currentTarget).data().categoryId;t.val(n)}t.prop("checked",!0)}),o.find(".continue").on("click",function(e){e.preventDefault(),h++;var t=e.currentTarget.href.replace("step=".concat(h-1),"step=".concat(h));a(h,t,C.INTERACTION_TYPES.CONTINUE_BUTTON)}),c.each(function(n,e){(0,_.default)(e).find(".markers span").each(function(t,e){t<n&&(0,_.default)(e).addClass("clickable").on("click",function(){h=t+1;var e=p.replace(/step=\d/,"step=".concat(h));a(h,e,C.INTERACTION_TYPES.STATUS_DOT)})})});var n=o.find('.btn[type="submit"]');if(d.on("click.selectCategory",function(){n.prop("disabled",""),w.isMobile||o.find(".content").removeClass("unselected-category"),d.off("click.selectCategory")}),d.on("click",function(e){var t=(0,_.default)(e.currentTarget);if(!t.hasClass(C.CLASS_NAME_ACTIVE)){var n=t.data();d.removeClass(C.CLASS_NAME_ACTIVE),t.addClass(C.CLASS_NAME_ACTIVE),t.find("input").prop("checked",!0),u.removeClass(C.CLASS_NAME_ACTIVE),u.filter(n.target).addClass(C.CLASS_NAME_ACTIVE);var o={action:"click",element_id:"clicked_nux_category_option",element_type:"button"};r?(o.user_category=n.axUserCategory,o.nux_school_level_category=n.axLevelCategory,o.nux_use_case_category=n.axUseCaseCategory):o.user_category=n.category,(0,k.track)("ui",o)}}),u.find(".img").each(function(e,t){var n=window.getComputedStyle(t).backgroundImage;if(n){var o=new Image,i=x(n.match(/url\(['"]?(.*?)['"]?\)/),2);o.src=i[1]}}),b.default.defer(i),window.onpopstate=function(){h=e(),a(h,document.location,C.INTERACTION_TYPES.PREV_NEXT_BUTTON)},w.isMobile){var v=".nux-segmentation-form-footer",g=(0,_.default)(".nux-welcome-form form"),y=g.find(v);w.$body.children(v).remove(),y.appendTo(w.$body),n.on("click",function(e){e.preventDefault(),g.trigger("submit")}),g.on("submit",function(){n.prop("disabled",!0)}),(m=function(e){y.toggleClass(C.CLASS_NAME_HIDE,5!==e)})(h)}},c.earthAnimation=function(v){Promise.all([Promise.all([n.e(5),n.e(69)]).then(n.bind(null,996)),Promise.all([n.e(5),n.e(69)]).then(n.bind(null,536)),Promise.all([n.e(5),n.e(69)]).then(n.bind(null,543))]).then(function(e){var t=x(e,3),n=t[0],o=n.geoPath,i=n.geoOrthographic,a=t[1].scaleLinear,r=t[2].select,s=v.width(),l=v.height(),c=s/200*100,d=i().scale(c).translate([s/2,l/2]).clipAngle(90),u=o().projection(d),f=a().domain([0,s]).range([-180,180]),p=r(v[0]).append("svg").attr("width",s).attr("height",l),h={type:"Topology",transform:{scale:[.036003600360036005,.017366249624962502],translate:[-180,-90]},objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8,9]]},{type:"Polygon",arcs:[[10,-10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23]]},{type:"Polygon",arcs:[[24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31]]},{type:"Polygon",arcs:[[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]},{type:"Polygon",arcs:[[36]]},{type:"Polygon",arcs:[[37]]},{type:"Polygon",arcs:[[38]]},{type:"Polygon",arcs:[[39]]},{type:"Polygon",arcs:[[40]]},{type:"Polygon",arcs:[[41]]},{type:"Polygon",arcs:[[42]]},{type:"Polygon",arcs:[[43]]},{type:"Polygon",arcs:[[44]]},{type:"Polygon",arcs:[[45],[46]]},{type:"Polygon",arcs:[[47]]},{type:"Polygon",arcs:[[48]]},{type:"Polygon",arcs:[[49]]},{type:"Polygon",arcs:[[50]]},{type:"Polygon",arcs:[[51]]},{type:"Polygon",arcs:[[52]]},{type:"Polygon",arcs:[[53]]}],bbox:[-180,-90.00000000000003,180.00000000000014,83.64513000000002]}},arcs:[[[3345,574],[-16,-56],[-171,43],[187,13]],[[3745,688],[51,-114],[-264,-54],[116,168],[97,0]],[[3098,1097],[-9,-70],[-150,-12],[109,201],[50,-119]],[[0,304],[279,48],[330,-86],[265,-13],[157,60],[-297,50],[20,95],[-111,54],[172,-13],[108,81],[-238,50],[-45,101],[112,-11],[189,59],[50,54],[253,71],[431,-10],[160,44],[177,-85],[192,-7],[-84,155],[204,-58],[220,35],[338,-55],[203,55],[47,79],[-35,88],[21,161],[132,154],[24,-89],[-94,-80],[111,-202],[-13,-193],[-239,-126],[-185,-5],[82,-48],[-101,-48],[71,-108],[436,-122],[40,-48],[235,85],[194,-20],[396,100],[-32,62],[-165,-11],[-4,64],[191,96],[213,44],[162,104],[-2,55],[144,109],[279,-22],[271,94],[270,7],[92,-46],[262,59],[52,67],[133,-73],[365,203],[127,15],[167,-117],[181,5],[18,-101],[-44,-125],[85,-14],[79,128],[105,24],[143,129],[144,58],[74,-59],[252,-1],[87,97],[93,-79],[206,61],[202,-76],[40,37],[180,-12],[165,32],[75,-43],[224,2],[32,-56],[212,-38],[233,-126],[237,-55],[-54,-113],[-140,-104],[-21,-92],[98,-97],[-145,-24],[-55,-103],[75,-64],[298,-135],[140,-4],[-9951,-14]],[[3118,2082],[75,-49],[-86,-53],[-80,32],[66,140],[25,-70]],[[9038,2834],[80,-5],[-10,-135],[-52,-19],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[0,4229],[9981,-14],[2,24],[-9983,18]],[[0,4257],[0,-28]],[[0,4257],[0,-28]],[[6390,4402],[11,-96],[-93,-560],[-85,-2],[-20,127],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[180,-364],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,119],[60,189],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[59,18],[106,-131],[-256,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[83,-283],[-80,101],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-111,348],[-89,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8274,5288],[-48,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-36,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[5431,7384],[-12,-93],[-74,57],[86,36]],[[8915,7321],[-20,-115],[-257,-72],[9,-141],[-53,107],[89,123],[85,5],[104,155],[24,172],[44,-116],[-25,-118]],[[8997,7726],[45,-52],[-66,-73],[-50,80],[17,124],[54,-79]],[[3440,8101],[74,-83],[-21,-86],[-140,-8],[87,177]],[[8989,8105],[-3,-226],[-40,-50],[14,449],[29,-173]],[[4811,8192],[-89,-26],[8,119],[112,39],[-31,-132]],[[4916,8559],[26,-157],[71,-172],[2,-124],[-176,-35],[41,60],[19,196],[-70,125],[87,107]],[[2634,8963],[57,-89],[-67,-61],[10,150]],[[4597,9009],[24,-76],[-140,-94],[-157,122],[273,48]],[[0,9154],[281,-172],[-111,-98],[-167,92],[-3,178]],[[0,9301],[9999,-40],[-35,16],[-9964,24]],[[2485,9184],[88,-132],[51,154],[118,-41],[-3,-118],[-122,-32],[-43,-103],[-162,-158],[-42,-177],[66,-107],[278,-112],[66,-227],[36,78],[-34,121],[92,108],[-55,131],[11,202],[119,7],[118,-79],[54,-165],[85,123],[77,-230],[124,-99],[46,-143],[-121,-109],[-177,-1],[-130,-196],[126,133],[58,-167],[129,-18],[-154,-137],[-44,73],[-88,-65],[4,-118],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-23,-334],[-62,-194],[-74,-22],[-106,-146],[-11,-161],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-82,-22],[46,-86],[-115,-216],[54,-54],[-97,-201],[28,-93],[-80,-85],[-109,90],[-20,323],[36,147],[33,402],[48,271],[38,635],[-8,175],[-157,213],[-150,571],[37,317],[82,177],[-55,296],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-25,127],[-43,-58],[147,-391],[-77,79],[-80,172],[-62,306],[-93,90],[-105,329],[14,300],[-18,164],[48,36],[-128,105],[-185,420],[-362,159],[-171,-116],[-175,-190],[-149,-57],[201,173],[-170,128],[-64,98],[149,189],[-116,-19],[-88,70],[101,52],[78,-26],[-126,159],[267,142],[120,-43],[241,-26],[197,-72],[232,91],[67,-58],[85,22],[244,-84],[11,-41],[204,64],[51,-45],[268,3],[-50,116],[35,106],[130,-140]],[[1829,9393],[86,-39],[157,13],[26,-97],[97,-55],[-40,-74],[-99,25],[-204,-37],[-169,174],[146,90]],[[2595,9395],[118,34],[44,-97],[81,40],[251,-128],[-1,-104],[194,-107],[-58,-108],[-78,80],[48,-214],[-105,62],[-3,-81],[-165,135],[61,150],[-176,166],[-65,-25],[-205,39],[-42,105],[101,53]],[[2212,9435],[83,-5],[-27,-143],[-115,71],[59,77]],[[2411,9373],[-36,78],[111,-16],[-75,-62]],[[1654,9294],[-152,27],[28,139],[204,-6],[57,-41],[-137,-119]],[[9029,9534],[-170,-55],[-40,77],[210,-22]],[[2264,9600],[9,-99],[-122,77],[113,22]],[[1994,9570],[53,-69],[-164,-33],[11,43],[-164,3],[64,72],[176,-58],[24,42]],[[6598,9255],[-165,43],[112,208],[154,67],[194,40],[0,-41],[-183,-56],[-171,-166],[59,-95]],[[2370,9622],[152,-86],[224,6],[-23,-73],[-291,23],[-62,130]],[[1772,9654],[-4,-45],[-181,-44],[185,89]],[[0,9154],[0,-230],[9963,-25],[19,-90],[-159,-76],[-93,-102],[-39,39],[-149,-40],[-40,-289],[-148,-221],[-37,251],[81,154],[147,178],[23,81],[-121,-115],[-23,71],[-141,-116],[-334,-42],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-6],[-132,-203],[53,-171],[-10,-98],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[77,-186],[5,-107],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-80,-153],[90,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[118,-294],[4,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-184,-322],[-13,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[62,5],[57,112],[104,-216],[-56,-187],[-253,-291],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-66,37],[132,-581],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-111,-232],[-67,-67],[-172,-51],[-122,445],[-26,287],[-73,313],[55,267],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-144,430],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[115,-60],[107,-115],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-231],[32,-87],[-167,-34],[34,-130],[-66,-79],[-59,281],[-129,193],[-64,-57],[119,-210],[-40,-22],[-182,248],[-65,-71],[-95,-3],[-146,-369],[-90,-42],[-98,53],[-13,355],[39,42],[169,-19],[19,149],[-94,154],[83,-2],[151,171],[24,85],[114,53],[-7,178],[66,-179],[89,-14],[198,83],[58,230],[129,16],[2,59],[-144,-37],[-51,159],[121,144],[-89,35],[-121,-171],[26,-154],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[117,191],[123,116],[250,79],[51,-58],[286,-130],[-53,-111],[-124,44],[28,-135],[266,134],[-30,105],[78,-18],[3,-92],[205,126],[141,2],[48,56],[240,-71],[-69,139],[90,115],[104,-266],[-67,-121],[105,83],[-54,213],[182,50],[24,76],[175,17],[10,68],[168,53],[209,23],[34,49],[253,-33],[78,-80],[-125,-66],[383,-70],[2,44],[148,-40],[75,-129],[27,60],[211,-20],[17,78],[251,-37],[96,-78],[168,1],[54,-82],[264,38],[226,-40],[-9960,-25]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,38],[-52,103],[-125,-141],[68,-191]],[[7918,9692],[-157,-23],[51,76],[106,-53]],[[5506,9772],[-31,-167],[-164,119],[54,66],[141,-18]],[[5706,9813],[14,-52],[-163,3],[-75,43],[224,6]],[[7775,9725],[-184,31],[-59,53],[132,52],[118,-85],[-7,-51]],[[2583,9770],[-56,-80],[-107,4],[-107,104],[120,64],[150,-92]],[[3097,9968],[183,-43],[-258,-147],[-159,-28],[42,-46],[-143,-135],[-248,17],[122,165],[-180,147],[341,71],[300,-1]],[[4247,9992],[174,-46],[-308,-30],[243,-61],[206,44],[98,-36],[-153,-66],[-55,-80],[34,-101],[-25,-155],[-116,-57],[34,-183],[-150,-96],[-112,-20],[-67,-83],[-156,-70],[-84,-160],[-15,-149],[-136,44],[-94,159],[-64,205],[86,158],[-72,-37],[-66,137],[31,53],[-108,169],[-74,34],[-201,-3],[-129,137],[206,55],[-64,42],[215,110],[376,34],[324,59],[222,-7]]]};p.append("path").datum(g.feature(h,h.objects.land)).attr("class","land").attr("d",u);var m=0;setInterval(function(){m+=.5,d.rotate([f(m),0]),p.selectAll("path").attr("d",u)},20)})},e.exports=c},362:function(e,t,n){"use strict";var o=s(n(0)),i=s(n(4)),a=n(37),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(b)_=!0;else{_=e||!_;var t=(0,r.jqGetElemById)("nf-feeditem-modal");_?(r.$body.on("click.savetogroup saveitem.open",function(){l(!1)}),(0,r.jqOffOn)(t,"scroll.saveitem",i.default.throttle(w,100))):(r.$body.off("click.savetogroup saveitem.open"),t.off("scroll.saveitem")),f.toggle(_),_?(y&&0<y.length&&y.outerHeight()<y[0].scrollHeight&&(y.addClass("scrollable"),(0,r.jqGetElemById)("groupitem-gradient").addClass("active")),w(),h.addClass("selected"),r.$body.trigger(o.default.Event("savetogroup.open"))):(f.removeClass("success"),h.removeClass("selected"))}}function c(){f.on("click",function(e){e.stopPropagation()});var e=(0,r.jqGetElemById)("groupitem-form-groups");y=e.find(".sets"),function(){var e=y.find("input"),t=e.filter(".auto-checked");0<t.length&&e.on("click.autocheck",function(){e.off("click.autocheck"),t.prop("checked",!1).removeClass(".auto-checked")})}(),f.removeClass("nux new success"),0<f.find(".success").length&&(f.addClass("success"),l(!0)),w(),e.on("submit",function(){l(!1)})}function d(){var n=(p=(0,r.jqGetElemById)("groups-tooltip-target")).data("object-id"),t=(0,o.default)();["assessment_add_solvable_to_group","quizzes_add_solvable_to_group","potw_add_solvable_to_group","discussions_add_to_group"].forEach(function(e){t=t.add((0,o.default)(".saveitem-tooltip#cmp_"+e+"_id"))}),t.each(function(){var e=(0,o.default)(this),t=e.data("object-id");t!==n&&(g[t]=e).detach()}),0===(f=t.filter("[data-object-id="+n+"]")).length?(f=g[n])&&f.appendTo(r.$body):1<f.length&&(f.slice(1).remove(),f=f.first()),f&&f.length&&(p.length?(!0!==f.data("inited")&&(f.appendTo(r.$body),f.data("inited",!0),f.find("form").off("submit"),(0,a.initAutosubmit)(f)),(h=(0,r.jqGetElemById)("groups-tooltip-trigger")).on("click",function(e){e.preventDefault(),e.stopPropagation(),l()}),_&&l(!0)):!0===f.data("is-webview")&&(b=_=!0,f.addClass("in")))}function u(e){(!0===e||f&&f.length&&p.length)&&(w(),c())}var f,p,h,m={},v=window.vkey||{},g={},y=null,_=!1,b=!1,w=function(){if(!b&&!r.isMobile){var e=0,t=0,n=p.offset(),o="",i="",a=r.isMobile?0:28;"left"===p.data("position")?(t=n.top,e=n.left-f.width()-a,o="adjusted",i="bottom"):"bottom"===p.data("position")?(t=n.top+p.outerHeight(),e=n.left+p.width()/2,o="bottom"):(t=n.top-f.height(),e=n.left+p.width()/2,i="bottom"),f.addClass(o).removeClass(i).css({top:~~t,left:~~e})}};m.controller=function(e){d(),u()};v.assessment_add_solvable_to_group=v.quizzes_add_solvable_to_group=v.potw_add_solvable_to_group=v.discussions_add_to_group=function(){v.handle.apply(this,arguments),u()},e.exports=m},363:function(e,t,n){"use strict";var i=m(n(507)),l=m(n(0)),o=m(n(4)),a=m(n(127)),r=m(n(28)),c=n(7),s=n(1),d=h(n(30)),u=h(n(34)),f=n(11),p=m(n(59));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function v(){function e(){n.scrollTop()+n.outerHeight()+100>(s.isMobile?t.offset().top:t.position().top+(0,s.jqGetElemById)("header").outerHeight())&&M(t)}var t=T.find(".load-page").last(),n=s.isMobile?s.$window:I.find(".search-results-wrapper");A.page===A.pages-1?t.remove():((0,s.jqOffOn)(n,"scroll",o.default.throttle(function(){t.hasClass("loaded")||e()},10)),e()),(0,s.jqOffOn)(T.find(".internal-link"),"click",function(e){e.preventDefault(),e.stopPropagation();var t=(0,l.default)(e.currentTarget).attr("href");e.metaKey?window.open(t):window.location.href=t})}function g(e,t){E.removeClass("loading").addClass("loaded"),T=(0,s.jqGetElemById)("site-search-result-list"),S=(0,s.jqGetElemById)("site-search-header"),null===e?$(t):L(e)}var y,_,b={},w=null,k=null,C={},x=null,E=null,I=null,T=null,S=null,O=null,j={},q=!1,P=["wikis","problems","quizzes"],A={version:1,search_type:"wikis",wiki_quality_threshold:200,page:0,pages:0,use_page:!1,topics:"",levels:"easy",allow_empty_queries:!1},N={},D=function(e,t){return e=e.replace(/\s/g,"+"),!0===t&&(e=escape(e)),e},M=function(e){e.hasClass("loaded")||(e.addClass("loaded"),A.page<A.pages-1?(A.page++,A.use_page=!0,q=!0,J()):s.$window.off("scroll.searchpage"))},$=function(e){N={page:z("search-page-tmpl"),problems:z("search-problems-tmpl"),quizzes:z("search-quizzes-tmpl"),wikis:z("search-wiki-tmpl"),sets:z("search-sets-tmpl"),empty:z("search-empty-tmpl"),card:{course:z("search-card-course-tmpl"),topic:z("search-card-topic-tmpl"),chapter:z("search-card-chapter-tmpl"),special:z("search-card-special-tmpl")}},B(e),function(){if(S.removeClass(P.join(" ")),S.addClass(A.search_type),(0,c.setAnalyticsEvents)(I),!S.hasClass("inited")){var t=(0,l.default)("#search-type a"),o=(0,l.default)("#search-level-list button"),n=(0,l.default)("#search-topics-list a");(0,c.track)("ui",{action:"click",element_type:"link",element_id:"user_searched"});var a=function(e,t){e.removeClass("active"),t.addClass("active")},i=function(){var e=t.filter("[data-opt-value="+A.search_type+"]");a(t,e)},r=function(){0<=["problems","quizzes"].indexOf(A.search_type)?(A.oldLevels&&(A.levels=A.oldLevels,A.oldLevels=null),A.oldTopics&&0===A.topics.length&&(A.topics=A.oldTopics,A.oldTopics=null)):(A.levels&&(A.oldLevels=A.levels,A.levels=""),A.topics&&(A.oldTopics=A.topics,A.topics=""))},s=function(e,t,n,o){if(o=!1!==o,n.hasClass("active"))!0===o&&(t.removeClass("active"),t.find("a").removeClass("active"),A[e]="",J());else{var i=n.data();a(t,n),A[e]=i.optValue,r(),J()}};S.addClass("inited"),i(),t.on("click",function(e){e.preventDefault(),s("search_type",t,(0,l.default)(this),!1)}),A.levels.length&&"string"==typeof A.levels&&(o.removeClass("active"),o.filter("[data-opt-value="+A.levels+"]").addClass("active")),o.on("click",function(e){e.preventDefault();var t=(0,l.default)(this),n=t.data("opt-value");t.hasClass("active")||(o.removeClass("active"),t.addClass("active"),A.levels=n,J())}),n.on("click",function(e){e.preventDefault();var t=(0,l.default)(this);t.hasClass("active")||((0,l.default)("#search-topic-active").html(t.html()),s("topics",n,t))}),T.on("click",".change-search-type",function(e){e.preventDefault(),A.search_type=(0,l.default)(this).data("opt-value"),r(),i(),J()})}}(),v(),X(),function(e){var t="/search/_analytics/",n=window.ga||function(){};t+="user-"+_+"/",t+=A.search_type+"/",t+="query-"+D(e.query,!0)+"/",0===A._filters.length&&A._filters.push("none"),t+="filters-"+D(A._filters.join(","))+"/",t+="total-"+e.nbHits+"/",n("send","event","search","search_result",t+="page-"+(e.page+1)+"-"+e.nbPages+"/");var o=e.userData&&e.userData.length?e.userData[0].card_type_name:"NONE";(0,c.track)("search_result",{search_type:A.search_type,query:D(e.query,!0),filters:D(A._filters.join(",")),hits:e.nbHits,page:e.page+1,pages:e.nbPages,path:window.location.pathname,is_android:s.isAndroid,custom_search_card_type:o})}(e)},L=function(e){var t="";t=0<=e.message.indexOf("Cannot connect to the AlgoliaSearch API")?"You seem to be offline. Check your connection to continue searching.":"".concat(e.message," Try again later."),(0,f.showGenericModal)("Search error",t),r.default.captureMessage("Search error: ".concat(e.message))},z=function(e){return o.default.template((0,s.jqGetElemById)(e).text())};var B=function(e){var i="";if(0===A.page){var t=O.data().enabledCardTypes;if(e.userData&&e.userData.length&&0<=t.indexOf(e.userData[0].card_type_name)){var n=e.userData[0];j[n.card_id]||null===j[n.card_id]?O.html(j[n.card_id]):(O.html(N.card[n.card_type_name.toLowerCase()](n)),l.default.get("/api/v1/search/grab_custom_search_card/"+n.card_id+"/").fail(function(){j[n.card_id]=null,O.empty()}).then(function(e){j[n.card_id]=e.rendered_html,O.html(e.rendered_html)}))}else O.empty()}0<e.hits.length?(S.removeClass("empty"),e.hits.forEach(function(e,t){var n=N[e.document_type],o=G(e);i+=n(o)})):0===A.page&&(S.addClass("empty"),i=N.empty(V(e))),A.page=e.page,A.pages=e.nbPages,0<i.length&&(i=N.page({page:A.page,html:U(i)}),0<A.page?T.append(i):T.html(i)),p.default.feeditem_modal(),T.find(".load-modal").not(".inited").each(function(){var e=(0,l.default)(this),t=e.data(),n=t.fullUrl,o=t.modalUrl;!0===e.data("clean-urls")&&(n="/"+n.split(/:\/\/.*?\//)[1],o=o&&"/"+o.split(/:\/\/.*?\//)[1]),e.hasClass("search-problem")?e.data("modal-url",n.replace(/\-problem\/(.)/,"-problem/modal/$1").replace("/problems/","/problems/modal/")):e.data("modal-url",o),e.addClass("inited"),p.default.modal_events.apply(this)}),d.checkOverflow(T)},U=function(e){return e.replace(/data-src=/g,"src=")},G=function(e){switch(e.document_type){case"wikis":return F(e);case"problems":return R(e);case"quizzes":return H(e);default:return e}},F=function(e){return e.processed_title=W(e),e.processed_blurb=K(e),e.is_low_quality=(e.quality_score||0)<A.wiki_quality_threshold,e},R=function(e){return e.level=0<e.level&&"None"!==e.level?e.level:0,e.concept_quiz_slug=e.concept_quiz_slug||!1,e.num_likes=e.num_likes||0,e.num_shares=e.num_shares||0,e.percent_solved=e.percent_solved||0,e.processed_title=W(e),e.processed_blurb=K(e),e.topic_name="Unknown"===e.topic_name?null:e.topic_name,e},H=function(e){return e.topic_name=e.topic_name||null,e.quiz_type=e.quiz_type||null,e.paid_quiz=e.paid_quiz&&!0===e.paid_quiz,e},V=function(e){var n=1,o={query:e.query};return P.forEach(function(e){if(e!==A.search_type){var t="alt_search_"+n;o[t]=e,o[t+"_text"]=function(e,t){return t?e.substr(0,e.length-1):e}(e),n++}}),o},W=function(e){return e.rendered_title?e.rendered_title:e.title?o.default.escape(e.title):null},K=function(e,t){var n;if(t=!1!==t,e.rendered_blurb)n=e.rendered_blurb;else{if(!e.blurb)return null;n=t?o.default.escape(e.blurb):e.blurb}return n.replace(/<a\ /g,"<span ").replace(/<\/a>/g,"</span>")},X=function(){s.isMobile||((0,f.crop)(),s.$body.addClass("search-active")),I.hasClass("active")||I.hide().addClass("active").fadeIn(150),u.loadForElement(T)},Y=function(){s.isMobile||((0,f.crop)(!1),s.$body.removeClass("search-active")),I.removeClass("active"),x.val(""),E.removeClass("loaded"),s.$window.off("scroll.searchpage")},J=function(e){e=e||x.val();var t,n=[],o={facets:"*",facetFilters:[],attributesToHighlight:[]};(A.page&&0<A.page&&!0===A.use_page?(A.use_page=!1,o.page=A.page):A.page=0,"problems"===A.search_type)?(t="hard"===A.levels?"rating>1800":"medium"===A.levels?"(rating:1400 to 1800, rating<0)":"rating:0 to 1400",o.numericFilters=t,n.push("levels-"+A.levels)):"wikis"!==A.search_type||y.isPrivilegedUser||(o.numericFilters="quality_score>="+A.wiki_quality_threshold);0<A.topics.length&&0<=["problems","quizzes"].indexOf(A.search_type)&&(o.facetFilters.push("topic_name:"+A.topics),n.push("topic-"+D(A.topics,!0))),A._filters=n,a.default.set("search_options",A),function(e,t,n){t="string"==typeof t?t:"<none>",n=n||{},(w[e]||0<=P.indexOf(e))&&(0<t.trim().length||A.allow_empty_queries)?(q?q=!1:x.val(t),A.search_type=e,null===k&&(k=(0,i.default)(w.application_id,w.readonly_api_key)),C[e]||(C[e]=k.initIndex(w.problems.index_name)),E.addClass("loading").removeClass("loaded"),0<=P.indexOf(e)&&n.facetFilters.push("document_type:"+e),C[e].search(t,n,g)):Y()}(A.search_type,e,o)};b.controller=function(){if(x=(0,s.jqGetElemById)("site-search-input"),I=(0,s.jqGetElemById)("site-search-results"),O=(0,s.jqGetElemById)("site-search-custom-result"),0<x.length&&0<I.length&&(E=x.parent(),(y=(0,l.default)("#site-search-data").data()).isPrivilegedUser=!0===y.isPrivilegedUser,w=y.settings,_=y.user,function(){var t=null;x.on("keydown input",function(e){clearTimeout(t),13===e.which||e.forceSearch?(q=!0,J(x.val())):t=setTimeout(function(){q=!0,J(x.val())},1e3)}),I.add((0,s.jqGetElemById)("search-hide")).on("click",function(e){(0,l.default)(e.target).closest(".search-results-wrapper").length||(e.preventDefault(),Y())}),(0,s.jqGetElemById)("search-input-btn").on("click",function(){x.focus()})}(),0<x.val().length)){var e=a.default.get("search_options")||null;null!==e&&e.version&&e.version===A.version&&(A=e),J(unescape(x.val()))}},e.exports=b},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preventDefaultSubmitHandler=l,t.initAutosubmit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.$body;if(window.django)return;e.find("form").each(function(e,t){var n=(0,i.default)(t);n.is(":not(.disable-auto-submit, ".concat(r.join(","),")"))&&((0,s.jqOffOn)(n,"submit.auto_submit",function(e){e.preventDefault(),(0,o.default)("assessment").form(e.currentTarget)}),n.not(".disable-submit-auto-disabling")&&l(n))})};var i=a(n(0)),o=a(n(19)),s=n(1);function a(e){return e&&e.__esModule?e:{default:e}}var r=['[action*="account/"]','[action*="avatar/"]'];function l(e){e.each(function(e,t){var a=(0,i.default)(t),r=[],n=[],o=i.default._data(t).events;o&&(n=(n=o.submit||[]).slice(0)),t.onsubmit&&r.push(t.onsubmit),n.forEach(function(e){r.push(e.handler)});t.onsubmit=function(){},(0,s.jqOffOn)(a,"submit",function t(n){var o=n.target,e=!(!n.isDefaultPrevented||!n.isDefaultPrevented()),i=!1;return r.forEach(function(e){try{o.next_handler=e,!1===o.next_handler(n)&&(i=!0)}catch(e){}}),i||e||((0,s.jqOffOn)(a,"submit",function(e){e.preventDefault()}),(0,s.jqOffOn)(s.$window,"pageshow.auto_disable",function(e){e.originalEvent.persisted&&(0,s.jqOffOn)(a,"submit",t)})),!i})})}},379:function(e,t,n){"use strict";var I=i(n(0)),T=i(n(4)),o=n(1),S=n(7),O=n(9),j=n(17);function i(e){return e&&e.__esModule?e:{default:e}}var a={};a.bdayExpl=function(e){var t={show:!1,trigger:"manual",placement:o.isMobile?"left":e.parents(".public-signup-modal").length?"bottom":"right"};o.isMobile&&e.hasClass("email-expl")&&(t.template='<div class="tooltip" id="email-expl-tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'),e.tooltip(t);var n=T.default.throttle(function(){e.tooltip("toggle"),e.toggleClass("active")},200);e.on("click",function(e){e.preventDefault(),e.stopPropagation(),n()}),o.$body.on("click",function(){e.hasClass("active")&&e.click()})},a.showPassword=function(e){var t=e.data("field"),n=e.parentsUntil("form").parent().find(t),o=!1;e.on("click",function(){o=!o,e.toggleClass("active",o),n.attr("type",o?"text":"password")})},a.signUpModal=function(e){var t=[n.e(106).then(n.t.bind(null,993,7))];o.isMobile&&t.push(n.e(104).then(n.t.bind(null,994,7))),Promise.all(t).then(function(){return function(e){e.parent(".modal-bg").on("click",function(){e.parents(".solv-public-form").removeClass("open"),(0,I.default)(".btn-mcq.dim").removeClass("dim")}),e.on("click",function(e){e.stopPropagation()});function o(e){a.removeClass(l),a.filter('[data-position="'.concat(s,'"]')).addClass(l),t.removeClass(l),e?e.addClass(l):t.filter('[data-position="'.concat(s,'"]')).addClass(l),n.removeClass(c),i.removeClass(c),s===r?i.addClass(c):1===s&&n.addClass(c),(0,S.track)("ui",{action:"viewed_prenux_slide",step_position:s,is_first_step:1===s,is_last_step:s===r,triggered_by:O.INTERACTION_TYPES[e?"STATUS_DOT":"PREV_NEXT_BUTTON"]})}var t=e.find("#position-dots").find(".position-dot"),n=e.find("#prev-position-dot"),i=e.find("#next-position-dot"),a=e.find("#slides").find(".slide"),r=a.length,s=1,l="active",c="disabled";t.on("click",function(e){var t=(0,I.default)(this),n=t.data("position");e.preventDefault(),n!=s&&(s=n,o(t))}),n.on("click",function(e){e.preventDefault(),(0,I.default)(this).hasClass(c)||(s--,o())}),i.on("click",function(e){e.preventDefault(),(0,I.default)(this).hasClass(c)||(s++,o())});var d=e.find(".public-signup-right");if(e.data("show-form")){var u=e.find("#signup-email"),f=e.find("#signup-form-container"),p=e.find("#problem-login-link"),h=e.find("#login-form-container"),m="show-form",v=u.data(),g=f.data(),y=!1,_=p.data(),b=h.data(),w=!1;u.on("click",function(e){e.preventDefault();var t="input#id_email";if(y)d.addClass(m),d.find(t).focus();else{var n=T.default.extend({page_key:g.pageKey},v);I.default.get(g.url,n).then(function(e){y=!0,f.html(e.actions.homepage_signup_form.new_html),(0,j.initGenericControllers)(f),d.addClass(m),d.find(t).focus()}).fail(function(e){window.location.href=u.attr("href")})}}),p.on("click",function(e){e.preventDefault();var t="input#id_login";if(w)d.addClass(m),d.find(t).focus();else{var n=T.default.extend({page_key:b.pageKey},_);I.default.get(b.url,n).then(function(e){w=!0,h.html(e.actions.homepage_login_form.new_html),(0,j.initGenericControllers)(h),d.addClass(m),d.find(t).focus()}).fail(function(e){window.location.href=p.attr("href")})}})}var k=e.find("#problem-signup-link-alternative"),C=e.find("#problem-login-link-alternative"),x="show-signup",E="show-login";k.on("click",function(e){e.preventDefault(),d.removeClass(m+" "+E).addClass(x)}),C.on("click",function(e){e.preventDefault(),d.removeClass(m+" "+x).addClass(E)})}(e)})},e.exports=a},380:function(e,t,n){"use strict";e.exports={ratings_correct_incorrect_over_time:function(e){e=e||!1;var t,n,o,i=[1e3,1045,1080,1143,1166,1227,1288,1283,1299,1338,1342,1319,1343,1350,1382,1480,1510,1480,1460,1556,1548,1605,1592,1650,1684,1736,1807,1863,1848,1941,1935,1995,1965,1957,1998,2052,2098,2164],a=[],r=(new Date).getTime(),s=new Date(r),l=2200,c=864e5,d=365*c,u=function(e,t){return~~(Math.random()*(t-e+1))+e};if(e)for(;!(r-s.getTime()>d||1e3===l);)o=20,s=new Date(s.getTime()-u(1,o)*c),n=50,l-=u(1,100)-u(1,100-n),l=Math.max(l,1e3),l=Math.min(l,2200),a.unshift({date:s,rating:l});else for(;i.length;)t=10,s=new Date(s.getTime()-t*c),a.unshift({date:s,rating:i.pop()});return a}()}},381:function(e,t,n){"use strict";var p=o(n(0)),h=o(n(4)),m=n(1);function o(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g={},y=[1e3,1250,1500,1750,2e3,2250],_="1-year";function b(e,t,n){var o=t.find("#canvas-graph"),i=n.ratings_correct_incorrect_over_time;if(1===(i=function(e){if("1-year"===_)return e;var t=new Date(e[e.length-1].date);if("1-week"===_)var n=t.getTime()-x(7);else if("3-months"===_)n=t.getTime()-x(90);return e.filter(function(e){return new Date(e.date).getTime()>=n})}(i)).length){var a,r=(new Date).getTime();switch(_){case"1-year":a=r-x(365);break;case"3-months":a=r-x(90);break;case"1-week":a=r-x(7)}i.push({date:r,rating:i[0].rating,artificial:!0}),i[0].date=a}var s,l,c,d,u,f,p={width:o.width(),height:o.height(),gutter:parseInt(o.css("left")),dateFormatFull:e.timeFormat("%b. %e, %Y"),nodeTemplate:h.default.template('<div class="stat-tooltip dropup tipsy" style="top:<%= top %>;left:<%= left %>"><div class="dropdown-menu"><span class="arrow"></span><p><strong><%= dateFormatted %></strong></p><p>Level <%= level %></p></div></div>')};return p.scaleX=e.scaleTime().domain([new Date(i[0].date),new Date(i[i.length-1].date)]).range([0,p.width-0]),p.scaleY=(s=h.default.pluck(i,"rating"),l=y.slice(),c=h.default.min(s),d=h.default.max(s),u=l[0],f=l[l.length-1],c<u&&(u=c,l[0]=u),f<d&&(f=d,l[l.length-1]=f),p.ratingMilestones=l,e.scaleLinear().domain([u,f]).range([p.height,0])),p.ratings_over_time=i,p}var w,k,C=function(){if(!m.isBrilliantPremium)return h.default.noop;function n(){(0,p.default)(this).addClass(e)}function o(){(0,p.default)(this).removeClass(e)}var e="tooltipped";return m.isMobile?function(e){var t;e.on("click",function(){var e=this;e!==t&&(n.call(e),t=e,h.default.defer(function(){m.$body.one("click",function(){o.call(e),t=null})}))})}:function(e){e.on("mouseenter",n).on("mouseleave",o)}}(),x=function(e){return 864e5*e};g.render=(k=w=null,g.clean=function(){w&&w.find(".cleanable").each(function(){(0,p.default)(this).empty()})},function(e,t){w=w||e,k=!0===(2<arguments.length&&void 0!==arguments[2]&&arguments[2])?t:k||t,Promise.all([Promise.all([n.e(5),n.e(8)]).then(n.bind(null,543)),Promise.all([n.e(5),n.e(8)]).then(n.bind(null,536)),Promise.all([n.e(5),n.e(8)]).then(n.bind(null,986)),Promise.all([n.e(5),n.e(8)]).then(n.bind(null,987)),Promise.all([n.e(5),n.e(8)]).then(n.bind(null,985))]).then(function(e){var t=v(e,5),n=t[0].select,o=t[1],i=o.scaleLinear,a=o.scaleTime,r=t[2],s=r.timeMonth,l=r.timeDay,c=t[3].timeFormat,d=t[4],u={select:n,scaleLinear:i,scaleTime:a,timeMonth:s,timeDay:l,timeFormat:c,line:d.line,curveBasis:d.curveBasis,curveLinear:d.curveLinear},f=b(u,w,h.default.extend({},k));!0!==k.ignore&&(function(e,i){var a={},o=i.ratings_over_time.length,t={};function r(e){return t[e]||(t[e]=~~i.scaleX(new Date(e))),t[e]}e.select("#canvas-graph").selectAll("div.node").data(i.ratings_over_time).enter().append("div").classed("node",!0).classed("left",function(e){return 0<i.width/2-i.scaleX(new Date(e.date))}).style("left",function(e,t){if(0===t)a[t]=0;else{var n=r(i.ratings_over_time[t-1].date),o=r(e.date);a[t]=~~((o+n)/2)}return a[t]+"px"}).style("width",function(e,t){if(t===o-1)return i.width-a[t]+"px";var n=r(i.ratings_over_time[t+1].date);return~~((r(e.date)+n)/2)-a[t]+"px"}).html(function(e,t){for(var n,o=0;o<i.ratingMilestones.length;o++)if(e.rating<=i.ratingMilestones[o]){n=o;break}return i.nodeTemplate(h.default.extend(e,{top:~~i.scaleY(e.rating)+"px",left:r(e.date)-a[t]+"px",dateFormatted:i.dateFormatFull(new Date(e.date)),level:n}))}),C((0,m.jqGetElemById)("canvas-graph").find("div.node"))}(u,f),function(e,t){var n=e.line().x(function(e){return t.scaleX(new Date(e.date))}).y(function(e){return t.scaleY(e.rating)}).curve(e.curveBasis);e.select("#canvas-lines").append("path").attr("d",n(t.ratings_over_time)).classed("artificial",function(){return!0===t.ratings_over_time[1].artificial})}(u,f),function(e,t){var n=t.ratings_over_time.slice(),o=h.default.extend({},n[0]);o.rating=0;var i=h.default.extend({},n[n.length-1]);i.rating=0,n.unshift(o),n.push(i);var a=e.line().x(function(e){return t.scaleX(new Date(e.date))}).y(function(e){return t.scaleY(e.rating)}).curve(e.curveLinear),r=e.select("#canvas-area"),s=r.append("svg:defs").append("svg:linearGradient").attr("id","area-gradient").attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");s.append("svg:stop").attr("offset","0%").attr("stop-color","#F7F7F7").attr("stop-opacity",0),s.append("svg:stop").attr("offset","100%").attr("stop-color","#F7F7F7").attr("stop-opacity",1),r.append("path").attr("d",a(n)).attr("fill","url(#area-gradient)")}(u,f),function(e,t){var o,n,i=t.ratingMilestones.slice(1,t.ratingMilestones.length-1),a=e.select("#canvas-legend");switch(a.selectAll("div.y-item").data(i).enter().append("div").classed("y-item",!0).style("top",function(e){return t.scaleY(e)+"px"}).text(function(e){return"Level "+function(e){return e<1250?1:e<1500?2:e<1750?3:e<2e3?4:5}(e)}),_){case"1-year":case"3-months":o=e.timeFormat("%b"),n=t.scaleX.ticks(e.timeMonth,1);break;case"1-week":o=e.timeFormat("%b %e"),n=t.scaleX.ticks(e.timeDay,1)}a.selectAll("div.x-item").data(n).enter().append("div").classed("x-item",!0).style("left",function(e){return"".concat(t.scaleX(e),"px")}).text(function(e,t){var n=o(e);return m.isMobile&&"1-year"===_&&t%2==0?"":n})}(u,f),function(){var n=(0,m.jqGetElemById)("stat-btn-filters").find(".btn");n.on("click",function(e){var t=(0,p.default)(e.currentTarget);t.hasClass("active")||(n.removeClass("active"),t.addClass("active"),_=t.data("value"),g.clean(),g.render())})}(),w.find(".spinner").hide(),(0,m.jqGetElemById)("percentile-text").text(k.percentile))})}),e.exports=g},382:function(e,t,n){"use strict";var l=n(1),s=n(15),o={};function c(e,t,n){var o=1<arguments.length&&void 0!==t?t:550,i=2<arguments.length&&void 0!==n?n:440,a=l.$window.width()/2-o/2,r=l.$window.height()/2-i/2,s="width=".concat(o,",height=").concat(i);0<a&&0<r&&(s+=",left=".concat(a,",top=").concat(r)),window.open(e,"socialpopup",s)}function d(e){return-1===e.indexOf(encodeURIComponent("/"))?encodeURIComponent(e):e}o.facebook=function(r){r.on("click",function(e){e.preventDefault();var o=window.FB||null,i=r.data(),t={utm_content:i.axId,ref:i.axId};i.gifUrl&&0<i.gifUrl.length&&(t.gif_url=d(i.gifUrl)),i.ogType&&0<i.ogType.length&&(t.og_type=encodeURIComponent(i.ogType)),i.ogSharingMethod&&0<i.ogSharingMethod.length&&(t.og_sharing_method=encodeURIComponent(i.ogSharingMethod)),i.url=(0,s.appendGetParams)(i.url,t);function n(){window.location=(0,s.appendGetParams)("share://facebook",{link:d(i.url),caption:encodeURIComponent(i.title),elementId:i.axId})}function a(){var e;if(null!==o){switch(e={method:i.method,display:"popup"},i.method){case"feed":e.link=i.url,e.description=i.title,i.image&&(e.picture=i.image);break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:i.url,ref:i.axId})}o.ui(e)}else{var t="https://www.facebook.com/v2.12/dialog/"+i.method;e={app_id:i.appId,display:"popup",redirect_uri:d(url)};var n=d(i.url);switch(i.method){case"feed":e.link=n,e.description=i.title,i.image&&(e.picture=encodeURIComponent(i.image));break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:n,ref:i.axId})}c((0,s.appendGetParams)(t,e),void 0,200)}}if(l.isAndroid&&l.appVersion.isGreaterThanOrEqualTo("1.10.0"))n();else if(l.isAndroid)try{Android.shareFacebook(i.url)}catch(e){a()}else l.isIos&&l.appVersion.isGreaterThanOrEqualTo("0.9.2")?n():a()})},o.twitter=function(o){o.on("click",function(e){e.preventDefault();var t=o.data(),n={text:encodeURIComponent(t.title)};t.url&&(n.url=d(t.url)),t.via&&(n.via="brilliantorg"),c((0,s.appendGetParams)("https://twitter.com/intent/tweet",n))})},o.remind=function(o){o.on("click",function(e){e.preventDefault();var t=o.data(),n=d(t.url);c("https://www.remind.com/v1/share?url="+n+"&referrer="+n+"&text="+encodeURIComponent(t.title),880,600)})},o.pinterest=function(n){n.on("click",function(e){e.preventDefault();var t=n.data();c("https://pinterest.com/pin/create/button/?url="+d(t.url)+"&media="+encodeURIComponent(t.media)+"&description="+encodeURIComponent(t.title)+" | via Brilliant.org",750,320)})},o.whatsapp=function(e){navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i)?e.removeClass("disabled"):(e.parent().addClass("whatsapp-removed"),e.remove())},o.nativeEmail=function(t){t.on("click",function(e){e.preventDefault(),window.location=(0,s.appendGetParams)(t.attr("href").replace("mailto:","share://email"),{elementId:t.data("ax-id")})})},-1!==window.location.href.indexOf("fb_close_window")&&window.self.close(),e.exports=o},42:function(e,t,n){"use strict";function o(e){if(e)if(e.substring){var t=e.split(".");try{this.major=parseInt(t[0],10)}catch(e){this.major=0}try{this.minor=parseInt(t[1],10)}catch(e){this.minor=0}try{this.patch=parseInt(t[2],10)}catch(e){this.patch=0}}else e.toFixed&&(this.major=e)}o.prototype.major=0,o.prototype.minor=0,o.prototype.patch=0,o.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch},o.prototype.compare=function(e){return this.major==e.major?this.minor==e.minor?this.patch==e.patch?0:this.patch>e.patch?1:-1:this.minor>e.minor?1:-1:this.major>e.major?1:-1},o.prototype.isGreaterThanOrEqualTo=function(e){var t=new o(e);return 0<=this.compare(t)},e.exports=o},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e.length)return;!function(){if(v)return;(v=(0,h.default)('<textarea tabindex="-1"/>').data("autosize",!0)[0]).style.cssText="position: absolute;top: -999px;left: 0;right: auto;bottom: auto;border: 0;padding: 0;box-sizing: content-box;word-wrap: break-word;height: 0 !important;min-height: 0 !important;overflow: hidden;transition: none;-webkit-transition: none;",(v.style.lineHeight="99px")===(0,h.default)(v).css("lineHeight")&&g.push("lineHeight");v.style.lineHeight=""}();var p=h.default.extend({},i,t||{});v.parentNode!==document.body&&(0,h.default)(document.body).append(v);e.each(function(e,o){var n,t,i=(0,h.default)(o),a={height:o.style.height,overflow:o.style.overflow,overflowY:o.style.overflowY,wordWrap:o.style.wordWrap,resize:o.style.resize},r=i.css("resize"),s=0,l=i.width();if(!i.data("autosize")){i.data("autosize",!0),"border-box"===i.css("box-sizing")&&(s=i.outerHeight()-i.height());var c=Math.max(parseFloat(i.css("minHeight"))-s||0,i.height());i.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===r?i.css("resize","none"):"both"===r&&i.css("resize","horizontal");var d=function(){clearTimeout(t),t=setTimeout(function(){var e=i.width();e!==l&&(l=e,f())},parseInt(p.resizeDelay,10))};"onpropertychange"in o?"oninput"in o?i.on("input.autosize keyup.autosize",f):i.on("propertychange.autosize",function(e){"value"===e.propertyName&&f()}):i.on("input.autosize",f),!1!==p.resizeDelay&&(0,h.default)(window).on("resize.autosize",d),i.on("autosize.resize",f),i.on("autosize.resizeIncludeStyle",function(){m=null,f()}),i.on("autosize.destroy",function(){m=null,clearTimeout(t),(0,h.default)(window).off("resize",d),i.off("autosize").off(".autosize").css(a).removeData("autosize")}),f()}function u(){var t,n=window.getComputedStyle?window.getComputedStyle(o,null):null;n?(t=parseFloat(n.width),"border-box"!==n.boxSizing&&"border-box"!==n.webkitBoxSizing&&"border-box"!==n.mozBoxSizing||["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"].forEach(function(e){t-=parseFloat(n[e])})):t=i.width(),v.style.width="".concat(Math.max(t,0),"px")}function f(){var e;m!==o?function(){var t={};if(m=o,v.className=p.className,v.id=p.id,n=parseFloat(i.css("maxHeight")),g.forEach(function(e){t[e]=i.css(e)}),(0,h.default)(v).css(t).attr("wrap",i.attr("wrap")),u(),window.chrome){var e=o.style.width;o.style.width="0px";o.offsetWidth;o.style.width=e}}():u(),!o.value&&p.placeholder?v.value=i.attr("placeholder")||"":v.value=o.value,v.value+=p.append||"",v.style.overflowY=o.style.overflowY;var t=parseFloat(o.style.height)||0;v.scrollTop=0,v.scrollTop=9e4,e=v.scrollTop,n&&n<e?(o.style.overflowY="scroll",e=n):(o.style.overflowY="hidden",e<c&&(e=c)),e+=s,.01<Math.abs(t-e)&&(o.style.height="".concat(e,"px"),v.className=v.className,"function"==typeof p.callback&&p.callback.call(o,o),i.trigger("autosize.resized"))}})};var o,h=(o=n(0))&&o.__esModule?o:{default:o};var m,v,i={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},g=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"]},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=p,t.add=function(e){if(c.test(navigator.userAgent))return void p(e);e.is(":visible")?(0,s.isInViewport)(e)?p(e):(d.push(e),u++,f||(f=!0,a.$window.on("scroll.deferred",o.default.throttle(function(){for(var e=d.length,t=!1,n=0;n<e;n++)!1!==(t=d[n])&&(0,s.isInViewport)(t)&&(p(t),d[n]=!1,0==--u&&(f=!1,a.$window.off("scroll.deferred")))},16)))):h()},t.addCmpsInContainer=function(e,t){var n=d.length,o=n-u,i=t,a=!1;for(;o<n;o++)!1!==(a=d[o])&&(0,s.isVisibleInContainer)(a,e)&&(p(a),d[o]=!1,u--,0===--i&&e.off("scroll.deferred"))};var r=l(n(0)),o=l(n(4)),i=l(n(19)),a=n(1),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var c=/opera mini|series40/i,d=[],u=0,f=!1;function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.data();e.find(".js").addClass("spinner"),(0,i.default)(n.cmp_page_key).get(n.cmp_url,Object.assign({param_key:n.cmp_param_key,deferred:!0},t))}var h=o.default.once(function(){var a=r.default.fn.show;r.default.fn.show=function(o,i){return(0,r.default)(this).each(function(e,t){var n=(0,r.default)(t);a.apply(n,[o,i]),n.find(".cmp-deferred").each(function(e,t){var n=(0,r.default)(t);n.is(":visible")&&p(n)})})}})},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mentions=function(e){null!==(l=(0,r.jqGetElemById)("mentions-data").data()||null)&&(l["".concat(l.type,"_id")]=l.id);var n=c;n.existingMentions=n.existingMentions||[],n.mentionsStorage={get:function(){return n.existingMentions},set:function(e){n.existingMentions=e}},e.each(function(e,t){(0,i.mentionsInput)((0,a.default)(t),n)})},t.wikiLinks=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=d;t&&(n.highlightFunction=u);e.each(function(e,t){(0,i.mentionsInput)((0,a.default)(t),n)})},t.mentionsAndWikiLinks=function(e){null!==(l=(0,r.jqGetElemById)("mentions-data").data()||null)&&(l["".concat(l.type,"_id")]=l.id);var t=c;t.existingMentions=t.existingMentions||[],t.mentionsStorage={get:function(){return t.existingMentions},set:function(e){t.existingMentions=e}};var n={elastic:!1,onCaret:!0,mentions:t,wikiLinks:d};e.each(function(e,t){(0,i.mentionsInput)((0,a.default)(t),n)})};var a=s(n(0)),o=s(n(4)),i=n(783),r=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l=null,c={stopTriggerRegex:/\n/,elastic:!1,templates:{mentionItemSyntax:o.default.template("mention[<%= id %>:<%= value %>]"),autocompleteListItem:o.default.template('<li data-ref-id="<%= id %>" data-ref-type="" data-display="<%= display %>"><strong><%= content %></strong> <%= age %><%= country %></li>')},mentionRegex:/mention\[[\d]+:(.*?)]/g,onDataRequest:function(e,t,n){var o=this;l.prefix=t,a.default.getJSON(l.url,l,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];e.map(function(e){return e.id=e.user_id,e.name="".concat(e.first_name," ").concat(e.last_name),e.age=null!==e.age?e.age.toString():"",e.country=e.country||"",e.age=e.age.length&&e.country.length?"".concat(e.age,", "):e.age,e.isUser=!0,e}),n.call(o,e)})}},d={triggerChar:"[[wiki-",stopTriggerRegex:/[|\]]/,allowRepeat:!0,showAvatars:!0,elastic:!1,onCaret:!0,templates:{mentionItemSyntax:o.default.template("<%= value %>"),mentionItemHighlight:o.default.template("<%= value %>")},onDataRequest:function(e,t,n){var o=this,i={prefix:t};a.default.getJSON("/wiki/wiki_suggestions/",i,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];e.map(function(e){return e.icon="wiki-icon",e.isWiki=!0,e}),n.call(o,e)})}};function u(e){return e.replace(/\[\[(start|end)(.*?)(]]|<br \/>)/g,function(e){var t='<span class="wiki-syntax-highlight start-end">'.concat(e);return-1===t.indexOf("<br />")?t+="</span>":t=t.replace("<br />","</span><br />"),t})}},495:function(e,t,n){"use strict";var d=i(n(0)),o=i(n(7)),r=n(9),s=n(1),p=n(11),u=n(31);function i(e){return e&&e.__esModule?e:{default:e}}n(72);var a={emailAddresses:function(t){function e(e,t){e.on("click",function(e){e.preventDefault(),(0,d.default)(e.currentTarget).parents("li").find("input[type=radio]").prop("checked",!0),t.click()})}var n=t.find(".verify"),o=t.find(".make-primary"),i=t.find(".remove"),a=t.find("[name=action_send]"),r=t.find("[name=action_primary]"),s=t.find("[name=action_remove]"),l=t.find(".add-email-link"),c=t.find(".add-email-form");e(n,a),e(o,r),e(i,s),s.on("click",function(){var e=t.find("input[type=radio]:checked").val();return confirm("Do you really want to remove ".concat(e,"?"))}),l.on("click",function(e){e.preventDefault(),(0,d.default)(e.currentTarget).parents("tr").hide(),c.removeClass("hide").find("input").focus(),l.addClass("hide")}),0<c.find(".errorlist").length&&l.click()},emailSettings:function(e){function c(e){o.default.track("email settings timeout error",{result:e})}e.find("form").each(function(e,t){var l=(0,d.default)(t);l.find("input.unsubscribe").each(function(e,t){var r=(0,d.default)(t),s=!1;r.on("click",function(){if(!s){s=!0;var e=l.attr("action"),o=0,t=r.prop("checked"),i={type:"POST",timeout:3e3};e=e.replace(/\/(un)?checked\//,t?"/checked/":"/unchecked/"),i.url=e,r.prop("disabled",!0);var a=function(){s=!1,r.prop("disabled",!1),r.prop("checked",!t)};!function n(){d.default.ajax(i).then(function(){s=!1,l.removeClass("opt-out"),r.prop("disabled",!1)}).fail(function(e,t){"timeout"===t?o<5?(o++,c("retry"),n()):((0,u.showTimeoutErrorModal)(),c("limit reached"),a()):((0,u.errorModalHandler)(e),a())})}()}})})});var t=(0,d.default)(".opt-out");if(0<t.length){var n=t.parents(".pref-group-row");s.isMobile&&(n=n.add(n.prev(".pref-group-row"))),n.addClass("highlighted"),(0,s.setScrollPosition)(t.offset().top-s.$window.height()/2,{animate:!0}),setTimeout(function(){n.addClass("transition").removeClass("highlighted")},5e3)}},paymentHistory:function(n){(0,s.jqGetElemById)("view-receipts").on("click",function(e){e.preventDefault();var t=(0,d.default)(e.currentTarget);n.toggleClass("expanded"),n.hasClass("expanded")?(t.removeClass("view-receipts"),t.addClass("hide-receipts")):(t.removeClass("hide-receipts"),t.addClass("view-receipts"))})},deactivateAccountForm:function(e){function t(){r.toggleClass("hide",!a.prop("checked"))}function n(){var e=i.filter(":checked").length,t=0===e||1===e&&a.prop("checked")&&""===s.val().trim();l.toggleClass("hide",t)}function o(){var e=c.filter(":checked").val();d.toggleClass("hide","temporary"!==e),u.toggleClass("hide","permanent"!==e),e&&f.removeClass("hide")}var i=e.find(":checkbox"),a=i.filter('[value="other"]'),r=e.find(".other-text"),s=r.find("textarea"),l=e.find(".second-step"),c=e.find('[name="deactivate_method"]'),d=e.find(".how-to-reactivate"),u=e.find(".password"),f=e.find(".btn-submit");i.on("change",function(){n(),"other"===this.value&&t()}),s.on("change click keyup",n),c.on("change",o),t(),n(),o(),e.on("submit",function(){f.addClass("disabled").prop("disabled",!0)}),e.find(".errorlist").length&&p.Anchors.scrollToTarget(e)},uploadAvatarFormDesktop:function(e){var t=e.find(".upload-avatar-field"),n=t.find("input"),o=t.find(".filename"),i=e.find(".btn-submit");o.data("defaultValue",o.text()),n.on("change",function(){var e=n.val();o.text(e?e.replace(/^.*[\\/]/,""):o.data("defaultValue")),i.prop("disabled",!e)})},changeAvatarMobile:function(e){var t=e.find(".avatar-wrapper"),n=e.find(".upload-avatar-form"),o=e.find(".upload-avatar-link input"),i=e.find(".choose-avatar-form"),a=i.find('input[type="radio"]');o.on("change",function(){o.val()&&(t.addClass(r.CLASS_NAME_LOADING),n.submit())}),a.on("change",function(e){var t=e.target;a.prop("disabled",!0),(0,s.jqCreateElem)("input").attr({type:"hidden",name:t.name,value:t.value}).insertAfter(t),i.submit()})},deleteAvatarForm:function(e){var t=e.find('input[type="checkbox"]'),n=e.find(".btn");t.on("change",function(){n.prop("disabled",0===t.filter(":checked").length)})},b2DeactivationModal:function(e){(0,s.jqGetElemById)("deactivate-modal-trigger").on("click",function(){e.modal("show")})},pollExportState:function(n){var e,o=n.data("url");if(function t(){d.default.get(o).then(function(e){"ready"===e.state&&"url"in e?((0,d.default)(".download").removeClass("hidden").find("a").attr("href",e.url),n.addClass("hidden")):setTimeout(t,6e4)})}(),n.attr("data-test-url")){e=n.data("test-url"),setTimeout(function(){d.default.get(e)},6e3)}}};e.exports=a},496:function(e,t,n){},497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reminders=function(e){function t(){o.modal(),(0,r.track)("ui",{action:"modal",element_type:"modal",element_id:"viewed_dailyproblems_reminders_modal"}),window.location.hash===n&&h()}var n="#set-reminders",o=e.find(".dp-reminder-set");e.find(".set-reminder-trigger").on("click",t),o.find(".errorlist").length&&t();if(o.find("form").on("submit",function(){o.modal("hide");var n={action:"click",element_id:"clicked_dailyproblems_reminders_save"};o.find("[name=tracks]").each(function(e,t){n["track_".concat(t.dataset.track)]=t.checked}),(0,r.track)("ui",n)}),function(n){function o(e){(0,r.track)("ui",{action:"click",element_id:"clicked_dailyproblems_snooze_reminders_save",snooze_days:e})}var i=n.find(".dp-reminder-snooze-form"),a=n.find(".dp-reminder-snooze-modal");i.on("submit",function(){a.modal("hide");var e=parseInt(i.find("[name=snooze_days]:checked").val(),10);o(e)}),n.find(".snooze-disable-trigger").on("click",function(e){e.preventDefault();var t=n.data("page-key");(0,d.default)(t).form(i[0],{snooze_days:0}),a.modal("hide"),o(0)}),"#snooze-reminders"===window.location.hash&&(a.modal("show"),h())}(e),window.location.hash===n){var i=(0,s.default)(".dailyproblems-nux"),a=i.hasClass("dp-reminder-nux");!a&&0<i.length?i.on("hide",t):a||t()}},t.mainbodySection=function(e){var t=(0,c.jqGetElemById)("dp-expand");t.length&&t.one("click",function(){e.addClass("expanded"),c.$window.trigger(s.default.Event(u.EVT_DAILYPROBLEM_MAINBODY_EXPANDED))});function n(){e.addClass("editing"),e.find("textarea").trigger("autosize.resize"),i=m("main",o)}var o=e.find(".dp-mainbody-form"),i=function(){};"#edit_challenge"===window.location.hash&&n();(0,c.jqGetElemById)("dp-edit").on("click",n),(0,c.jqGetElemById)("dp-edit-cancel").on("click",function(){return e.removeClass("editing")}),(0,c.jqGetElemById)("dp-save-mainbody").on("click",function(e){i(e)}),(0,a.default)(e.find("textarea"))},t.bodyEditor=function(e){var t=e.find("textarea");(0,o.wikiLinks)(t,!1)},t.hiddenField=function(t){t.find("button").on("click",function(e){e.preventDefault(),t.addClass("visible"),t.find("input").focus()})},t.card=function(o){o.on("click",function(){var e=o.data(),t=e.imageType,n={action:"click",element_type:"link",element_id:"clicked_daily_problem_card",is_series:e.isSeries,has_staff_note:e.hasStaffNote,has_preview_copy:e.hasPreviewCopy,is_complete:e.isComplete,is_archived:e.isArchived};t&&(n.image_type=t),(0,r.track)("ui",n)})},t.problemAdminButtons=function(e){e.children(".edit-problem").on("click",function(){(0,s.default)(".question-text").trigger("edit"),m("problem")}),e.children(".edit-answer").on("click",function(){(0,s.default)(".solvable-mcq-options-btn").trigger("click"),m("problem")})},t.categorizableInput=function(e){var t=e.data("field"),n=e.find("select");if((v[t]=n).on("change",function(){return g(t,n.val())}),3===Object.keys(v).length){var o=v.course.val();o&&g("course",o)}},t.checkSidebarHeight=function(e){function t(){c.$body.toggleClass("static-sidebar",window.innerHeight<o)}var n=e.children().last(),o=n.offset().top+n.outerHeight()+75;c.$window.on("resize.dpSidebar",l.default.throttle(t,16)),t()},t.expandableCalendar=function(e){e.find("h3").on("click",function(){e.toggleClass("expanded")})},t.nuxRedirect=function(t){t.find("a, button").on("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=t.data("next")})},t.nuxModal=function(e){var t=[n.e(101).then(n.t.bind(null,989,7))];c.isMobile&&t.push(n.e(102).then(n.t.bind(null,990,7)));Promise.all(t).then(function(){return(0,f.modalController)(e)})};var s=p(n(0)),l=p(n(4)),a=p(n(43)),c=n(1),i=n(36),r=n(7),d=p(n(19)),u=n(9),o=n(45),f=n(11);function p(e){return e&&e.__esModule?e:{default:e}}function h(){var e=window.location.pathname+window.location.search;window.history.replaceState({},document.title,e)}var m=function(n,o){var i,a=(0,c.jqGetElemById)("outdated-daily-challenge-".concat(n,"-modal")),r=(0,c.jqGetElemById)("save-outdated-daily-challenge-".concat(n,"-modal"));return l.default.defer(function(){!function e(){var t=(a=(0,c.jqGetElemById)("outdated-daily-challenge-".concat(n,"-modal"))).data();s.default.get(t.diffUrl).then(function(e){e.latest_change_id&&e.latest_change_id!==t.latestChange&&(a.modal(),clearTimeout(i))}),i=setTimeout(e,1e4)}()}),a.find(".discard-btn").on("click",function(){window.location.reload()}),function(e){if(i){e.preventDefault(),clearTimeout(i);var t=a.data();s.default.get(t.diffUrl).then(function(e){e.latest_change_id&&e.latest_change_id!==t.latestChange?(r.modal(),clearTimeout(i)):o.submit()}),r.find(".save-btn").on("click",function(){return o.submit()})}}};var v={};function g(e,t){if(t){var o=function(e,o){v[e].find("span.hide option[disabled]").unwrap(),v[e].find("option").prop("disabled",!1).filter(function(e,t){if(""===t.value)return!1;var n=parseInt(t.value,10);return o.indexOf(n)<0}).prop("disabled",!0).wrapAll('<span class="hide"></span>');var t=parseInt(v[e].val(),10);o.indexOf(t)<0&&v[e].val(null)};(function(e,t){var n={category_type:e,selected_category_id:t},o={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-CSRFToken":(0,i.getToken)()},credentials:"include",redirect:"follow",body:JSON.stringify(n)};return fetch("/assessment/get_course_categorization_options/",o).then(function(e){return e.json()})})(e,t).then(function(e){var n=e.data;["course","chapter","quiz"].forEach(function(e){var t=n["".concat(e,"_id")];t&&function(e,t){v[e].val(t)}(e,t)}),n.chapters&&o("chapter",n.chapters),n.quizzes&&o("quiz",n.quizzes)})}}},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modal=function(e){var t=e.closest(".educator-person"),n=(0,i.default)("#educator-bio-modal"),o=n.find("ul");e.on("click",function(){o.html(t.clone()),n.modal("show")})};var o,i=(o=n(0))&&o.__esModule?o:{default:o}},499:function(e,t,n){"use strict";var o=u(n(4)),i=u(n(43)),a=u(n(19)),r=n(37),s=n(1),l=n(11),c=n(17),d=n(45);function u(e){return e&&e.__esModule?e:{default:e}}var f={};function p(e){var t=e.parents(".modal");!function(e){e.is(":visible")&&0===e.find(".errorlist").length&&e.modal("hide")}(t),function(e){(0,i.default)(e.find("textarea")),(0,d.mentions)(e.find("#id_invite_people")),e.on("show",function(){o.default.defer(function(){e.find("textarea").trigger("autosize.resize")})})}(t)}f.creationForm=p,f.featuredGroups=function(e){e.find(".see-more").on("click",function(){e.addClass("expanded")})},f.editGroup=function(){var t=(0,s.jqGetElemById)("group-header"),n="editing";t.removeClass(n),(0,s.jqGetElemById)("group-edit-trigger").on("click",function(){t.addClass(n),(0,i.default)(t.find("textarea")),(0,s.setScrollPosition)(0)}),t.find(".cancel-edit").on("click",function(e){e.preventDefault(),t.removeClass(n)}),t.find(".btn-expand").on("click",function(){t.addClass("expanded")})},f.inviteModal=p,f.confirmGroupAction=function(n){var o=n.find("form");(0,s.jqOffOn)(o,"submit",function(e){e.preventDefault();var t=n.data();(0,l.showConfirmationModal)({title:t.confirmModalTitle,text:t.confirmModalText,confirmBtnText:t.confirmModalOk,cancelBtnText:t.confirmModalCancel,classes:"group-confirm-modal"}).then(function(e){e&&(0,a.default)(o.find("#id_page_key").val()).form(o[0])})})},f.seeReport=function(e){var t=e.find(".group-report-modal");e.find(".group-report-trigger").on("click",function(){t.modal()})},window.vkey.groups_invite_members=function(e,t){var n=(0,s.jqGetElemByCmpName)(t),o=(0,s.jqGetElemById)("group-invite-modal");o.removeData("controller-inited").removeAttr("data-controller-inited"),n.html(e.new_html),(0,r.initAutosubmit)(n),(0,c.initGenericControllers)(o.parent())},e.exports=f},500:function(e,t,n){"use strict";var o,i,a,r,s=n(0),l=(n(19),{});function c(n){var o=i[n=n||0],e=o.find(".refreshable").data(),t={page_key:e.pageKey,component_key:e.componentKey,version:window.VERSIONS[e.pageKey]||1};o.addClass(a),s.get(e.url,t).fail(function(){o.removeClass(a).addClass("error")}).then(function(e){for(var t in e.actions)window.vkey.handle(e.actions[t],t);o.removeClass(a),n==i.length-1?r():c(n+1)})}l.autorefresh=(i=[],a="reloading",r=function(){setTimeout(c,3e4)},function(e){i.push(e),clearTimeout(o),o=setTimeout(r,100)}),e.exports=l},502:function(e,t,n){"use strict";var _=o(n(0)),a=o(n(4)),b=n(7),w=n(1),k=n(11),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(15)),r=n(9),s=n(31),l=n(17),C=n(134);function o(e){return e&&e.__esModule?e:{default:e}}n(785);var c={subtopic:function(e){e.data();var t=(0,_.default)(".prac-subtopic").filter(".expanded");t.length&&a.default.defer(function(){k.Anchors.scrollToTarget(t)}),e.find(".prac-subtopic .trigger").on("click",function(){var e=(0,_.default)(this).parents(".prac-subtopic");if(e.toggleClass("expanded"),e.hasClass("expanded")){var t=e.data("subtopic-slug"),n=window.location.pathname+"?subtopic="+t,o={subtopic:t};try{window.history.replaceState(o,"",n)}catch(e){}}else try{window.history.replaceState({},"",window.location.pathname)}catch(e){}})},quizWikiFilter:function(n){var o=n.find(".btn-group, .btn-tabs").children(),i="active",a="";o.each(function(){a+=(0,_.default)(this).data("type")+" "}),o.on("click",function(){var e=(0,_.default)(this),t=e.data("type");e.hasClass(i)||(o.removeClass(i),e.addClass(i),n.removeClass(a).addClass(t))})},switchPaywallPosition:function(s){function l(e){var t={action:"viewed_paywall_slide",paywall_type:n,step_position:y,step_name:y===m?"features_list":"dynamic_content",is_first_step:1===y,is_last_step:y===m};i&&(t.slide_chapter_id=i),e&&(t.triggered_by=e),(0,b.track)("ui",t)}function o(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.$marker,o=t.changeState,i=void 0===o||o,a=t.triggeredBy,r=h&&i;p.removeClass("current"),p.filter('[data-position="'+y+'"]').addClass("current"),c.removeClass("current"),n?n.addClass("current"):c.filter('[data-position="'+y+'"]').addClass("current"),d.removeClass(g),u.removeClass(g),y===m?(w.userIsAuthenticated?(f.add(s.parent(".header")).add(s.parents(".course-quiz-paywall-wrapper")).addClass(v),(0,C.twinklingStars)(f.find(".premium-space-bg"))):p.filter(".current").find(".btn-continue").hide(),u.addClass(g)):(f.add(s.parent(".header")).add(s.parents(".course-quiz-paywall-wrapper")).removeClass(v),1==y&&d.addClass(g)),window.history.pushState&&r&&window.history.pushState({position:y},"","?p="+y),l(a)}var c=(0,w.jqGetElemById)("prac-markers").find(".prac-marker"),d=(0,w.jqGetElemById)("prev-marker-btn"),u=(0,w.jqGetElemById)("next-marker-btn"),f=(0,w.jqGetElemById)("previews").length?(0,w.jqGetElemById)("previews"):s,p=f.find(".preview"),e=p.find(".btn-continue"),t=s.data(),h=t.changeState,m=p.length,v="show-paywall",g="disabled",n=t.paywallType,i=t.chapterId,y=f.data("initial-position")?f.data("initial-position"):1;h&&w.$window.on("popstate",function(e){var t=e.originalEvent.state;y=t&&t.position?t.position:1,o({changeState:!1,triggeredBy:r.INTERACTION_TYPES.URL_CHANGE})}),w.isMobile&&navigator.userAgent.toLowerCase().indexOf("android")<0&&(0,k.crop)(!1),c.on("click",function(e){var t=(0,_.default)(e.currentTarget),n=t.data("position");e.preventDefault(),n!==y&&(y=n,o({$marker:t,triggeredBy:r.INTERACTION_TYPES.STATUS_DOT}))}),d.on("click",function(e){e.preventDefault(),(0,_.default)(e.currentTarget).hasClass("disabled")||(y--,o({triggeredBy:"prev_next_button"}))}),u.add(e).on("click",function(e){e.preventDefault(),(0,_.default)(e.currentTarget).hasClass("disabled")||(y++,o({triggeredBy:e.currentTarget===u[0]?r.INTERACTION_TYPES.PREV_NEXT_BUTTON:r.INTERACTION_TYPES.CONTINUE_BUTTON}))}),1!==m&&a.default.defer(l)},loadChapterPaywall:function(e){var t,n=(0,w.jqGetElemByCmpName)("explorations_chapter").find(".exploration-quizzes a"),o=e.data(),i=e.attr("href"),a={page_key:o.pageKey};e.add(n).on("click",function(e){e.preventDefault(),t?t.modal():((t=(0,_.default)('<div class="chapter-paywall-modal modal"><span class="spinner"></span></div>')).modal(),_.default.get(i,a).then(function(e){t.html(e.actions.explorations_chapter_paywall.new_html),t.find(".close").on("click",function(){(0,w.jqGetElemById)("paypal-modal").find("> .visible").length||t.modal("hide")}),(0,l.initGenericControllers)(t)}).fail(function(){window.location.href=i}))})},explorationDescription:function(e){e.on("click",function(){e.parent().toggleClass("expanded")})},trackExplorationsComingSoon:function(e){var t,n,o=e.data(),i=o.topicSlug,a=o.chapterSlug;n=i?(t="clicked_exploration_topic_coming_soon",i):(t="clicked_exploration_chapter_coming_soon",a),e.on("click",function(){(0,b.track)("ui",{action:"click",element_type:"link",element_id:t,target:n})})},wikiListing:function(t){a.default.defer(function(){for(var e=t.height();t.width()<t[0].scrollWidth||t.height()<t[0].scrollHeight;)e+=100,t.css({height:e})})},notifyComingSoon:function(e){function t(){!1===o&&(o=!0,e.removeClass("with-form"),_.default.post(n.prop("action")).fail(s.errorModalHandler).fail(function(){o=!1,e.addClass("with-form")}))}var n=e.find("form"),o=!1;n.on("submit",function(e){e.preventDefault(),t()}),e.on("click",t)},explorationsNav:function(n){if(n.find(".courses-item").on("click",function(){var e=(0,_.default)(this),t=e.data(),n={action:"click",element_id:"clicked_course_card",nux_step:!!i.getParamsObject().tour,course_id:t.id,course_name:t.name,course_difficulty:t.difficulty,course_recommended:t.recommended,course_recent:t.recent,course_category:e.parents(".courses-category").find(".courses-category-name").text().trim(),course_category_number:e.parents(".courses-item-wrapper").index()+1};t.recommendedType&&(n.course_recommended_type=t.recommendedType),(0,b.track)("ui",n)}),!w.isMobile){var o=null,e=n.data("sidebarLinks")||"#nav-exploration-categories a",r=(0,_.default)(e),t=function(){var a=(0,_.default)(this),e=a.data("category"),t=n.data("offset")||40;o&&a.data("previous-category",o),o=e;new Waypoint({element:this,offset:a.is(":last-child")?"bottom-in-view":t,handler:function(e){var t,n,o="active";if("down"===e?(t=a.data("category"),n=window.location.pathname+window.location.search+"#"+t):(t=a.data("previous-category")||null,n=window.location.pathname+window.location.search,t&&(n+="#"+t)),r.removeClass("active"),t){var i=r.filter("[data-subcategory="+t+"]");i.length?(i.addClass(o),i.parents("ul").siblings("a").addClass(o)):r.filter("[data-category="+t+"]").addClass(o)}else(0,w.jqGetElemById)("exploration-sidebar-link").addClass(o);try{window.history.replaceState({},"",n)}catch(e){}}})};a.default.defer(function(){n.find("[data-category]").each(t)}),r.on("click",function(e){e.preventDefault();var t=(0,_.default)(e.currentTarget);k.Anchors.scrollToTarget(n.find("#".concat(t[0].href.split("#")[1])),function(){r.removeClass("active"),t.addClass("active"),t.parents("ul").siblings("[data-category]").addClass("active"),t.siblings("ul").find("[data-subcategory]").first().addClass("active")})})}},quizSidebarDropup:function(e){var t=(0,_.default)(".course-quiz-sidebar"),n=(0,_.default)(".codex-expand-toggle");e.on("open",function(){n.filter(".active").click(),t.addClass("above-quiz-content")}).on("close",function(){t.removeClass("above-quiz-content")})}};vkey.explorations_chapter_paywall=function(e,t){vkey.handle(e,t)},c.saveForLater=function(t){function n(){o.hasClass("saved")?o.on("mouseenter",function(){o.find("b").html("Remove")}).on("mouseleave",function(){o.find("b").html("Saved")}):o.off("mouseenter mouseleave")}var o=t.find("button"),i=t.parent().find("#first-time-save-modal");n(),o.on("click",function(e){e.preventDefault(),_.default.post(t.attr("action"),t.serialize(),function(e){o.toggleClass("saved"),n(),e.saved?(o.html("<b>Saved</b>"),t.prop("form_action").value="unsave"):(o.html("Save"),t.prop("form_action").value="save"),e.show_first_time_modal&&i.modal()})})},e.exports=c},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postcheckout=function(a){function n(n,e){var o=!(1<arguments.length&&void 0!==e)||e;if(!d){var i=s.filter(".slide-".concat(n)),t=function(){var e=i.data("slide"),t=g?n:n-1;t=Math.min(t,l.length-1),s.removeClass(c),i.addClass(c),l.removeClass(c),l.eq(t).addClass(c),d=!1,(0,p.setScrollPosition)(0),a.trigger(u.default.Event("".concat(h,".").concat(e))),m=n,a.addClass("in"),y(),o&&window.history.pushState({currentSlide:m},"",window.location.href)};setTimeout(function(){a.hasClass("in")?(r.one("transitionend",t),d=!0,a.removeClass("in")):t(),a.toggleClass("hide-footer",!0===i.data("hide-footer"))})}}var r=a.find(".slides"),s=a.find(".slide"),l=a.find(".b-markers span"),t=(0,p.jqGetElemById)("airtable-tmpl"),c="active",d=!1,o=null,i=(0,p.jqGetElemById)("btn-continue");i.on("click",function(){if(4<=m){var e=a.data(),t=function(){window.location.href=e.nextUrl};"email"===o?(i.prop("disabled",!0),u.default.post(e.emailUrl).then(t)):t()}else n(m+1)}),a.find(".pro-success-nav").on("click",function(e){n(parseInt(e.target.dataset.slide,10))}),(0,p.jqGetElemById)("communication-phone").on("click",function(){o=null}),(0,p.jqGetElemById)("communication-email").on("click",function(){o="email"}),(0,p.jqOffOn)(p.$window,"popstate",function(e){var t=e.originalEvent.state;null===t?n(v,!1):t.currentSlide&&n(t.currentSlide,!1)}),t.length&&a.one("".concat(h,".survey"),function(){var e=(0,p.jqCreateElem)("div");e.html(t.html()),t.replaceWith(e),function(){var e=Date.now(),t=a.find(".airtable-embed");t.on("load",function(){(0,f.track)("ui",{element_id:"pro_airtable_survey_form_loaded",load_time:Date.now()-e})}),t.prop("src",t.data("src"))}()});null===m?(m=a.data("start-slide"),g=0===m,v=m,a.addClass("in"),setTimeout(y)):1<m?n(m):(a.addClass("in"),setTimeout(y))};var o,u=(o=n(0))&&o.__esModule?o:{default:o},f=n(7),p=n(1);var h="showslide",m=null,v=null,g=!1;function y(){(0,f.track)("ui",{element_id:"pro_success_viewed_slide",slide_name:(0,u.default)(".slide-".concat(m)).data("slide"),slide_number:m})}},504:function(e,t,n){"use strict";var c=o(n(0)),a=o(n(43)),r=o(n(19)),s=n(1);function o(e){return e&&e.__esModule?e:{default:e}}function i(){u(),b()}function l(e){(0,c.default)(this).parents("form").trigger("submit")}var d={},u=function(e){var t=(e=e||(0,c.default)("#profile,#prof-sidebar")).find(".multi .close"),n=e.find(".input").find("select,input[type=radio]"),o=e.find(".input.longtext form"),i=e.find(".input input[name=value]");(0,a.default)(e.find("textarea")),t.off("click"),t.on("click",function(e){e.preventDefault();var t=(0,c.default)(this);t.parents(".item").css({opacity:.5}),(0,r.default)("assessment").form(t.parents("form").get(0),{remove:t.data("value")||""})}),o.off("submit.saving").on("submit.saving",function(e){e.preventDefault(),(0,c.default)(this).find("button[type=submit]").addClass("disabled").text("Saving...")}),o.each(f),i.off("blur.blur_force_submit"),i.on("blur.blur_force_submit",l),i.off("keydown.enter_listen"),i.on("keydown.enter_listen",function(e){13===e.which&&(e.preventDefault(),l.call(this))}),(0,c.default)("a.add_or_edit_item").on("click",function(e){e.preventDefault();var t=(0,c.default)(this).data("name");(0,c.default)("#view_"+t+"_hider").hide(),(0,c.default)("#edit_"+t+"_hider").show(),(0,c.default)("#edit_"+t+"_hider").find("input[type=text], textarea").focus()}),e.find(".multi.display").each(function(){var e=(0,c.default)(this);e.height()<this.scrollHeight&&e.addClass("scrollable")}),e.find(".multi .add").on("click",function(e){e.preventDefault(),(0,c.default)(this).hide().parents(".multi").find("input[type=text]").show().trigger("focus")}),e.find('[data-provide="typeahead"]').each(p),(0,c.default)(".click_to_answer_trigger").on("click",function(e){e.preventDefault();var t=(0,c.default)(this);t.closest(".input").find(".click_to_answer_section").show(),t.hide()}),n.off("change"),n.on("change",l),g(e),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.$body,t=e.find(".auto-prompt"),n=e.find(".auto-prompt-cancel"),r=t.first().data("prompts");r&&0<r.length?(r=r.split(/\|/g),t.each(function(){var i=(0,c.default)(this),a=i.parents(".prompt").find("input,textarea");a.data("orig-value",a.val()),!0!==i.data("inited")&&(i.data("inited",!0),i.on("click",function(e){e.preventDefault();for(var t,n=a.val(),o=n;o==n;)t=Math.floor(Math.random()*(r.length-0)),o=r[t];i.removeClass("active"),i.siblings(".auto-prompt-cancel").addClass("active"),a.val(o),a.change()}))}),n.each(function(){var t=(0,c.default)(this),n=t.parents(".prompt").find("textarea");t.on("click",function(e){e.preventDefault(),t.removeClass("active"),t.siblings(".auto-prompt").addClass("active"),n.val(n.data("orig-value")),n.change()})})):t.hide()}(e),function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.$body).find(".free-resp-edit").not(".inited");e.on("click",function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget).parents(".prof-field");t.toggleClass("editing"),t.find(".label-input").trigger("autosize.resize")}),e.addClass("inited")}(e)},f=function(){var t=(0,c.default)(this),n=t.find("textarea:last");if(!t.hasClass("added-counter")){t.addClass("added-counter");var e='<div class="counter"><span></span> [type]s left</div>',o=n.data(),i=o.wordLimit||null,a=/[\s\.,]+/,r=null,s=function(e){t.find(".footer").prepend(e)};null!==i?s(e.replace("[type]","word")):0<o.charLimit?(s(e.replace("[type]","character")),i=o.charLimit||140,a=""):(i=400,s(e.replace("[type]","word"))),r=t.find(".counter span");var l=function(){var e=0<n.val().length?c.default.trim(n.val()).split(a).length:0;e=i-e,r.parent().toggleClass("over",e<0),r.text(e)};l(),n.on("keyup",l)}},p=function(){var t=(0,c.default)(this),n=t.parents("form");0<t.data("source").length&&(t.off("blur").off("keydown.enter_listen"),t.on("blur",function(e){e.preventDefault();var t=(0,c.default)(this);t.data("typeahead").select(),t.data("has_blurred",!1),n.trigger("submit")}),t.off("menued"),t.on("menued",function(e){t.next(".save-new").remove()}),t.off("unmenued"),t.on("unmenued",function(e){t.off("keyup.unmenued").on("keyup.unmenued",function(){h(t)}),h(t,!0)}),n.off("submit"),n.on("submit",function(e){e.preventDefault();var t=(0,c.default)(this);clearTimeout(n.data("prof-timeout")),n.data("prof-timeout",setTimeout(function(){(0,r.default)("assessment").form(t.get(0),{remove:"",value:t.find("input[name=value]").val()})},10))}),t.off("change"),t.on("change",function(e){n.trigger("submit")}))},h=function(e,t){if(t=t||!1,0!==e.val().length){var n=e.data("new-item-text")||null;0<e.next(".save-new").length?e.next(".save-new").text(n.replace("[newtag]",'"'+e.val()+'"')).show():t&&null!==n&&(e.after('<a href="#" class="save-new">'+n.replace("[newtag]",'"'+e.val()+'"')+"</a>"),e.next(".save-new").on("click",function(e){e.preventDefault()}))}else e.next(".save-new").hide()};function m(){var t=(0,c.default)("#prof-status");if(0<t.length&&t.hasClass("editable")&&!0!==t.data("inited")){t.data("inited",!0);var e=t.find(".edit-status"),n=(0,c.default)("#status-form"),o=(0,c.default)("#status-input"),i=(0,c.default)("#clear-status");e.on("click",function(e){e.preventDefault(),t.addClass("editing"),o.focus()}),i.on("click",function(e){e.preventDefault(),o.val(""),t.removeClass("editing")}),n.on("submit",function(){t.addClass("saving")}),o.on("keydown",function(e){27===e.which&&(o.val(""),t.removeClass("editing"))})}}function v(e){0===e.children().length&&e.hide()}var g=function(e){var t=".multiline";0<(e=e.find(t)||(0,c.default)(t)).length&&e.each(y)},y=function(){var t=(0,c.default)(this);if(!0!==t.data("inited")){t.data("inited",!0);var e=t.find(".edit"),n=t.find(".btn-cancel"),o=t.find("form");e.on("click",function(e){e.preventDefault(),t.addClass("editing"),t.find("input:first").focus()}),n.on("click",function(e){e.preventDefault(),t.removeClass("editing")}),o.on("submit",function(e){e.preventDefault(),t.addClass("saving"),o.attr("disabled","disabled").addClass("disabled"),o.find(".btn").attr("disabled","disabled").addClass("disabled"),(0,r.default)("profile_profile").form((0,c.default)(this).get(0))})}},_=["profile_interests","profile_languages","profile_skills","profile_competitions"],b=function(){var e=(0,c.default)("#prof-empty");if(0<e.length){for(var t,n=0,o=_.length,i=!0,a=(0,c.default)("#multi-entries");n<o;n++)if((t=(0,c.default)("#cmp_"+_[n]+"_id").clone()).find(".debug_component_info").remove(),0<t.text().replace(/\s|\n/g,"").length){i=!1;break}i&&(e.show(),a.hide())}};d.onload=function(){i(),m(),(0,c.default)("[id*=cmp_]").not(".nf-modal-content").not(".nf-set-modal-content").each(function(){var e=(0,c.default)(this);0===e.children().length&&e.hide()}),s.isMobile&&(0,c.default)("#see-prof-fields").removeClass("dim").on("click",function(e){e.preventDefault(),(0,c.default)(this).toggleClass("active");var t=(0,c.default)("#hidden-prof-fields"),n=t.hasClass("active");t.toggleClass("active",!n),t.toggle(!n)})},window.vkey.profile_stats_sidebar=function(e,t){var n=vkey.handle(e,t);n.find(".upvotes").tooltip(),v(n)};function w(e,t){var n=vkey.handle(e,t);if(i(),m(),0===n.find(".error").length){var o=n.find(".saved:not(.animating)");0<o.length&&(o.addClass("animating"),o.fadeIn(200).delay(3e3).fadeOut(200).removeClass("animating"))}n.find("input:not([type=submit]):not([type=radio]):visible:first").focus(),v(n)}function k(e,t){w(e,t),b()}window.vkey.profile_about=w,window.vkey.profile_free_response_1=w,window.vkey.profile_free_response_2=w,window.vkey.profile_free_response_3=w,window.vkey.profile_high_school=w,window.vkey.profile_college=w,window.vkey.profile_company=w,window.vkey.profile_status_msg=w,window.vkey.profile_interests=k,window.vkey.profile_languages=k,window.vkey.profile_competitions=k,window.vkey.profile_skills=k,e.exports=d},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebar=function(n){function o(e){!0===(0<arguments.length&&void 0!==e&&e)?(n.removeClass("in"),n.addClass("hide")):(n.one("transitionend",function(){return n.addClass("hide")}),n.removeClass("in")),m.$body.removeClass(i),m.$body.off(v.EVT_QUIZ_POSITION_WILL_CHANGE),(0,p.crop)(!1)}function e(){n.removeClass("hide"),m.$body.addClass(i),(0,p.crop)();var e=n.find("#".concat(t,"-add-form textarea"));r?x(n,y):u||e.length&&0<e.val().length?x(n,_):(s||l)&&x(n,b),(0,h.hideBranchBanner)(),setTimeout(function(){n.addClass("in"),n.one("click",o);var e=n.find('.cmp-deferred[data-cmp_component_key="contentreports_postlist"]');if(l&&e.length){var t={};(0,f.default)(".solv-details").hasClass("endstate")&&(t.solver_viewing=!0),g.load(e,t)}else k(n);m.$body.on(v.EVT_QUIZ_POSITION_WILL_CHANGE,function(){return o(!0)})})}var t=n.data("prefix"),i="qanda-active",a=n.data("target"),r=n.data("show-free-trial"),s="course-feedback"===t,l="content-reports"===t,c=n.data("hide-questions"),d=0===n.find(".discsol-post").length&&0===(0,m.jqGetElemByCmpName)("qanda_questionadd").length,u=!s&&!l&&(c||d);n.find(".close").not(".modal .close").on("click",o),n.find("#".concat(t,"-non-pro-premium-trigger-").concat(a)).on("click",function(e){e.preventDefault(),n.removeClass("free-trial"),x(n,u?_:b)}),(0,m.jqOffOn)(m.$body,"click.".concat(t),"#".concat(t,"-trigger-").concat(a),e),n.children().on("click",function(e){e.stopPropagation(),n.find(".dropdown, .dropup").removeClass("open")}),n.find("[data-toggle=dropdown]").dropdown(),u||function(e,t){if(w)return;var n=e.data(),o=n.commentsSlug,i=n.commentsCmpKey,a=new RegExp("^#!\\/".concat(o,"\\/(\\d+)\\/?(\\d+)?\\/?$")),r=window.location.hash.match(a);if(r){var s=r[1],l=r[2],c=e.find(".discsol-list"),d=null,u=null,f=function(){var e=d||u;if(e){var t=c.offset().top,n=e.offset().top,o=c.height();0<n+e.height()-t-o&&(0,m.setScrollPosition)(n-t-50,{$container:c})}},p=function(e){var t="highlight";!0!==e.data(t)&&(e.addClass(t),setTimeout(function(){return e.removeClass(t)},3e3),e.data(t,!0))};if(s&&!l){var h=(0,m.jqGetElemById)("post-".concat(s));h&&(d=h,setTimeout(function(){return p(h)},500),f())}m.$window.on("".concat(v.EVT_VKEY_AFTER_UPDATE,".").concat(i),function(e){var t=e.$cmp;if(l){var n=t.find("[data-comment=".concat(l,"]"));n.length&&((u=n).is(":visible")||t.find(".cmmnt-container.level-0").addClass("show-all-replies"),p(n))}f()}),setTimeout(t),w=!0}}(n,e)},t.addPost=function(e){function t(){if(0!==s.length){var e=s.val().length;0<e&&0===c?(r.prop("disabled",!1),l.prop("disabled",!1)):0===e&&0<=c&&(r.prop("disabled",!0),l.prop("disabled",!0)),c=e}}var n=e.data(),o=n.prefix,i=n.success,a=(0,m.jqGetElemById)("".concat(o,"-wrapper")),r=(0,m.jqGetElemById)("".concat(o,"-add-form")),s=r.find("textarea"),l=r.find("button"),c=0;s.on("input",t),m.isMobile&&s.on("focus",function(){return m.$body.scrollTop(0)});r.on("submit",function(){setTimeout(function(){return r.trigger(f.default.Event("autosave.clear"))})}),(0,m.jqGetElemById)("".concat(o,"-back")).on("click",function(){"qanda"===o&&a.data("show-free-trial")?x(a,y):x(a,b)}),!0===i?x(a,d):(C(o,u),s.select());t()},t.postsList=function(e){var n=e.data("prefix");e.is(":visible")&&k(e);e.find("[data-toggle=dropdown]").dropdown(),(0,m.jqGetElemById)("".concat(n,"-add-post-trigger")).on("click",function(e){var t=(0,f.default)(e.currentTarget).data("paywall");t?window.location.href=t:x((0,m.jqGetElemById)("".concat(n,"-wrapper")),_)}),C(n,s),e.find(".staff-details-link").on("click",function(e){var t=(0,f.default)(e.currentTarget),n=t.closest(".discsol-post").find(".staff-details"),o="click.contentReportsStaffDetails";e.preventDefault(),n.toggleClass(v.CLASS_NAME_HIDE),n.hasClass(v.CLASS_NAME_HIDE)?(0,f.default)(".qanda-sidebar").off(o):i.default.defer(function(){(0,f.default)(".qanda-sidebar").on(o,function(e){0===(0,f.default)(e.target).closest(".staff-details").length&&t.trigger("click")})})}),e.find(".canned-response-template-trigger").on("click",function(e){e.preventDefault();function t(e){a.val(e).trigger(f.default.Event("input")),n.closest(".discsol-post").find(".staff-details-link").trigger("click")}var n=(0,f.default)(e.currentTarget),o=n.parents(".qanda-question").find(".qanda-add-comment-trigger"),i=(0,m.jqGetElemById)(o.data("target")),a=i.find(".top-level-comment-form").find("textarea#id_text_");o.parent().hasClass("hide")||(o.parent().addClass("hide"),i.removeClass("hide")),(0,r.default)(a),0===a.length?(0,p.showGenericModal)("You can only used canned response on the first reply."):a.val()?(0,p.showConfirmationModal)({title:"Overwrite reply?",text:"You have a current reply drafted already, are you sure you want to overwrite it?",cancelBtnText:"No",confirmBtnText:"Yes, overwrite"}).then(function(e){e&&t(n.data("text"))}):t(n.data("text"))})},t.commentsList=function(e){function t(){n.parent().addClass("hide"),(0,m.jqGetElemById)(n.data("target")).removeClass("hide")}var n=e.find(".qanda-add-comment-trigger");n.on("click",t),e.find("[data-toggle=dropdown]").dropdown(),e.find(".errorlist").length&&t()},t.changeReportVisibility=function(e){var t=e.data(),n=e.closest(".modal");e.on("click",function(e){e.preventDefault(),n.modal("hide"),(0,p.showConfirmationModal)({title:t.confirmModalTitle}).then(function(e){e?(0,m.jqGetElemById)("post-".concat(t.reportId)).find(".make-visible-to-".concat(t.visibilityType)).trigger("submit"):n.modal("show")})})};var f=a(n(0)),i=a(n(4)),m=n(1),r=a(n(43)),p=n(11),h=n(170),v=n(9),g=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(44)),o=n(181);function a(e){return e&&e.__esModule?e:{default:e}}n(72);var y=0,_=1,d=2,b=3,u=10,s=11,w=!1;function k(e){e.find(".discsol-post-wrapper").each(function(e,t){(0,o.showCommentsForSolution)((0,f.default)(t),!0)})}function C(e,t){var n=(0,m.jqGetElemById)("".concat(e,"-wrapper")),o=n.find(".qanda-add-form header:visible"),i=t===u?n.find("#".concat(e,"-add-form textarea")):n.find("#".concat(e,"-list .discsol-list")),a="";o.length&&(a=o.outerHeight()),i.css({top:a})}function x(e,t){var n=e.data("prefix"),o="add-question",i="add-question-success",a="free-trial";switch(t){case y:e.removeClass("".concat(o," ").concat(i)).addClass(a);break;case _:e.removeClass(i).addClass(o),0===e.find("#cmp_qanda_questionadd_id").length&&e.find("div.qanda-nonpro").show(),(0,f.default)("#qanda-add-form textarea").select(),C(n,u);break;case d:e.removeClass(o).addClass(i),C(n,s);break;case b:e.removeClass("".concat(o," ").concat(i," ").concat(a)),C(n,s);break;default:throw new Error("Unexpected Q&A sidebar state: ".concat(t))}}},506:function(e,t,n){"use strict";var k=i(n(0)),d=i(n(4)),l=i(n(43)),c=i(n(19)),a=n(7),C=n(1),x=n(11),E=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(15)),I=n(9),T=n(17),u=n(45),o=n(134),s=i(n(88)),S=n(78);function i(e){return e&&e.__esModule?e:{default:e}}var r={recommendConceptQuiz:function(e){var t=e.data("recommended-quiz");(0,C.jqGetElemById)("concept-quiz-".concat(t)).addClass("recommended")}},f=null;function p(){(0,C.jqOffOn)(f.$trigger,"click.quizendstate",function(){(0,f.originalController)(f.$container,f.$trigger)})}function h(n){return function(t){d.default.defer(function(){var e=(0,C.jqGetElemById)("endstate-trigger-btn");e.length&&(f={$trigger:e,$container:t,originalController:n}),null!==f&&f.$trigger.length&&(e.data("show-immediately")&&n(t,e),p())})}}function m(t,n){if(!t.length)return null;var o=d.default.template(t.data("tmpl")),i=(new Date).getTime(),a=setTimeout(function(){a=setInterval(function(){var e=10-Math.round(((new Date).getTime()-i)/1e3);t.text(o({s:e})),e<=0&&(clearInterval(a),n(t))},250)},500);return{stop:function(){clearInterval(a),clearTimeout(a)},reset:function(){t.text(o({s:10}))}}}var v;function g(e){function t(){(0,x.getScrollHeight)(n)>n.outerHeight()&&n.addClass("scrollable")}var n=e.find(".content");n.find("img").on("load",t),t()}r.endstateModal=h(function(e){function t(){"paywall"===o.nextAction?(e.addClass((0,C.supportsAnimation)()?"flipped":"force-flipped"),k.default.get(o.nextUrl,{element_id:"clicked_b2_next_quiz",target_object_id:o.targetObjectId,target_object_type:"quiz",target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)})):window.location.href=o.nextUrl}var n,o=(e=e.clone(!0)).data();(n=m(e.find(".countdown span"),t))&&(e.on("hide",function(){n.stop(),n.reset()}),e.find("a,button").on("click",n.stop)),e.find(".flip").on("click",t),e.on("show",function(){d.default.defer(function(){e.parent().addClass("b2-endstate-modal-backdrop"),g(e)})}),e.modal(),(0,a.setAnalyticsEvents)(e)}),r.endstateTakeover=h(function(t){0===t.parents(".course-quiz-wrapper").length&&(0,k.default)(".course-quiz-wrapper").find(".prac-solvable").append(t),t.parents(".course-quiz-wrapper").addClass("show-quiz-endstate"),C.isMobile&&(0,C.setScrollPosition)(0),(0,o.twinklingStars)(t.find(".endstate")),m(t.find(".countdown span"),function(){var e=t.data("next-url");e&&(window.location.href=e)})}),r.endstateModalMarketing=h(function(e){var t=e.children().clone();t.on("show",function(){d.default.defer(function(){g(t)})}),t.modal()}),r.preemptiveWiki=(v=!1,function(e){if(!v){var t=e.data("ax-prefix"),n=(0,C.jqGetElemById)("quiz-wrapper").data("set-number"),o=function(e){return function(){(0,a.track)("ui",{action:"modal",element_type:"modal",element_id:"".concat(t,"_").concat(e),path:window.location.pathname,full_path:window.location.pathname+window.location.search})}},i=e.find("a");i.attr("href",E.appendGetParam(i.attr("href"),"sn",n)),e.on("show",o("displayed")),e.on("hide",o("closed")),e.modal(),v=!0}}),r.editablePane=function(n){function o(e){r.val(e.toString())}var e=n.find(".pane-edit-trigger"),t=n.find(".pane-cancel-editing"),i=n.find(".pane-save-trigger"),a=n.find(".pane-preview-trigger"),r=n.find('[name="preview"]'),s=n.hasClass("is-previewing-pane");0===e.length&&(e=(0,k.default)(".pane-edit-trigger")),e.on("click",function(e){e.preventDefault(),n.toggleClass("editing"),o(!0);var t=n.find("textarea");(0,u.mentionsAndWikiLinks)(t),(0,l.default)(t)}),t.on("click",function(e){if(e.preventDefault(),s){var a=n.data();(0,x.showConfirmationModal)({title:a.cancelConfirmText}).then(function(e){if(e){var t=a.cmpUrl,n=a.cmpKey,o=a.pageKey,i=a.paramKey;C.$body.data(I.CMP_RELOADING_FLAGS.PANE,!0),(0,c.default)(o).get(t,{component_key:n,param_key:i})}})}else n.toggleClass("editing")}),i.on("click",function(e){if(!("false"===r.val())){var t=n.data();e.preventDefault(),(0,x.showConfirmationModal)({title:t.saveConfirmText}).then(function(e){e&&(o(!1),i.parents("form").trigger("submit"))})}}),a.on("click",function(){o(!0)})},r.potwSwitchWeek=function(e){function t(e){(0,a.track)("ui",{element_id:e,path:window.location.pathname,full_path:window.location.pathname+window.location.search})}C.isMobile&&e.on("click",function(){t("potw_dropdown_open")}),e.on("change",function(){C.isMobile&&t("potw_dropdown_choice"),e.prop("disabled","disabled").addClass("dim"),window.location.href=e.val()})},r.replaceContinueButton=function(e){null!==f&&(p(),e.find(".solv-done-btn, .btn-next").filter(":visible").replaceWith(f.$trigger.clone(!0)))},r.chapterIntroQuiz=function(p){var h=p.data(),o=h.chapterId,e=(0,C.jqGetElemById)("chapter-intro-continue"),m=(0,C.jqGetElemById)("quiz-chapter-intro-markers").children("span"),v="slide-end",g=m.length+2,y=1,_=!1,b=!1;(0,x.crop)();function t(e,t){var n={action:"viewed_chapter_slide",step_position:e,is_first_step:1===e,is_last_step:e===g,slide_chapter_id:o};t&&(n.triggered_by=t),(0,a.track)("ui",n,{exclude:["Amplitude"]})}function w(e){return 3<=e&&e<g}function n(d,e){if(!(d<=0||_)){_=!0;var u="slide-"+y,f="slide-"+d;g<d?function(i){var a=(0,C.jqGetElemById)("quiz-wrapper-bg"),r=a.data();i.one("transitionend",function(){i.find(".quiz-chapter-intro-panes").remove();function o(e){0<C.$body.data(I.QUIZ_CHAPTER_INTRO_STATE).numContinuingPanes?setTimeout(function(){return o(e)},100):(C.$body.data(I.QUIZ_CHAPTER_INTRO_STATE,{active:!1}),i.one("transitionend",e),i.addClass("done"),window.history.replaceState({},"",r.quizUrl),(0,x.crop)(!1))}if(C.userIsAuthenticated)o(function(){i.remove(),s.default.convertDummyPreloader(a.find("#prac-preload-wrapper"),r.id)});else{var e=a.find("[data-cmp-main]").data(),t=e.cmpKey,n=e.cmpAltKey;vkey[n]=function(){return window.location.href=r.quizUrl},vkey[t]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];vkey.handle.apply(vkey,t),(0,S.practiceAnonWrapper)(a),o(function(){return i.remove()})},a.find("[data-cmp-id]").each(function(e,t){var n=(0,k.default)(t),o=n.data();n.attr("id",o.cmpId),o.cmpUrl&&o.cmpKey&&(0,c.default)(r.pageKey).get(o.cmpUrl,{component_key:o.cmpKey})})}}),i.addClass("out")}(p):(p.one("transitionend",function(){function e(){w(y)&&!w(d)&&setTimeout(function(){(0,C.jqGetElemById)("interstitial-pane-continue-form").submit()})}var t=!1,n=!1,o=d-3;if(d<3)u+=" show-quiz "+v,e();else if(3<=d){if(f+=" show-quiz",d===g)f+=" "+v,e(),n=!0===h.locked;else if(u+=" "+v,w(d)){var i=(0,k.default)("#prac-markers-".concat(h.id," > *"));i.filter(".current").index()!==o&&(setTimeout(function(){return i.eq(o).click()}),t=!0)}m.removeClass("active"),m[o].classList.add("active")}p.removeClass(u).addClass(f);function a(){setTimeout(function(){p.one("transitionend",function(){_=!1}),p.removeClass("out")})}if(n)if(b)a();else{var r=(0,C.jqGetElemById)("course-intro-paywall"),s=E.getParamsObject(),l={page_key:r.data("cmp-page-key")};s.force_country&&s.forcepaytm&&(l.force_country=s.force_country,l.forcepaytm=s.forcepaytm);var c=function(){window.location.href=r.data("fallback")};k.default.get(r.data("url"),l).fail(c).then(function(e){try{var t=e.actions.course_chapter_intro_paywall_component;r.append(t.new_html),(0,T.initGenericControllers)(r)}catch(e){return void c()}a(),b=!0})}else t?C.$body.one(I.EVT_QUIZ_POSITION_DID_CHANGE,a):a();y=d}),p.addClass("out"),t(d,e))}}e.on("click",function(){n(y+1,I.INTERACTION_TYPES.CONTINUE_BUTTON)}),h.allowNav&&(m.on("click",function(e){var t=(0,k.default)(e.currentTarget).index()+3;n(t,I.INTERACTION_TYPES.STATUS_DOT)}),(0,x.keyboardNavigation)({guard:function(){return!(0,C.jqGetElemById)("signup-modal-generic").is(":visible")},left:function(){n(y-1,I.INTERACTION_TYPES.ARROW_KEY)},right:function(){y===g?h.locked||p.find("footer .btn:visible").click():n(y+1,I.INTERACTION_TYPES.ARROW_KEY)}})),C.$body.data(I.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:0}),d.default.defer(function(){return t(1)})},r.courseQuizzesMenu=function(e){function t(){o.one("transitionend",function(){e.removeClass(a),n.removeClass(a),n.css("height","auto")}),C.isMobile&&((0,x.crop)(!1),i.removeClass(I.CLASS_NAME_HIDE)),e.removeClass("in"),C.$body.off("click.quizzesmenu")}var n=e.parents(".course-quiz-sidebar"),o=e.find("#quizzes-menu"),i=(0,k.default)(".new-years-banner"),a="show-menu";if(e.find("#quizzes-menu-close").on("click",t),e.find("#quizzes-menu-trigger").on("click",function(){C.isMobile&&((0,x.crop)(),i.addClass(I.CLASS_NAME_HIDE)),e.addClass(a),n.addClass(a),d.default.defer(function(){e.addClass("in"),n.css("height",(0,x.getScrollHeight)(o))}),(0,C.jqOffOn)(o,"click.quizzesmenu",function(e){e.stopPropagation()}),d.default.defer(function(){C.$body.one("click.quizzesmenu",t)})}),!C.isMobile&&0<i.length){var r=o.find("header"),s=i.offset().top,l=i.outerHeight(),c=function(){var e=s+l-C.$window.scrollTop();r.css("top",Math.max(e,s))};c(),C.$window.on("scroll",d.default.throttle(c,16))}},e.exports=r},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigation=function(e){var t=e.find("a");t.on("click",function(){t.toggleClass("active")})}},509:function(e,t,n){"use strict";var d=a(n(0)),u=a(n(4)),f=n(1),p=n(31),o=a(n(380)),i=a(n(381));function a(e){return e&&e.__esModule?e:{default:e}}var c={},s={ratingsGraph:i.default},h=null;function l(e){(h=h||(0,f.jqGetElemById)("stats-topic-links")).toggleClass("disabled",e)}c.graph=function(){var a=[];(0,f.jqOffOn)(f.$window,"resize",u.default.debounce(function(){a.forEach(function(e){return e()})},200));var r=(0,f.jqGetElemById)("stats-webview-wrapper").data("is-webview");return function(i){l(!0),function(t,e){var n=t.data("source")||null;d.default.get(n).then(e).fail(function(e){(0,p.errorModalHandler)(e),t.find(".spinner").hide(),l(!1)})}(i,function(o){setTimeout(function(){var e=(0,f.jqGetElemById)("stat-empty"),t=(0,f.jqGetElemById)("stat-btn-filters");if(0===o.ratings_correct_incorrect_over_time.length)e.show(),t.hide(),i.find(".spinner").hide();else{var n=s[i.data("graph")];o.isWebview=r,e.hide(),t.show(),n.render(i,o,!0),a.push(function(){n.clean(i),n.render(i,o)})}l(!1)},200)})}}(),c.graphTopicSwitcher=function(n){var o=(h=h||(0,f.jqGetElemById)("stats-topic-links")).find("a"),i=(0,f.jqGetElemById)("stats-topic-name"),a=(0,f.jqGetElemById)("canvas"),r=n.data(),s="current";function l(e,t){if(null===e&&f.isMobile)return n.modal("show"),void f.$window.trigger("resize");if(o.removeClass(s),o.filter('[data-topic-name="'.concat(e.topicName,'"]')).addClass(s),a.find(".cleanable").html(""),a.find(".spinner").show(),a.data("source",e.topicDataUrl),i.text(e.topicName),(0,f.jqGetElemById)("stat-empty").hide(),f.isMobile&&n.modal("show"),c.graph(a),!0!==t)try{window.history.pushState(e,null,e.href)}catch(e){}}n.modal({show:!1}),o.on("click",function(e){e.preventDefault();var t=(0,d.default)(e.currentTarget);if(t.hasClass(s)||h.hasClass("disabled"))f.isMobile&&l(null);else{var n=t.data();n.href=t.attr("href"),l(n)}}),f.isMobile||f.$window.on("popstate",function(e){var t=e.originalEvent.state;t&&t.href!==window.location.href?l(t,!0):t||l(r,!0)})},c.exampleGraphModal=function(){var e=(0,f.jqGetElemById)("stats-topic-links").find("a"),t=(0,f.jqGetElemById)("stat-graph-container"),n=(0,f.jqGetElemById)("canvas");t.modal({show:!1}),e.on("click",function(e){e.preventDefault(),t.modal(),s[n.data("graph")].clean(n),c.exampleLineGraph(n)})},c.exampleLineGraph=function(e){var t=s.ratingsGraph;t.render(e,o.default),(0,f.jqOffOn)(f.$window,"resize",u.default.debounce(function(){t.clean(e),t.render(e,o.default)},200))},c.attemptPunchcard=function(e){var o=e.find(".clickable"),i=(0,f.jqGetElemById)("attempt-table"),a=(0,f.jqGetElemById)("attempt-table-content"),r=(0,f.jqGetElemById)("attempt-table-date"),s=i.find(".btn"),l=u.default.template((0,f.jqGetElemById)("attempt-table-row").text()),c=null;f.isMobile&&e.find(".calendar").scrollLeft(1500),0!==o.length?o.on("click",function(e){var t=(0,d.default)(this);if(!t.hasClass("active")){var n=t.data();null!==c&&c.abort(),o.removeClass("active"),t.addClass("active"),s.addClass("hide"),i.removeClass("hide"),a.html('<tr><td colspan="4"><span class="spinner"></span></td></tr>'),r.text(n.date),(c=d.default.ajax({url:n.details})).fail(p.errorModalHandler).then(function(e){c=null;var t=e.details.map(function(e){return e.r=(0,f.commaFormat)(e.r),l(e)}).join("");a.html(t),s.removeClass("hide")})}}):(0,f.jqGetElemById)("stat-punchard-nodata").show()},e.exports=c},510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleFeatured=function(t){var n=t.parent().find("a");t.click(function(e){e.preventDefault(),t.hasClass(a)||(r=1,s=t.text().toLowerCase(),d({view:s,page:r}),n.removeClass(a),t.addClass(a))})},t.loadMore=function(e){e.toggle(!e.hasClass("hidden")),e.click(function(e){e.preventDefault(),d({view:s,page:r+=1})})};var o,i=(o=n(0))&&o.__esModule?o:{default:o};var a="active",r=1,s=(0,i.default)("a.active").text().toLowerCase(),l=(0,i.default)(".testimonials-reviews ul"),c=(0,i.default)(".testimonials-reviews a.load"),d=function(n){n.page_key="flatpage_testimonials",n.version=1,i.default.get("/testimonials/",n).done(function(e){var t=(0,i.default)(e.actions.flatpage_testimonials.new_html);1===n.page?l.html(t.find("li")):l.append(t.find("li")),c.toggle(0===t.filter("a.load.hidden").length)})}},511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggedOut=function(){var o=(0,c.jqGetElemById)("lvllist").find(".lvl"),i=(0,c.jqGetElemById)("lvlcontent").find(".lvl"),e=i.find(".selectors a"),a="active",r=".".concat(a);o.on("click",function(e){e.preventDefault();var t=(0,l.default)(e.currentTarget);if(!t.hasClass(a)){o.filter(r).removeClass(a),t.addClass(a),i.filter(":visible").hide();var n=i.eq(t.index()+1);"undefined"!=typeof MathJax?(d.updateMathjax(n),n.show()):n.css({visibility:"visible"}).show()}}),e.on("click",function(e){e.preventDefault();var t=(0,l.default)(e.currentTarget);if(!t.hasClass(a)){var n=t.parents(".lvl").find(".problem"),o=n.eq(t.index());t.siblings(r).removeClass(a),t.addClass(a),n.filter(":visible").hide(),"undefined"!=typeof MathJax?(d.updateMathjax(o),o.show()):o.css({visibility:"visible"}).show()}});var t=window.location.hash||null;if(null!==t){var n=parseInt(t.replace(/[#!/]/g,""),10)||null;null!==n&&(window.location="/levels/".concat(n,"/"))}else try{var s=window.location.pathname.match(/\/levels\/([^/]*)/)[1];s&&o.filter(".lvl").eq(s-1).trigger("click")}catch(e){}};var o,l=(o=n(0))&&o.__esModule?o:{default:o},c=n(1),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(30))},512:function(e,t,n){"use strict";var v=c(n(0)),d=c(n(4)),y=c(n(43)),a=c(n(127)),u=c(n(19)),s=n(7),l=c(n(128)),i=n(9),r=o(n(44)),g=n(1),_=o(n(30)),b=c(n(129)),w=n(11),k=n(45);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function C(e){p=p||(0,g.jqGetElemById)("outdated-wiki-modal"),d.default.defer(function(){e.find("textarea").on("input",d.default.once(function(){var t=e.data(),n=t.autosaveUser+"_"+t.autosaveKey,o=l.default.getEditHash(n);!function e(){v.default.get(t.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!=o&&(p.modal(),l.default.discardEdit(n),clearTimeout(f))}),f=setTimeout(e,3e4)}()}))}),p.find(".discard-btn").on("click",function(){window.location.reload()})}function x(e){function t(){n.hasClass("summary-text-editor")&&(0,v.default)(".wiki-main-column").removeClass("editing"),l.default.discardEdit(a),o.val(""),n.submit()}var n=e.parents("form"),o=n.find(".preview-button");if(f){h=h||(0,g.jqGetElemById)("save-outdated-wiki-modal"),clearTimeout(f);var i=e.data(),a=i.autosaveUser+"_"+i.autosaveKey,r=l.default.getEditHash(a);v.default.get(i.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!==r?h.modal():t()}),h.find(".save-btn").on("click",t)}else t()}function E(e){if(e.hasClass("stuck")){var t=e.parent();e.css({width:t.width(),left:t.offset().left-g.$document.scrollLeft(),margin:0})}else e.css({width:"",left:"",margin:""})}var f,p,h,m={};m.editSummary=function(e){var t;e.data("is-logged-out")?t=function(){(0,v.default)(".signup-modal").removeClass("hide")}:(t=function(){(0,v.default)(".wiki-main-column").addClass("editing");var e=(0,v.default)(".edit-summary-container").data();(0,u.default)(e.pageKey).get(e.url,{component_key:e.componentKey})},_.updateMathjax((0,v.default)(".summary"))),e.on("click",t)};function I(n,o){var i,a=[],r=!1;n.on("keydown.timecheck",function(){i=(new Date).getTime()}),n.on("input.timecheck",function(){if(i){var e=(new Date).getTime();if(30<=a.length&&a.shift(),a.push(e-i),!r&&30<=a.length){var t=function(e){var t=0;return e.forEach(function(e){t+=e}),t/e.length}(a);30<=t&&(r=!0,n.off(".timecheck"),(0,s.track)("ui",{element_id:"input_timings_wiki",path:window.location.pathname,input_timing_avg:Math.round(t),input_timing_content_length:n.val().length,input_timing_form_type:o,input_timing_threshold:30}))}}})}m.editSummaryForm=function(e){function t(){(0,y.default)(c),(0,k.wikiLinks)(c,!0),b.default.stick(l,{bottom:l.offset().top+e.outerHeight(),handler:E}),I(c,"wiki_summary")}var n=e.data(),o=n.isPreview,i=n.hasErrors,a=n.isUnchanged,r=(0,v.default)(".wiki-main-column"),s=(0,g.jqGetElemById)("summary_text_editor"),l=s.find(".button-container"),c=s.find("textarea"),d=(0,g.jqGetElemById)("summary_text_preview"),u=d.find(".button-container"),f=e.find(".preview-button"),p=e.find(".cancel-button"),h=e.find(".edit-button"),m=e.find(".save-button");o||i||a?o?((0,g.setScrollPosition)(0),_.updateMathjax(d),setTimeout(function(){b.default.stick(u,{bottom:u.offset().top+e.outerHeight(),handler:E})},100),(0,k.wikiLinks)(c)):a&&r.removeClass("editing"):(t(),C(s)),f.on("click",function(){m.val("")}),p.on("click",function(e){e.preventDefault(),o?(0,w.showConfirmationModal)({title:n.cancelConfirmText}).then(function(e){e&&r.removeClass("editing")}):r.removeClass("editing")}),h.on("click",function(){e.addClass("editing"),(0,g.setScrollPosition)(0),t()}),m.on("click",function(e){e.preventDefault(),o?x(s):(0,w.showConfirmationModal)({title:n.saveConfirmText}).then(function(e){e&&x(s)})})},m.editSection=function(e){function o(){if(r.length&&a.length){var e=a.offset().top+a.outerHeight();r.offset().top<e&&a.addClass("hide")}r.addClass("editing"),s.addClass("cmp_"+l.componentKey+"_id"),(0,u.default)(l.pageKey).get(l.url,{component_key:l.componentKey,heading:i})}var t=e.data(),n=t.id,i=t.heading,a=(0,g.jqGetElemById)("wiki-sidebar"),r=(0,g.jqGetElemById)("section-".concat(n)),s=r.find(".edit-section-container"),l=s.data(),c=(0,g.jqGetElemById)("edit-another-section-modal");e.on("click",function(){var e=(0,v.default)(".cmp_wiki_canonical_edit_section_id");if(e.length){var t=e.find("#id_old_heading").val(),n=d.default.template((0,g.jqGetElemById)("discard-changes-text").text());c.find(".modal-body").html(n({currentHeading:t,buttonHeading:i})),c.modal(),c.find(".discard-btn").on("click",function(){var e=(0,v.default)(".cmp_wiki_canonical_edit_section_id"),t=e.parent(".section"),n=t.prev(".skill-heading");e.removeClass("cmp_wiki_canonical_edit_section_id"),t.removeClass("editing"),n.removeClass("hide"),o()})}else o()})},m.editSectionForm=function(e){function t(){s.removeClass("cmp_wiki_canonical_edit_section_id"),a.removeClass("editing"),r.removeClass("hide")}var n=e.data(),o=n.isPreview,i=n.isUnchanged,a=e.parents(".section"),r=a.prev(".skill-heading"),s=e.parent(".edit-section-container"),l=e.find(".section-text-editor"),c=e.children(".button-container"),d=l.find(".autosave-field"),u=l.find("textarea"),f=e.find(".section-preview"),p=f.find(".button-container"),h=e.find(".preview-button"),m=e.find(".cancel-button"),v=e.find(".edit-button"),g=e.find(".save-button");o||i?o?(_.updateMathjax(f),setTimeout(function(){b.default.stick(p,{bottom:p.offset().top+e.outerHeight(),handler:E})},100),(0,k.wikiLinks)(u)):i&&t():(a.addClass("editing"),r.addClass("hide"),(0,y.default)(u),(0,k.wikiLinks)(u,!0),b.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E}),I(u,"wiki_section"),C(d)),h.on("click",function(){g.val(""),e.removeClass("editing")}),m.on("click",function(e){e.preventDefault(),o?(0,w.showConfirmationModal)({title:n.cancelConfirmText}).then(function(e){e&&t()}):t()}),v.on("click",function(){e.addClass("editing"),(0,y.default)(u),(0,k.wikiLinks)(u),b.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E})}),g.on("click",function(e){e.preventDefault(),o?x(d):(0,w.showConfirmationModal)({title:n.saveConfirmText}).then(function(e){e&&x(d)})})},m.expandOrCollapse=function(t){var e=t.find("header"),n=t.attr("id"),o=window.location.hash.substr(1);e.on("click",function(){var e=t.next(".section");t.hasClass("collapsed")?(t.removeClass("collapsed"),e.removeClass("collapsed"),_.checkOverflow(e)):(t.addClass("collapsed"),e.addClass("collapsed"))});g.isMobile&&o===n&&(e.trigger("click"),d.default.delay(function(){w.Anchors.scrollToTarget(e)},100))},m.summary=function(){var e=(0,v.default)(".skill-heading");g.isMobile&&1===e.length&&d.default.defer(function(){e.find("header").trigger("click")});function t(){var e=window.location.hash;"citation-"===e.substr(1,9)&&(0,g.jqGetElemById)(e.substr(1)).addClass("highlight-citation")}t(),(0,v.default)(".citation-link").on("click",function(){d.default.defer(t)})},m.rateWiki=function(t){var n=t.find("li"),e=t.data("rating"),o=!1;e?n.find("input[value="+e+"]").parents("li").addClass("selected"):n.on("click",function(){var e=(0,v.default)(this);o||(o=!0,n.find("input:checked").prop("checked",!1),e.addClass("selected"),e.find("input").prop("checked",!0),t.submit())})},m.reportDisputedWiki=function(e){e.find("#submit").on("click",function(){e.submit(),(0,v.default)(".disputed-container").addClass("hide")})},m.confirmModeratorAction=function(o){o.on("click",function(){var t=o.data(),n=(0,v.default)("#".concat(t.logId));(0,g.jqGetElemById)("wiki-logs-confirm").prop("checked")?(0,w.showConfirmationModal)({title:t.confirmModalTitle,text:t.confirmModalText}).then(function(e){e&&(n.val(t.value),o.parents("form").submit())}):(n.val(t.value),o.parents("form").submit())})},m.logsPager=function(t){t.on("click",function(){var e=t.data("page");(0,v.default)("#pagination_page_id").val(e),t.parents("form").submit()})},m.showStaffActions=function(e){var t=(0,v.default)(".wiki-staff-container"),n=(0,v.default)(".wiki-overlay");e.on("click",function(e){e.stopPropagation(),t.show(),n.show()}),(0,v.default)("body").on("click",function(e){t.hide(),n.hide()}),t.on("click",function(e){e.stopPropagation()})},m.feedback=function(n){function e(e,t){(o=!o)&&(!0!==t&&w.Anchors.scrollToTarget(n),n.find(".cmp-deferred").each(function(e,t){r.load((0,v.default)(t))})),n.toggleClass(i.CLASS_NAME_ACTIVE,o)}var t=(0,g.jqGetElemById)("wiki-feedback-trigger"),o=n.hasClass(i.CLASS_NAME_ACTIVE);t.on("click",e),-1!==window.location.hash.indexOf("feedback")&&e(0,!0)},m.getCitationTime=function(e){var t=d.default.template((0,g.jqGetElemById)("retrieval-time-content").text()),n=new Date;e.find(".retrieval-time").html(t({hour:"0".concat(n.getHours()).slice(-2),minute:"0".concat(n.getMinutes()).slice(-2),month:["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],day:n.getDate(),year:n.getFullYear()}))},m.wikiFooter=function(n){var o=(0,g.jqGetElemById)("footer").outerHeight();o&&d.default.defer(function(){var t=0;g.$window.on("scroll",d.default.throttle(function(){var e=g.$window.scrollTop()-((0,w.getScrollHeight)(g.$body)-o-g.$window.height());0<e?n.css({transform:"translate(0, -".concat(e,"px)")}):0<t&&n.css({transform:"translate(0, 0)"}),t=e},16))});var e=n.data("ax-id");e&&d.default.defer(function(){(0,s.track)("ui",{element_id:e,path:window.location.pathname,full_path:window.location.pathname+window.location.search})})},m.showSignUpModal=function(e){function t(){n.modal("show");var e=n.find(".public-signup-left");e.length&&!e.data("already-opened")&&(e.data("already-opened",!0),e.attr("data-already-opened",!0),(0,s.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1}))}var n=(0,g.jqGetElemById)("signup-modal-wiki"),o="numLoggedOutWikiViews",i=a.default.get(o);i?(i++,a.default.set(o,i)):a.default.set(o,1),2<=i&&d.default.delay(t,3e3),e.find(".signup-btn").on("click",function(e){e.preventDefault(),t()})},m.examplesContribModal=function(e){e.modal()},m.expandableSidebar=function(e){e.find(".header").on("click",function(){e.toggleClass("expanded")})},m.sidebarAfterSummary=function(e){var t=(0,g.jqGetElemById)("section-pre-header-section");e.insertAfter(t).removeClass("hide")},m.editLog=function(e){setInterval(function(){var t=[];e.find("#log_entry_list li.unreviewed").each(function(e){t.push((0,v.default)(this).data("log_entry_id"))}),0<t.length&&v.default.ajax({url:"/wiki/__edit_logs/check_status/",type:"POST",data:{log_entry_ids:t},dataType:"json",success:function(e){var n,o;e.reviewed_ids.forEach(function(e,t){console.log("Reviewed:",e),n="/wiki/__edit_logs/"+e+"/",o={param_key:(0,v.default)('li[data-log_entry_id="'+e+'"]').data("param_key")},(0,u.default)("wiki_all_edit_log").get(n,o)})}})},1e3)},e.exports=m},513:function(e,t,n){"use strict";var v=a(n(0)),g=a(n(4)),f=a(n(43)),p=a(n(19)),y=n(1),_=n(9),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(30)),h=n(11),l=n(15),i=a(n(59)),b=n(17),m=n(45);function a(e){return e&&e.__esModule?e:{default:e}}var w={},r=window.vkey||{},k=null,s={};w.justAddedViaModal="";var C=null,x=null,E="mcq";w.clickHandler=function(e){var t=e.data(),n=null;e.on("click",function(e){if(!e.metaKey){if(n=s[t.target]||(0,y.jqGetElemByCmpName)(t.target),!(s[t.target]=n).data("modal-loaded")){if(!n.find(".cmp-deferred").length)return!0;n.data("modal-loaded",!0)}e.preventDefault(),function(e,t){var n=e.find(".cmp-deferred"),o=(t.post_to_set_name||"<none>")+"|"+(t.clone_from_problem||"<none>")+"|"+(t.pre_filled_skill||"<none>")+"|"+(t.pre_filled_topic||"<none>")+"|"+(t.wiki||"<none>");if(n.length?(n.appendTo(y.$body),e.data("orig-deferred",n)):n=e.data("orig-deferred"),e.data("last-update")!==o){n=n.clone(),e.empty().append(n);var i=g.default.pick(t,"group","post_to_set_name","clone_from_problem","pre_filled_skill","pre_filled_topic","wiki");if(g.default.keys(i).length){var a=n.data("cmp_url"),r=g.default.extend({},i,{is_modal:!0}),s=(0,l.appendGetParams)(a,r);n.data("cmp_url",s)}e.data("last-update",o)}}(n,t),n.data("modal")?n.modal():(n.on("shown",function(){t.target}),n.modal("show"))}return!0})};var I,T;function S(e){setTimeout(function(){"mcq"===E?(e.find("label.multi-select-extra span").html("Correct answer"),0===e.find("input:checked").length&&e.find("input[type=checkbox]:first").prop("checked",!0)):e.find("label.multi-select-extra span").html("Required answer"),e.find("input[type=text]").removeClass("correct").attr("placeholder",C),e.find("input:checked").each(function(){(0,v.default)(this).parents(".mcq-field").find("input[type=text]").addClass("correct").attr("placeholder",x)})})}w.redirectHandler=function(e,t){window.location=e},w.form=function(t){var e=t.find("textarea"),n=t.find(".type-select"),o=t.find(".numerical-answer-field"),i=o.find("input"),a=t.find(".field-difficulty_level, .field-level"),r=t.find(".fields"),s=t.data("solvable-id")||0;k=t;function l(){var n="";t.find("[type=file]").each(function(e,t){n+=(0,v.default)(t).val()}),n.length?t.submit():(0,p.default)("").form(t[0])}(0,f.default)(e),e.each(function(e,t){var n=(0,v.default)(t),o=n.is("#id_summary");(0,m.wikiLinks)(n,o)}),t.find(".btn-preview-post").on("click",function(e){e.preventDefault(),t.addClass("loading"),l()}),t.find(".btn-edit").on("click",function(e){e.preventDefault(),t.removeClass("previewing"),(0,v.default)(".publish-list, .publish-wiki-container").removeClass("hide"),t.find("textarea").trigger("autosize.resize"),g.default.defer(function(){h.Anchors.scrollToTarget((0,v.default)(".publish-wiki-form"))})}),t.find(".btn-confirm").on("click",function(e){e.preventDefault(),t.find(".preview-post-field, .preview-solvable-field, .preview-wiki-field").val(""),t.addClass("loading"),(0,v.default)(e.currentTarget).addClass("dim"),l()});function c(){if(i.closest(".nf-answer-field").hasClass("number")){var e=i.val(),t="invalid";/[^-\d.eE+]/.test(e)?o.removeClass("usage").addClass(t):/[.eE]/.test(e)?o.removeClass(t).addClass("usage"):o.removeClass("".concat(t," ").concat("usage")),a.toggleClass("disabled",0===e.length)}}i.on("keyup change",c),i.length&&a.toggleClass("disabled",0===i.val().length);function d(e){var t;switch(E=e.val(),n.find(".active").removeClass("active"),e.parents("label").addClass("active"),e.closest(".nf-answer-field").removeClass("number mcq multi_select").addClass(E),E){case"mcq":case"multi_select":S(r),w.variableNumChoices.checkForBlankFields(s);break;case"number":t=parseFloat((0,y.jqGetElemById)("id_mcq_answer_1").val()),Number.isNaN(t)||(0,y.jqGetElemById)("id_number_answer").val(t),c()}}n.find("input").on("change",function(e){d((0,v.default)(e.currentTarget))});var u=n.find("input:checked");0===u.length?n.find("input").first().prop("checked","checked"):d(u)},w.variableNumChoices=(T={},(I={}).checkForBlankFields=function(e){if(T.hasOwnProperty(e)){var t=T[e],n=t.choiceData,o=t.$optionalFields;if(n&&n.length&&o&&o.length){var i=o.first().closest(".nf-answer-field");if(i.hasClass("mcq")||i.hasClass("multi_select")){var a=n.filter(function(e){return null!==e&&0<e.length});o.toggleClass("disabled",0===a.length)}}}else y.$window.on("".concat(_.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(e),function(){I.checkForBlankFields(e)})},I.controller=function(e){var t=e.find(".add-choice"),s=e.find(".fields"),l=g.default.template(e.find(".field-template").text()),o=e.parents("form").find("#id_num_mcq_answers"),c=[],d=[],u=[],f=e.data(),n=f.solvableId||0,i={},p=+o.val()||4,h=!1;C=f.dummyText,x=f.correctText,T[n]=i,y.$window.trigger(v.default.Event("".concat(_.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(n))),i.choiceData=c,i.$optionalFields=e.parents("form").find(".field-difficulty_level, .field-level"),s.find("input[type=text]").each(function(e,t){c.push(t.value)}),s.find("input[type=checkbox]").each(function(e,t){d.push(t.checked)});for(var a=1;a<=8;a++){var r=s.find("#edit-mcq-message-".concat(a));r&&r.val()&&u.push(r.val())}function m(){var r="";c.forEach(function(e,t){var n="null"===e?null:e,o="";u&&u[t]&&"null"!==u[t]&&(o=u[t]),null===n&&t<p?c[t]="":null!==n&&0===n.length&&p<=t&&(c[t]=null);var i=s.children("#mcq-choice-".concat(t+1)).find(".errorlist"),a=null===c[t];r+=l({fieldNumber:t+1,value:n,message:o,tabindex:t+2,hidden:a,error:i.length&&!a?i[0].outerHTML:"",passive:h,deletable:2<p,multiSelectSelected:d[t],user:f.user})}),s.html(r),t.toggleClass("hide",8===p),(0,b.initGenericControllers)(s,{callback:function(){if(h)s.find("input").each(function(e,t){(0,v.default)(t).trigger("autosave.save")});else{s.find("input[type=text]").each(function(e,t){var n=t.value;c[e]=0===n.length&&3<e?null:n});for(var e=null,t=c.length-1;0<=t;t--)if(null!==c[t]&&c[t].length){e=t;break}h=!0,null!==e&&e!==p-1&&(p=0===e?2:e+1,o.val(p),m()),I.checkForBlankFields(n)}}}),s.find(".delete").on("click",function(e){e.preventDefault();var t=(0,v.default)(e.currentTarget);if(!t.hasClass("disabled")){var n=t.parents(".mcq-field").index();c.splice(n,1),c.push(null),d.splice(n,1),d.push(!1),p--,o.val(p),m()}}),s.find("input[type=text]").on("keyup change input",function(e){var t=(0,v.default)(e.currentTarget);c[t.parents(".mcq-field").index()]=t.val(),I.checkForBlankFields(n)}),s.find("input[type=checkbox]").on("change",function(e){var t=e.currentTarget,n=(0,v.default)(t).parents(".mcq-field");if("mcq"===E&&t.checked){var o=s.find("input[type=checkbox]").not(t);o.prop("checked",!1),o.parents(".mcq-field").find("input[type=text]").removeClass("correct").attr("placeholder",C)}d[n.index()]=t.checked,n.find("input[type=text]").toggleClass("correct",t.checked).attr("placeholder",t.checked?x:C)}),S(s)}t.on("click",function(e){e.preventDefault(),p++,o.val(p),m()}),m(),I.checkForBlankFields(n)},I),w.guidelines=function(e){e.find(".btn-guidelines").on("click",function(e){e.preventDefault(),k.toggleClass("guidelines"),g.default.defer(function(){k.toggleClass("in")})})},w.notesExamples=function(e){i.default.feeditem_modal(e.parent()),e.find(".modal-target").each(i.default.modal_events)},w.progressiveFields=function(t){function n(){for(var e=0,t=!1;e<o.length;e++)o[e].parents(".field").toggleClass("disabled",t),t=t||""===o[e].val().trim()}var o=t.data("fields").split(",").map(function(e){return t.find(e)}).filter(function(e){return 0<e.length});g.default.defer(function(){o.forEach(function(e,t){e.on("change",n),e.siblings("input").on("focus",function(){e.parents(".field").hasClass("disabled")&&(0,v.default)(this).blur()})})}),n()},w.filterWikis=function(o){var i=o.find(".btn-filter"),e=o.find(".see-more-btn");i.on("click",function(e){e.preventDefault();var t=(0,v.default)(this),n=t.data("value");o.removeClass("needs-writers needs-feedback needs-examples").addClass(n),i.removeClass("active"),t.addClass("active")}),e.on("click",function(){(0,v.default)(this).parents(".publish-wiki-list").addClass("expanded")})};function c(e,t){var n=r.handle(e,t);o.updateMathjax(n),s[t]&&s[t].find("form").data("redirect-handler","util/creation_modal:redirectHandler"),(0,v.default)(".publish-list, .publish-wiki-container").addClass("hide")}r.newsfeed_create_post=c,r.newsfeed_create_solvable=c,r.newsfeed_create_wiki=c,e.exports=w},514:function(e,t,n){"use strict";var c=i(n(0)),d=i(n(4)),u=n(1),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(44)),o=n(18),p=i(n(77));function i(e){return e&&e.__esModule?e:{default:e}}var a={loadDeferredComponents:function(l){(0,o.onDOMReady)(function(){u.$window.off("scroll.deferred");function t(e,t){a--,r(),s(function(){return window.vkey.handle(e,t)})}var n,o,i,a=0,e=(0,c.default)(".cmp-deferred").toArray(),r=function(){if(e.length)for(;a<3;)a++,e[0]?f.load((0,c.default)(e.shift())):e.shift()},s=(n=[],o=e.length,i=0,function(e){n.push(e),(5<=n.length||i+n.length>=o)&&(n.forEach(function(e,t){d.default.defer(function(){p.default.init(e())}),i++}),n=[])});l.forEach(function(e){window.vkey[e]=t}),r()})},solutionDiscussions:function(e){p.default.init(),p.default.add_form(),u.isAndroid||a.loadDeferredComponents(["solutiondiscussions_publicsolvablesolutioncomments"])},disputeDiscussions:function(e){p.default.init(),p.default.add_form(),u.isAndroid||a.loadDeferredComponents(["disputediscussions_publicsolvabledisputelist"])},editProblem:function(){setTimeout(function(){var n=(0,u.jqGetElemByCmpName)("assessment_webview_edit_problem");(0,u.jqGetElemById)("question-text-edit").click(),n.addClass("in"),window.vkey.assessment_webview_edit_problem=function(e,t){-1!==e.new_html.indexOf("webview_solvable_saved")?(n.hide(),window.location="problem://saved"):window.vkey.handle(e,t)}},100)}};e.exports=a},539:function(e,t){},540:function(e,t){},541:function(e,t){},542:function(e,t){},56:function(module,exports,__webpack_require__){"use strict";(function(process){var __WEBPACK_AMD_DEFINE_RESULT__,nUa;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}nUa=function s(l,c,d){var e=function(){return this}();function t(e){if(c[e])return c[e].exports;if(l[e])return function(n,o){var e=c[n]={exports:{}},t=l[n],i=t[2],a=t[0],r=!0;try{a.call(e.exports,function(e){var t=l[n][1][e];return o(t||e)},e,e.exports,s,l,c,d),r=!1}finally{r?delete c[n]:i&&(c[i]=c[n])}return c[n].exports}(e,t);throw new Error('cannot find module "'+e+'"')}for(var n in d)d[n]?e[d[n]]=t(n):t(n);return t.duo=!0,t.cache=c,t.modules=l,t}({1:[function(e,t,n){var o=e("segmentio/analytics.js-core"),i=e("./integrations"),a=e("each");t.exports=n=o,o._require=e,n.VERSION=e("../bower.json").version,a(i,function(e,t){o.use(t)})},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(e,t,n){var o=e("./analytics");(t.exports=n=new o)._require=e,n.VERSION=e("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(e,t,n){var o=window.analytics,i=e("emitter"),a=e("facade"),r=e("after"),s=e("bind"),l=e("callback"),c=e("clone"),d=e("./cookie"),u=e("debug"),f=e("defaults"),p=e("each"),h=e("./group"),m=e("is"),v=e("is-meta"),g=e("object").keys,y=e("./memory"),_=e("./normalize"),b=e("event").bind,w=e("./pageDefaults"),k=e("pick"),C=e("prevent"),x=e("querystring"),E=e("object").length,I=e("./store"),T=e("./user"),S=a.Alias,O=a.Group,j=a.Identify,q=a.Page,P=a.Track;function A(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,this._user=T,this.log=u("analytics.js"),s.all(this);var n=this;this.on("initialize",function(e,t){t.initialPageview&&n.page(),n._parseQuery()})}(n=t.exports=A).cookie=d,n.store=I,n.memory=y,i(A.prototype),A.prototype.use=function(e){return e(this),this},A.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");return this.Integrations[t]=e,this},A.prototype.init=A.prototype.initialize=function(t,n){t=t||{},n=n||{},this._options(n),this._readied=!1;var o=this;p(t,function(e){o.Integrations[e]||delete t[e]}),p(t,function(e,t){var n=new o.Integrations[e](c(t));o.log("initialize %o - %o",e,t),o.add(n)});var e=this._integrations;T.load(),h.load();var i=r(E(e),function(){o._readied=!0,o.emit("ready")});return p(e,function(e,t){n.initialPageview&&!1===t.options.initialPageview&&(t.page=r(2,t.page)),t.analytics=o,t.once("ready",i),t.initialize()}),this.initialized=!0,this.emit("initialize",t,n),this},A.prototype.setAnonymousId=function(e){return this.user().anonymousId(e),this},A.prototype.add=function(e){return this._integrations[e.name]=e,this},A.prototype.identify=function(e,t,n,o){m.fn(n)&&(o=n,n=null),m.fn(t)&&(o=t,t=n=null),m.object(e)&&(n=t,t=e,e=T.id()),T.identify(e,t);var i=this.normalize({options:n,traits:T.traits(),userId:T.id()});return this._invoke("identify",new j(i)),this.emit("identify",e,t,n),this._callback(o),this},A.prototype.user=function(){return T},A.prototype.group=function(e,t,n,o){if(!arguments.length)return h;m.fn(n)&&(o=n,n=null),m.fn(t)&&(o=t,t=n=null),m.object(e)&&(n=t,t=e,e=h.id()),h.identify(e,t);var i=this.normalize({options:n,traits:h.traits(),groupId:h.id()});return this._invoke("group",new O(i)),this.emit("group",e,t,n),this._callback(o),this},A.prototype.track=function(e,t,n,o){m.fn(n)&&(o=n,n=null),m.fn(t)&&(o=t,t=n=null);var i=this.options.plan||{},a=i.track||{},r=this.normalize({properties:t,options:n,event:e});if(i=a[e]){if(this.log("plan %o - %o",e,i),!1===i.enabled)return this._callback(o);f(r.integrations,i.integrations||{})}return this._invoke("track",new P(r)),this.emit("track",e,t,n),this._callback(o),this},A.prototype.trackClick=A.prototype.trackLink=function(e,a,r){if(!e)return this;m.element(e)&&(e=[e]);var s=this;return p(e,function(i){if(!m.element(i))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");b(i,"click",function(e){var t=m.fn(a)?a(i):a,n=m.fn(r)?r(i):r,o=i.getAttribute("href")||i.getAttributeNS("http://www.w3.org/1999/xlink","href")||i.getAttribute("xlink:href");s.track(t,n),o&&"_blank"!==i.target&&!v(e)&&(C(e),s._callback(function(){window.location.href=o}))})}),this},A.prototype.trackSubmit=A.prototype.trackForm=function(e,i,a){if(!e)return this;m.element(e)&&(e=[e]);var r=this;return p(e,function(o){if(!m.element(o))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function e(e){C(e);var t=m.fn(i)?i(o):i,n=m.fn(a)?a(o):a;r.track(t,n),r._callback(function(){o.submit()})}var t=window.jQuery||window.Zepto;t?t(o).submit(e):b(o,"submit",e)}),this},A.prototype.page=function(e,t,n,o,i){m.fn(o)&&(i=o,o=null),m.fn(n)&&(i=n,o=n=null),m.fn(t)&&(i=t,o=n=t=null),m.object(e)&&(o=t,n=e,t=e=null),m.object(t)&&(o=n,n=t,t=null),m.string(e)&&!m.string(t)&&(t=e,e=null),n=c(n)||{},t&&(n.name=t),e&&(n.category=e);var a=w();f(n,a);var r=k(g(a),n);m.empty(r)||((o=o||{}).context=o.context||{},o.context.page=r);var s=this.normalize({properties:n,category:e,options:o,name:t});return this._invoke("page",new q(s)),this.emit("page",e,t,n,o),this._callback(i),this},A.prototype.pageview=function(e){var t={};return e&&(t.path=e),this.page(t),this},A.prototype.alias=function(e,t,n,o){m.fn(n)&&(o=n,n=null),m.fn(t)&&(o=t,t=n=null),m.object(t)&&(n=t,t=null);var i=this.normalize({options:n,previousId:t,userId:e});return this._invoke("alias",new S(i)),this.emit("alias",e,t,n),this._callback(o),this},A.prototype.ready=function(e){return m.fn(e)&&(this._readied?l.async(e):this.once("ready",e)),this},A.prototype.timeout=function(e){this._timeout=e},A.prototype.debug=function(e){!arguments.length||e?u.enable("analytics:"+(e||"*")):u.disable()},A.prototype._options=function(e){return e=e||{},this.options=e,d.options(e.cookie),I.options(e.localStorage),T.options(e.user),h.options(e.group),this},A.prototype._callback=function(e){return l.async(e,this._timeout),this},A.prototype._invoke=function(n,o){return this.emit("invoke",o),p(this._integrations,function(e,t){o.enabled(e)&&t.invoke.call(t,n,o)}),this},A.prototype.push=function(e){var t=e.shift();this[t]&&this[t].apply(this,e)},A.prototype.reset=function(){this.user().logout(),this.group().logout()},A.prototype._parseQuery=function(){var e=x.parse(window.location.search);return e.ajs_uid&&this.identify(e.ajs_uid),e.ajs_event&&this.track(e.ajs_event),e.ajs_aid&&T.anonymousId(e.ajs_aid),this},A.prototype.normalize=function(e){return(e=_(e,g(this._integrations))).anonymousId&&T.anonymousId(e.anonymousId),e.anonymousId=T.anonymousId(),e.context.page=f(e.context.page||{},w()),e},A.prototype.noConflict=function(){return window.analytics=o,this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(e,t,n){var i=e("indexof");function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}(t.exports=o).prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){var n=this;function o(){n.off(e,o),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},t._off=o,this.on(e,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var o=i(n,t._off||t);return~o&&n.splice(o,1),this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:30}],30:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],9:[function(e,t,n){var o=e("./facade");(t.exports=o).Alias=e("./alias"),o.Group=e("./group"),o.Identify=e("./identify"),o.Track=e("./track"),o.Page=e("./page"),o.Screen=e("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(e,t,n){var o=e("isodate-traverse"),a=e("./is-enabled"),i=e("./utils").clone,r=e("./utils").type,s=e("./address"),l=e("obj-case"),c=e("new-date");function d(e){(e=i(e)).hasOwnProperty("timestamp")?e.timestamp=c(e.timestamp):e.timestamp=new Date,o(e),this.obj=e}function u(e){return i(e)}s((t.exports=d).prototype),d.prototype.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.field(e);return n?("function"==typeof n&&(n=n.call(this)||{}),0===t.length?u(n):u(n=l(n,t.join(".")))):n},d.prototype.field=function(e){return u(this.obj[e])},d.proxy=function(e){return function(){return this.proxy(e)}},d.field=function(e){return function(){return this.field(e)}},d.multi=function(n){return function(){var e=this.proxy(n+"s");if("array"==r(e))return e;var t=this.proxy(n);return(t=t&&[i(t)])||[]}},d.one=function(n){return function(){var e=this.proxy(n);if(e)return e;var t=this.proxy(n+"s");return"array"==r(t)?t[0]:void 0}},d.prototype.json=function(){var e=i(this.obj);return this.type&&(e.type=this.type()),e},d.prototype.context=d.prototype.options=function(e){var t=i(this.obj.options||this.obj.context)||{};if(!e)return i(t);if(this.enabled(e)){var n=this.integrations(),o=n[e]||l(n,e);return"boolean"==typeof o&&(o={}),o||{}}},d.prototype.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var n=t&&a(e),o=this.integrations();if(o.providers&&o.providers.hasOwnProperty(e)&&(n=o.providers[e]),o.hasOwnProperty(e)){var i=o[e];n="boolean"!=typeof i||i}return!!n},d.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.prototype.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},d.prototype.sessionId=d.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.prototype.groupId=d.proxy("options.groupId"),d.prototype.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var o in e=e||{},n&&(t.id=n),e){var i=null==this[o]?this.proxy("options.traits."+o):this[o]();null!=i&&(t[e[o]]=i,delete t[o])}return t},d.prototype.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.prototype.userId=d.field("userId"),d.prototype.channel=d.field("channel"),d.prototype.timestamp=d.field("timestamp"),d.prototype.userAgent=d.proxy("options.userAgent"),d.prototype.ip=d.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(t,e,n){var i,a=t("is"),r=t("isodate");try{i=t("each")}catch(e){i=t("each-component")}function s(e,t){return void 0===t&&(t=!0),a.object(e)?function(n,o){return i(n,function(e,t){r.is(t,o)?n[e]=r.parse(t):(a.object(t)||a.array(t))&&s(t,o)}),n}(e,t):a.array(e)?function(n,o){return i(n,function(e,t){a.object(e)?s(e,o):r.is(e,o)&&(n[t]=r.parse(e))}),n}(e,t):e}e.exports=s},{is:44,isodate:45,each:4}],44:[function(t,e,n){var o=t("is-empty");try{var i=t("type")}catch(e){i=t("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(t){return function(e){return t===i(e)}}n.fn=n.function,n.empty=o,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],46:[function(e,t,n){t.exports=function(e){if(null==e)return!0;if("number"==typeof e)return 0===e;if(void 0!==e.length)return 0===e.length;for(var t in e)if(o.call(e,t))return!1;return!0};var o=Object.prototype.hasOwnProperty},{}],47:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":_typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},{}],45:[function(e,t,n){var s=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12],n=s.exec(e),o=0;if(!n)return new Date(e);for(var i,a=0;i=t[a];a++)n[i]=parseInt(n[i],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "==n[4]?o=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(o=60*n[11]+n[12],"+"==n[10]&&(o=0-o));var r=Date.UTC(n[1],n[2],n[3],n[5],n[6]+o,n[7],n[8]);return new Date(r)},n.is=function(e,t){return(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&s.test(e)}},{}],4:[function(e,t,n){var o=e("type"),i=Object.prototype.hasOwnProperty;function a(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}t.exports=function(e,t){switch(o(e)){case"array":return a(e,t);case"object":return"number"==typeof e.length?a(e,t):function(e,t){for(var n in e)i.call(e,n)&&t(n,e[n])}(e,t);case"string":return function(e,t){for(var n=0;n<e.length;++n)t(e.charAt(n),n)}(e,t)}}},{type:47}],39:[function(e,t,n){var o={Salesforce:!0};t.exports=function(e){return!o[e]}},{}],40:[function(t,e,n){try{n.inherit=t("inherit"),n.clone=t("clone"),n.type=t("type")}catch(e){n.inherit=t("inherit-component"),n.clone=t("clone-component"),n.type=t("type-component")}},{inherit:48,clone:49,type:47}],48:[function(e,t,n){t.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],49:[function(t,e,n){var s;try{s=t("component-type")}catch(e){s=t("type")}e.exports=function e(t){switch(s(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=e(t[i]);return n;case"regexp":var r="";return r+=t.multiline?"m":"",r+=t.global?"g":"",r+=t.ignoreCase?"i":"",new RegExp(t.source,r);case"date":return new Date(t.getTime());default:return t}}},{"component-type":47,type:47}],41:[function(e,t,n){var i=e("obj-case");t.exports=function(e){function t(n,o){return function(){var e=this.traits(),t=this.properties?this.properties():{};return i(e,"address."+n)||i(e,n)||(o?i(e,"address."+o):null)||(o?i(e,o):null)||i(t,"address."+n)||i(t,n)||(o?i(t,"address."+o):null)||(o?i(t,o):null)}}e.zip=t("postalCode","zip"),e.country=t("country"),e.street=t("street"),e.state=t("state"),e.city=t("city")}},{"obj-case":42}],42:[function(e,t,n){function i(l){return function(o,i,e,t){var a,r=t&&function(e){return"function"==typeof e}(t.normalizer)?t.normalizer:c;i=r(i);for(var s=!1;!s;)n();function n(){for(a in o){var e=r(a);if(0===i.indexOf(e)){var t=i.substr(e.length);if("."===t.charAt(0)||0===t.length){i=t.substr(1);var n=o[a];return null==n?void(s=!0):i.length?void(o=n):void(s=!0)}}}s=!(a=void 0)}if(a)return null==o?o:l(o,a,e)}}function o(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function a(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function c(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=i(function(e,t){if(e.hasOwnProperty(t))return e[t]}),t.exports.find=t.exports,t.exports.replace=function(e,t,n,o){return i(a).call(this,e,t,n,o),e},t.exports.del=function(e,t,n){return i(o).call(this,e,t,null,n),e}},{}],43:[function(e,t,n){var o=e("is"),i=e("isodate"),a=e("./milliseconds"),r=e("./seconds");t.exports=function(e){return o.date(e)?e:o.number(e)?new Date(function(e){return e<315576e5?1e3*e:e}(e)):i.is(e)?i.parse(e):a.is(e)?a.parse(e):r.is(e)?r.parse(e):new Date(e)}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(e,t,n){for(var o,i=e("is-empty"),a=e("type"),r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;o=r[s];s++)n[o]=l(o);function l(t){return function(e){return t===a(e)}}n.fn=n.function,n.empty=i,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47}],51:[function(e,t,n){var o=/\d{13}/;n.is=function(e){return o.test(e)},n.parse=function(e){return e=parseInt(e,10),new Date(e)}},{}],52:[function(e,t,n){var o=/\d{10}/;n.is=function(e){return o.test(e)},n.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},{}],32:[function(e,t,n){var o=e("./utils").inherit,i=e("./facade");function a(e){i.call(this,e)}o(t.exports=a,i),a.prototype.type=a.prototype.action=function(){return"alias"},a.prototype.from=a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.to=a.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(e,t,n){var o=e("./utils").inherit,i=(e("./address"),e("is-email")),a=e("new-date"),r=e("./facade");function s(e){r.call(this,e)}o(t.exports=s,r),s.prototype.type=s.prototype.action=function(){return"group"},s.prototype.groupId=r.field("groupId"),s.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a(e)},s.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return i(t)?t:void 0},s.prototype.traits=function(e){var t=this.properties(),n=this.groupId();for(var o in e=e||{},n&&(t.id=n),e){var i=null==this[o]?this.proxy("traits."+o):this[o]();null!=i&&(t[e[o]]=i,delete t[o])}return t},s.prototype.name=r.proxy("traits.name"),s.prototype.industry=r.proxy("traits.industry"),s.prototype.employees=r.proxy("traits.employees"),s.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(e,t,n){t.exports=function(e){return o.test(e)};var o=/.+\@.+\..+/},{}],34:[function(e,t,n){e("./address");var o=e("./facade"),i=e("is-email"),a=e("new-date"),r=e("./utils"),s=e("obj-case"),l=e("trim"),c=r.inherit,d=(r.clone,r.type);function u(e){o.call(this,e)}c(t.exports=u,o),u.prototype.type=u.prototype.action=function(){return"identify"},u.prototype.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var o in e=e||{},n&&(t.id=n),e){var i=null==this[o]?this.proxy("traits."+o):this[o]();null!=i&&(t[e[o]]=i,o!==e[o]&&delete t[o])}return t},u.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return i(t)?t:void 0},u.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return a(e)},u.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return a(e)},u.prototype.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},u.prototype.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");return"string"==typeof t?l(t).split(" ")[0]:void 0},u.prototype.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},u.prototype.uid=function(){return this.userId()||this.username()||this.email()},u.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},u.prototype.age=function(){var e=this.birthday(),t=s(this.traits(),"age");return null!=t?t:"date"==d(e)?(new Date).getFullYear()-e.getFullYear():void 0},u.prototype.avatar=function(){var e=this.traits();return s(e,"avatar")||s(e,"photoUrl")||s(e,"avatarUrl")},u.prototype.position=function(){var e=this.traits();return s(e,"position")||s(e,"jobTitle")},u.prototype.username=o.proxy("traits.username"),u.prototype.website=o.one("traits.website"),u.prototype.websites=o.multi("traits.website"),u.prototype.phone=o.one("traits.phone"),u.prototype.phones=o.multi("traits.phone"),u.prototype.address=o.proxy("traits.address"),u.prototype.gender=o.proxy("traits.gender"),u.prototype.birthday=o.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(e,t,n){(n=t.exports=function(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.trimLeft?e.trimLeft():e.replace(/^\s*/,"")},n.right=function(e){return e.trimRight?e.trimRight():e.replace(/\s*$/,"")}},{}],35:[function(e,t,n){var o=e("./utils").inherit,i=(e("./utils").clone,e("./utils").type),a=e("./facade"),r=e("./identify"),s=e("is-email"),l=e("obj-case");function c(e){a.call(this,e)}o(t.exports=c,a),c.prototype.type=c.prototype.action=function(){return"track"},c.prototype.event=a.field("event"),c.prototype.value=a.proxy("properties.value"),c.prototype.category=a.proxy("properties.category"),c.prototype.id=a.proxy("properties.id"),c.prototype.sku=a.proxy("properties.sku"),c.prototype.tax=a.proxy("properties.tax"),c.prototype.name=a.proxy("properties.name"),c.prototype.price=a.proxy("properties.price"),c.prototype.total=a.proxy("properties.total"),c.prototype.coupon=a.proxy("properties.coupon"),c.prototype.shipping=a.proxy("properties.shipping"),c.prototype.discount=a.proxy("properties.discount"),c.prototype.description=a.proxy("properties.description"),c.prototype.plan=a.proxy("properties.plan"),c.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")},c.prototype.subtotal=function(){var e,t=l(this.properties(),"subtotal"),n=this.total();return t||(n?((e=this.tax())&&(n-=e),(e=this.shipping())&&(n-=e),(e=this.discount())&&(n+=e),n):0)},c.prototype.products=function(){var e=this.properties(),t=l(e,"products");return"array"==i(t)?t:[]},c.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},c.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.prototype.referrer=a.proxy("properties.referrer"),c.prototype.query=a.proxy("options.query"),c.prototype.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{}){var o=null==this[n]?this.proxy("properties."+n):this[n]();null!=o&&(t[e[n]]=o,delete t[n])}return t},c.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.prototype.email=function(){var e=this.proxy("traits.email");if(e=e||this.proxy("properties.email"))return e;var t=this.userId();return s(t)?t:void 0},c.prototype.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/completed ?order/i)&&(e=this.proxy("properties.total")),function(e){if(!e)return;if("number"==typeof e)return e;if("string"!=typeof e)return;if(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e))return e}(e)},c.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},c.prototype.identify=function(){var e=this.json();return e.traits=this.traits(),new r(e)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(e,t,n){var o=e("./utils").inherit,i=e("./facade"),a=e("./track");function r(e){i.call(this,e)}o(t.exports=r,i),r.prototype.type=r.prototype.action=function(){return"page"},r.prototype.category=i.field("category"),r.prototype.name=i.field("name"),r.prototype.title=i.proxy("properties.title"),r.prototype.path=i.proxy("properties.path"),r.prototype.url=i.proxy("properties.url"),r.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")},r.prototype.properties=function(){var e=this.field("properties")||{},t=this.category(),n=this.name();return t&&(e.category=t),n&&(e.name=n),e},r.prototype.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},r.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(e,t,n){var o=e("./utils").inherit,i=e("./page"),a=e("./track");function r(e){i.call(this,e)}o(t.exports=r,i),r.prototype.type=r.prototype.action=function(){return"screen"},r.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./page":36,"./track":35}],10:[function(e,t,n){t.exports=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}}},{}],11:[function(t,e,n){try{var i=t("bind")}catch(e){i=t("bind-component")}var o=t("bind-all");e.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],55:[function(e,t,n){var o=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() _requires a function");var n=o.call(arguments,2);return function(){return t.apply(e,n.concat(o.call(arguments)))}}},{}],56:[function(t,e,n){try{var o=t("bind"),i=t("type")}catch(e){o=t("bind-component"),i=t("type-component")}e.exports=function(e){for(var t in e){var n=e[t];"function"===i(n)&&(e[t]=o(e,e[t]))}return e}},{bind:55,type:47}],12:[function(e,t,n){var o=e("next-tick");function i(e){"function"==typeof e&&e()}(t.exports=i).async=function(e,t){if("function"==typeof e)return t?void setTimeout(e,t):o(e)},i.sync=i},{"next-tick":57}],57:[function(e,t,n){if("function"==typeof setImmediate)t.exports=function(e){setImmediate(e)};else if(void 0!==process&&"function"==typeof process.nextTick)t.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)t.exports=function(e){setTimeout(e)};else{var o=[];window.addEventListener("message",function(){for(var t=0;t<o.length;)try{o[t++]()}catch(e){throw o=o.slice(t),window.postMessage("tic!","*"),e}o.length=0},!0),t.exports=function(e){o.length||window.postMessage("tic!","*"),o.push(e)}}},{}],13:[function(t,e,n){var s;try{s=t("type")}catch(e){s=t("type-component")}e.exports=function e(t){switch(s(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=e(t[i]);return n;case"regexp":var r="";return r+=t.multiline?"m":"",r+=t.global?"g":"",r+=t.ignoreCase?"i":"",new RegExp(t.source,r);case"date":return new Date(t.getTime());default:return t}}},{type:47}],14:[function(e,t,n){var o=e("bind"),i=e("clone"),a=e("cookie"),r=e("debug")("analytics.js:cookie"),s=e("defaults"),l=e("json"),c=e("top-domain");function d(e){this.options(e)}d.prototype.options=function(e){if(0===arguments.length)return this._options;e=e||{};var t="."+c(window.location.href);"."===t&&(t=null),this._options=s(e,{maxage:31536e6,path:"/",domain:t}),this.set("ajs:test",!0),this.get("ajs:test")||(r("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},d.prototype.set=function(e,t){try{return t=l.stringify(t),a(e,t,i(this._options)),!0}catch(e){return!1}},d.prototype.get=function(e){try{var t=a(e);return t=t?l.parse(t):null}catch(e){return null}},d.prototype.remove=function(e){try{return a(e,null,i(this._options)),!0}catch(e){return!1}},t.exports=o.all(new d),t.exports.Cookie=d},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(e,t,n){var o=e("debug")("cookie");function i(){return function(e){var t,n={},o=e.split(/ *; */);if(""==o[0])return n;for(var i=0;i<o.length;++i)t=o[i].split("="),n[r(t[0])]=r(t[1]);return n}(document.cookie)}function a(t){try{return encodeURIComponent(t)}catch(e){o("error `encode(%o)` - %o",t,e)}}function r(t){try{return decodeURIComponent(t)}catch(e){o("error `decode(%o)` - %o",t,e)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var o=a(e)+"="+a(t);null==t&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(o+="; path="+n.path);n.domain&&(o+="; domain="+n.domain);n.expires&&(o+="; expires="+n.expires.toUTCString());n.secure&&(o+="; secure");document.cookie=o}(e,t,n);case 1:return function(e){return i()[e]}(e);default:return i()}}},{debug:15}],15:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":61,"./debug":62}],61:[function(e,t,n){var o=e("tty");t.exports=function(o){function e(){}e.enabled=!1;var t=s.some(function(e){return e.test(o)});if(t)return e;if(!(t=r.some(function(e){return e.test(o)})))return e;var i=l[d++%l.length];function n(e){e=f(e);var t=new Date,n=t-(c[o]||t);c[o]=t,e="  [9"+i+"m"+o+" [3"+i+"m[90m"+e+"[3"+i+"m +"+function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"}(n)+"[0m",console.error.apply(this,arguments)}function a(e){e=f(e),e=(new Date).toUTCString()+" "+o+" "+e,console.error.apply(this,arguments)}return n.enabled=a.enabled=!0,u||process.env.DEBUG_COLORS?n:a};var r=[],s=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?s.push(new RegExp("^"+e.substr(1)+"$")):r.push(new RegExp("^"+e+"$"))});var l=[6,2,3,4,5,1],c={},d=0,u=o.isatty(2);function f(e){return e instanceof Error?e.stack||e.message:e}},{}],62:[function(e,t,n){function i(o){return i.enabled(o)?function(e){e=function(e){return e instanceof Error?e.stack||e.message:e}(e);var t=new Date,n=t-(i[o]||t);i[o]=t,e=o+" "+e+" +"+i.humanize(n),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(t.exports=i).names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],16:[function(e,t,n){t.exports=function e(t,n,o){for(var i in n)o&&t[i]instanceof Object&&n[i]instanceof Object?t[i]=e(t[i],n[i],!0):i in t||(t[i]=n[i]);return t}},{}],59:[function(e,t,n){var o=window.JSON||{},i=o.stringify,a=o.parse;t.exports=a&&i?JSON:e("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){!function(){var JSON=module.exports={},cx,escapable,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,o,i,a,r,s=gap,l=t[e];switch(l&&"object"===_typeof(l)&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)r[n]=str(n,l)||"null";return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,i}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(i=str(o=rep[n],l))&&r.push(quote(o)+(gap?": ":":")+i);else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i=str(o,l))&&r.push(quote(o)+(gap?": ":":")+i);return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var o;if(indent=gap="","number"==typeof n)for(o=0;o<n;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,o,i=e[t];if(i&&"object"===_typeof(i))for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(o=walk(i,n))?i[n]=o:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],60:[function(e,t,s){var a=e("url").parse,n=e("cookie");function o(e){for(var t=s.cookie,n=s.levels(e),o=0;o<n.length;++o){var i="__tld__",a=n[o],r={domain:"."+a};if(t(i,1,r),t(i))return t(i,null,r),a}return""}(s=t.exports=o).cookie=n,o.levels=function(e){var t=a(e).hostname.split("."),n=t[t.length-1],o=[];if(4==t.length&&parseInt(n,10)==n)return o;if(t.length<=1)return o;for(var i=t.length-2;0<=i;--i)o.push(t.slice(i).join("."));return o}},{url:64,cookie:65}],64:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],65:[function(e,t,n){var o=e("debug")("cookie");function i(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,n={},o=e.split(/ *; */);if(""==o[0])return n;for(var i=0;i<o.length;++i)t=o[i].split("="),n[r(t[0])]=r(t[1]);return n}(e)}function a(t){try{return encodeURIComponent(t)}catch(e){o("error `encode(%o)` - %o",t,e)}}function r(t){try{return decodeURIComponent(t)}catch(e){o("error `decode(%o)` - %o",t,e)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var o=a(e)+"="+a(t);null==t&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(o+="; path="+n.path);n.domain&&(o+="; domain="+n.domain);n.expires&&(o+="; expires="+n.expires.toUTCString());n.secure&&(o+="; secure");document.cookie=o}(e,t,n);case 1:return function(e){return i()[e]}(e);default:return i()}}},{debug:15}],17:[function(e,t,n){var o=e("./entity"),i=e("bind"),a=e("debug")("analytics:group"),r=e("inherit");function s(e){this.defaults=s.defaults,this.debug=a,o.call(this,e)}s.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},r(s,o),t.exports=i.all(new s),t.exports.Group=s},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(e,t,n){var o=e("clone"),i=e("./cookie"),a=e("debug")("analytics:entity"),r=e("defaults"),s=e("extend"),l=e("./memory"),c=e("./store"),d=e("isodate-traverse");function u(e){this.options(e),this.initialize()}(t.exports=u).prototype.initialize=function(){if(i.set("ajs:cookies",!0),i.get("ajs:cookies"))return i.remove("ajs:cookies"),void(this._storage=i);c.enabled?this._storage=c:(a("warning using memory store both cookies and localStorage are disabled"),this._storage=l)},u.prototype.storage=function(){return this._storage},u.prototype.options=function(e){if(0===arguments.length)return this._options;this._options=r(e||{},this.defaults||{})},u.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e)}},u.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===e?null:e},u.prototype._setId=function(e){this._options.persist?this.storage().set(this._options.cookie.key,e):this._id=e},u.prototype.properties=u.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e)}},u.prototype._getTraits=function(){var e=this._options.persist?c.get(this._options.localStorage.key):this._traits;return e?d(o(e)):{}},u.prototype._setTraits=function(e){e=e||{},this._options.persist?c.set(this._options.localStorage.key,e):this._traits=e},u.prototype.identify=function(e,t){t=t||{};var n=this.id();null!==n&&n!==e||(t=s(this.traits(),t)),e&&this.id(e),this.debug("identify %o, %o",e,t),this.traits(t),this.save()},u.prototype.save=function(){return!!this._options.persist&&(i.set(this._options.cookie.key,this.id()),c.set(this._options.localStorage.key,this.traits()),!0)},u.prototype.logout=function(){this.id(null),this.traits({}),i.remove(this._options.cookie.key),c.remove(this._options.localStorage.key)},u.prototype.reset=function(){this.logout(),this.options({})},u.prototype.load=function(){this.id(i.get(this._options.cookie.key)),this.traits(c.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),o=0;t=n[o];o++)if(t)for(var i in t)e[i]=t[i];return e}},{}],21:[function(e,t,n){var o=e("bind"),i=e("clone"),a=Object.prototype.hasOwnProperty;function r(){this.store={}}t.exports=o.all(new r),r.prototype.set=function(e,t){return this.store[e]=i(t),!0},r.prototype.get=function(e){if(a.call(this.store,e))return i(this.store[e])},r.prototype.remove=function(e){return delete this.store[e],!0}},{bind:11,clone:13}],28:[function(e,t,n){var o=e("bind"),i=e("defaults"),a=e("store.js");function r(e){this.options(e)}r.prototype.options=function(e){if(0===arguments.length)return this._options;i(e=e||{},{enabled:!0}),this.enabled=e.enabled&&a.enabled,this._options=e},r.prototype.set=function(e,t){return!!this.enabled&&a.set(e,t)},r.prototype.get=function(e){return this.enabled?a.get(e):null},r.prototype.remove=function(e){return!!this.enabled&&a.remove(e)},t.exports=o.all(new r),t.exports.Store=r},{bind:11,defaults:16,"store.js":69}],69:[function(e,t,n){var o,i=e("json"),r={},a=window,s=a.document,l="localStorage",c="__storejs__";if(r.disabled=!1,r.set=function(e,t){},r.get=function(e){},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){var o=r.get(e);null==n&&(n=t,t=null),void 0===o&&(o=t||{}),n(o),r.set(e,o)},r.getAll=function(){},r.serialize=function(e){return i.stringify(e)},r.deserialize=function(t){if("string"==typeof t)try{return i.parse(t)}catch(e){return t||void 0}},function(){try{return l in a&&a[l]}catch(e){return!1}}())o=a[l],r.set=function(e,t){return void 0===t?r.remove(e):(o.setItem(e,r.serialize(t)),t)},r.get=function(e){return r.deserialize(o.getItem(e))},r.remove=function(e){o.removeItem(e)},r.clear=function(){o.clear()},r.getAll=function(){for(var e={},t=0;t<o.length;++t){var n=o.key(t);e[n]=r.get(n)}return e};else if(s.documentElement.addBehavior){var d,u,f=function(n){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(o),d.appendChild(o),o.addBehavior("#default#userData"),o.load(l);var t=n.apply(r,e);return d.removeChild(o),t}},p=function(e){return e.replace(h,"___")};try{(u=new ActiveXObject("htmlfile")).open(),u.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),u.close(),d=u.w.frames[0].document,o=d.createElement("div")}catch(e){o=s.createElement("div"),d=s.body}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=f(function(e,t,n){return t=p(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(l),n)}),r.get=f(function(e,t){return t=p(t),r.deserialize(e.getAttribute(t))}),r.remove=f(function(e,t){t=p(t),e.removeAttribute(t),e.save(l)}),r.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,o=0;n=t[o];o++)e.removeAttribute(n.name);e.save(l)}),r.getAll=f(function(e){for(var t,n=e.XMLDocument.documentElement.attributes,o={},i=0;t=n[i];++i){var a=p(t.name);o[t.name]=r.deserialize(e.getAttribute(a))}return o})}try{r.set(c,c),r.get(c)!=c&&(r.disabled=!0),r.remove(c)}catch(e){r.disabled=!0}r.enabled=!r.disabled,t.exports=r},{json:59}],67:[function(e,t,n){t.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],18:[function(t,e,n){var o=t("is-empty");try{var i=t("type")}catch(e){i=t("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(t){return function(e){return t===i(e)}}n.fn=n.function,n.empty=o,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],19:[function(e,t,n){t.exports=function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,n=e.button;return t||void 0===n?2===t:1&!n&&2&!n&&4&n}},{}],20:[function(e,t,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],22:[function(e,t,n){var c=e("debug")("analytics.js:normalize"),d=e("defaults"),u=e("each"),f=e("includes"),p=e("is"),h=e("component/map"),m=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=h(t,function(e){return e.toLowerCase()}),o=e.options||{},i=o.integrations||{},a=o.providers||{},r=o.context||{},s={};return c("<-",e),u(o,function(e,t){l(e)&&(m.call(i,e)||(i[e]=t),delete o[e])}),delete o.providers,u(a,function(e,t){l(e)&&(p.object(i[e])||m.call(i,e)&&"boolean"==typeof a[e]||(i[e]=t))}),u(o,function(e){f(e,v)?s[e]=o[e]:r[e]=o[e]}),delete e.options,s.integrations=i,s.context=r,s=d(s,e),c("->",s),s;function l(e){return!(!f(e,t)&&"all"!==e.toLowerCase()&&!f(e.toLowerCase(),n))}};var v=["integrations","anonymousId","timestamp","context"]},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(t,e,n){var o;try{o=t("@ndhoule/each")}catch(e){o=t("each")}var i=String.prototype.indexOf;e.exports=function(t,e){var n=!1;return"string"==typeof e?-1!==i.call(e,t):(o(function(e){if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(e,t))return!(n=!0)},e),n)}},{each:72}],72:[function(t,e,n){var i;try{i=t("@ndhoule/keys")}catch(e){i=t("keys")}function o(e){return null!=e&&(r(e)||"function"!==e&&function(e){var t=_typeof(e);return"number"===t||"object"===t&&"[object Number]"===a.call(e)}(e.length))}var a=Object.prototype.toString,r="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===a.call(e)};e.exports=function(e,t){return(o(t)?function(e,t){for(var n=0;n<t.length&&!1!==e(t[n],n,t);n+=1);}:function(e,t){for(var n=i(t),o=0;o<n.length&&!1!==e(t[n[o]],n[o],t);o+=1);}).call(this,e,t)}},{keys:73}],73:[function(e,t,n){function o(e,t){return r.call(e,t)}function a(e,t){return s.call(e,t)}function i(e,t){t=t||a;for(var n=[],o=0,i=e.length;o<i;o+=1)t(e,o)&&n.push(String(o));return n}var r=String.prototype.charAt,s=Object.prototype.hasOwnProperty,l=Object.prototype.toString;t.exports=function(e){return null==e?[]:function(e){return"[object String]"===l.call(e)}(e)?i(e,o):function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}(e)?i(e,a):function(e,t){t=t||a;var n=[];for(var o in e)t(e,o)&&n.push(String(o));return n}(e)}},{}],71:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)n.push(t(e[o],o));return n}},{"to-function":74}],74:[function(t,e,n){var a;try{a=t("props")}catch(e){a=t("component-props")}function o(e){switch({}.toString.call(e)){case"[object Object]":return function(e){var n={};for(var t in e)n[t]="string"==typeof e[t]?i(e[t]):o(e[t]);return function(e){if("object"!==_typeof(e))return!1;for(var t in n){if(!(t in e))return!1;if(!n[t](e[t]))return!1}return!0}}(e);case"[object Function]":return e;case"[object String]":return function(e){return/^ *\W+/.test(e)?new Function("_","return _ "+e):new Function("_","return "+function(e){var t,n,o,i=a(e);if(!i.length)return"_."+e;for(n=0;n<i.length;n++)o=i[n],e=r(o,e,t="('function' == typeof "+(t="_."+o)+" ? "+t+"() : "+t+")");return e}(e))}(e);case"[object RegExp]":return function(t){return function(e){return t.test(e)}}(e);default:return i(e)}}function i(t){return function(e){return t===e}}function r(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),function(e,t){return t?e:n})}e.exports=o},{props:75,"component-props":75}],75:[function(e,t,n){var o=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n=function(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}(function(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(o,"").match(/[$a-zA-Z_]\w*/g)||[]}(e));return t&&"string"==typeof t&&(t=function(t){return function(e){return t+e}}(t)),t?function(e,t,n){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(e){return"("==e[e.length-1]?n(e):~t.indexOf(e)?n(e):e})}(e,n,t):n}},{}],23:[function(e,t,n){n.bind=function(e,t,n,o){return e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent("on"+t,n),n},n.unbind=function(e,t,n,o){return e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent("on"+t,n),n}},{}],24:[function(e,t,n){var i=e("canonical"),a=e("includes"),o=e("url");t.exports=function(){return{path:function(){var e=i();return e?o.parse(e).pathname:window.location.pathname}(),referrer:document.referrer,search:location.search,title:document.title,url:function(e){var t=i();if(t)return a("?",t)?t:t+e;var n=window.location.href,o=n.indexOf("#");return-1===o?n:n.slice(0,o)}(location.search)}}},{canonical:76,includes:70,url:77}],76:[function(e,t,n){t.exports=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"==e.getAttribute("rel"))return e.getAttribute("href")}},{}],77:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],25:[function(e,t,n){function i(e){return"string"==typeof e||"[object String]"===a.call(e)}var a=Object.prototype.toString;t.exports=function(e,t){if(!function(e){return null!=e}(t)||!function(e){return null!=e&&"object"===_typeof(e)}(t))return{};i(e)&&(e=[e]),function(e){return"[object Array]"===a.call(e)}(e)||(e=[]);for(var n={},o=0;o<e.length;o+=1)i(e[o])&&e[o]in t&&(n[e[o]]=t[e[o]]);return n}},{}],26:[function(e,t,n){t.exports=function(e){return(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}},{}],27:[function(e,t,n){function a(t){try{return encodeURIComponent(t)}catch(e){return t}}function s(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var l=e("trim"),r=e("type"),c=/(\w+)\[(\d+)\]/;n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=l(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),o=0;o<n.length;o++){var i,a=n[o].split("="),r=s(a[0]);(i=c.exec(r))?(t[i[1]]=t[i[1]]||[],t[i[1]][i[2]]=s(a[1])):t[a[0]]=null==a[1]?"":s(a[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if("array"!=r(o))t.push(a(n)+"="+a(e[n]));else for(var i=0;i<o.length;++i)t.push(a(n+"["+i+"]")+"="+a(o[i]))}return t.join("&")}},{trim:54,type:47}],29:[function(e,t,n){var o=e("./entity"),i=e("bind"),a=e("./cookie"),r=e("debug")("analytics:user"),s=e("inherit"),l=e("cookie"),c=e("uuid");function d(e){this.defaults=d.defaults,this.debug=r,o.call(this,e)}d.defaults={persist:!1,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},s(d,o),d.prototype.id=function(e){var t=this._getId(),n=o.prototype.id.apply(this,arguments);return null==t||t!=e&&e&&this.anonymousId(null),n},d.prototype.anonymousId=function(e){var t=this.storage();return arguments.length?(t.set("ajs_anonymous_id",e),this):(e=t.get("ajs_anonymous_id"))?e:(e=l("_sio"))?(e=e.split("----")[0],t.set("ajs_anonymous_id",e),t.remove("_sio"),e):(e=c(),t.set("ajs_anonymous_id",e),t.get("ajs_anonymous_id"))},d.prototype.logout=function(){o.prototype.logout.call(this),this.anonymousId(null)},d.prototype.load=function(){this._loadOldCookie()||o.prototype.load.call(this)},d.prototype._loadOldCookie=function(){var e=a.get(this._options.cookie.oldKey);return!!e&&(this.id(e.id),this.traits(e.traits),a.remove(this._options.cookie.oldKey),!0)},t.exports=i.all(new d),t.exports.User=d},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(e,t,n){t.exports=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},{}],7:[function(e,t,n){t.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(e,t,n){t.exports={amplitude:e("analytics.js-integration-amplitude"),segmentio:e("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(e,t,n){var o=e("bind"),i=e("clone"),a=e("debug"),r=e("defaults"),s=e("extend"),l=e("slug"),c=e("./protos"),d=e("./statics");t.exports=function(t){function n(e){if(e&&e.addIntegration)return e.addIntegration(n);this.debug=a("analytics:integration:"+l(t)),this.options=r(i(e)||{},this.defaults),this._queue=[],this.once("ready",o(this,this.flush)),n.emit("construct",this),this.ready=o(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return n.prototype.defaults={},n.prototype.globals=[],n.prototype.templates={},n.prototype.name=t,s(n,d),s(n.prototype,c),n}},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(e,t,n){var i=e("bind"),o=e("bind-all");t.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],170:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":175,"./debug":176}],175:[function(e,t,n){var o=e("tty");t.exports=function(o){function e(){}e.enabled=!1;var t=s.some(function(e){return e.test(o)});if(t)return e;if(!(t=r.some(function(e){return e.test(o)})))return e;var i=l[d++%l.length];function n(e){e=f(e);var t=new Date,n=t-(c[o]||t);c[o]=t,e="  [9"+i+"m"+o+" [3"+i+"m[90m"+e+"[3"+i+"m +"+function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"}(n)+"[0m",console.error.apply(this,arguments)}function a(e){e=f(e),e=(new Date).toUTCString()+" "+o+" "+e,console.error.apply(this,arguments)}return n.enabled=a.enabled=!0,u||process.env.DEBUG_COLORS?n:a};var r=[],s=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?s.push(new RegExp("^"+e.substr(1)+"$")):r.push(new RegExp("^"+e+"$"))});var l=[6,2,3,4,5,1],c={},d=0,u=o.isatty(2);function f(e){return e instanceof Error?e.stack||e.message:e}},{}],176:[function(e,t,n){function i(o){return i.enabled(o)?function(e){e=function(e){return e instanceof Error?e.stack||e.message:e}(e);var t=new Date,n=t-(i[o]||t);i[o]=t,e=o+" "+e+" +"+i.humanize(n),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(t.exports=i).names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return 36e5<=e?(e/36e5).toFixed(1)+"h":6e4<=e?(e/6e4).toFixed(1)+"m":1e3<=e?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],171:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),o=0;t=n[o];o++)if(t)for(var i in t)e[i]=t[i];return e}},{}],172:[function(e,t,n){t.exports=function(e,t){return t=t||{},e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],173:[function(e,t,n){var o=e("emitter"),i=e("after"),s=e("each"),l=e("analytics-events"),c=e("fmt"),d=e("foldl"),u=e("load-iframe"),f=e("load-script"),a=e("to-no-case"),r=e("next-tick"),p=e("type");function h(){}var m=Object.prototype.hasOwnProperty,v=window.onerror,g=window.setInterval,y=window.setTimeout;o(n),n.initialize=function(){var e=this.ready;r(e)},n.loaded=function(){return!1},n.page=function(e){},n.track=function(e){},n.map=function(e,t){var i=a(t);return d(function(e,t,n,o){if("array"===p(o)){if(!t.key)return e;n=t.key,t=t.value}return a(n)===i&&e.push(t),e},[],e)},n.invoke=function(t){if(this[t]){var e,n=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(t,n);try{this.debug("%s with %o",t,n),e=this[t].apply(this,n)}catch(e){this.debug("error %o calling %s with %o",e,t,n)}return e}},n.queue=function(e,t){if("page"===e&&this._assumesPageview&&!this._initialized)return this.page.apply(this,t);this._queue.push({method:e,args:t})},n.flush=function(){this._ready=!0;var t=this;s(this._queue,function(e){t[e.method].apply(t,e.args)}),this._queue.length=0},n.reset=function(){for(var e=0;e<this.globals.length;e++)window[this.globals[e]]=void 0;window.setTimeout=y,window.setInterval=g,window.onerror=v,window.onload=null},n.load=function(e,t,n){"function"==typeof e&&(n=e,e=t=null),e&&"object"===_typeof(e)&&(n=t,t=e,e=null),"function"==typeof t&&(n=t,t=null),e=e||"library",t=t||{},t=this.locals(t);var o=this.templates[e];if(!o)throw new Error(c('template "%s" not defined.',e));var i=function(e,o){return d(function(e,t,n){return e[n]=t.replace(/\{\{\ *(\w+)\ *\}\}/g,function(e,t){return o[t]}),e},{},e.attrs)}(o,t);n=n||h;var a,r=this;switch(o.type){case"img":i.width=1,i.height=1,a=function(e,t){t=t||function(){};var n=new Image;return n.onerror=function(n,o,i){return function(e){e=e||window.event;var t=new Error(o);t.event=e,t.source=i,n(t)}}(t,"failed to load pixel",n),n.onload=function(){t()},n.src=e.src,n.width=1,n.height=1,n}(i,n);break;case"script":a=f(i,function(e){if(!e)return n();r.debug('error loading "%s" error="%s"',r.name,e)}),delete i.src,s(i,function(e,t){a.setAttribute(e,t)});break;case"iframe":a=u(i,n)}return a},n.locals=function(n){n=n||{};var e=Math.floor((new Date).getTime()/36e5);return n.hasOwnProperty("cache")||(n.cache=e),s(this.options,function(e,t){n.hasOwnProperty(e)||(n[e]=t)}),n},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var e=t.apply(this,arguments);return this.emit("initialize"),e},this._assumesPageview&&(this.initialize=i(2,this.initialize))},n._wrapPage=function(){var e=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):e.apply(this,arguments)}},n._wrapTrack=function(){var r=this.track;this.track=function(e){var t,n,o=e.event();for(var i in l)if(m.call(l,i)){var a=l[i];if(!this[i])continue;if(!a.test(o))continue;n=this[i].apply(this,arguments),t=!0;break}return t||(n=r.apply(this,arguments)),n}}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(t,e,n){try{var o=t("type")}catch(e){o=t("component-type")}var i=t("to-function"),a=Object.prototype.hasOwnProperty;function r(e,t,n){for(var o=0;o<e.length;++o)t.call(n,e[o],o)}e.exports=function(e,t,n){switch(t=i(t),n=n||this,o(e)){case"array":return r(e,t,n);case"object":return"number"==typeof e.length?r(e,t,n):function(e,t,n){for(var o in e)a.call(e,o)&&t.call(n,o,e[o])}(e,t,n);case"string":return function(e,t,n){for(var o=0;o<e.length;++o)t.call(n,e.charAt(o),o)}(e,t,n)}}},{type:184,"component-type":184,"to-function":74}],184:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":_typeof(e)}},{}],178:[function(e,t,n){t.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(e,t,n){var o=window.JSON?JSON.stringify:function(e){return String(e)};function i(e){var n=[].slice.call(arguments,1),o=0;return e.replace(/%([a-z])/gi,function(e,t){return i[t]?i[t](n[o++]):e+t})}(t.exports=i).o=o,i.s=String,i.d=parseInt},{}],180:[function(t,e,n){var a;try{a=t("@ndhoule/each")}catch(e){a=t("each")}e.exports=function(o,i,e){if("function"!=typeof o)throw new TypeError("Expected a function but received a "+_typeof(o));return a(function(e,t,n){i=o(i,e,t,n)},e),i}},{each:72}],181:[function(e,t,n){var i=e("script-onload"),a=e("next-tick"),r=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==r(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var o=document.createElement("iframe");return o.src=e.src,o.width=e.width||1,o.height=e.height||1,o.style.display="none","function"==r(t)&&i(o,t),a(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(o,e)}),o}},{"script-onload":185,"next-tick":57,type:47}],185:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?function(n,o){n.addEventListener("load",function(e,t){o(null,t)},!1),n.addEventListener("error",function(e){var t=new Error('script error "'+n.src+'"');t.event=e,o(t)},!1)}(e,t):function(n,o){n.attachEvent("onreadystatechange",function(e){/complete|loaded/.test(n.readyState)&&o(null,e)}),n.attachEvent("onerror",function(e){var t=new Error('failed to load the script "'+n.src+'"');t.event=e||window.event,o(t)})}(e,t)}},{}],182:[function(e,t,n){var i=e("script-onload"),a=e("next-tick"),r=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==r(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var o=document.createElement("script");return o.type="text/javascript",o.async=!0,o.src=e.src,"function"==r(t)&&i(o,t),a(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(o,e)}),o}},{"script-onload":185,"next-tick":57,type:47}],183:[function(e,t,n){t.exports=function(e){return o.test(e)?e.toLowerCase():i.test(e)?function(e){return e.replace(a,function(e,t){return t?" "+t:""})}(e).toLowerCase():function(e){return e.replace(r,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}(e).toLowerCase()};var o=/\s/,i=/[\W_]/;var a=/[\W_]+(.|$)/g;var r=/(.)([A-Z]+)/g},{}],174:[function(e,t,n){var o=e("emitter"),i=e("domify"),a=e("each"),r=e("includes");o(n),n.option=function(e,t){return this.prototype.defaults[e]=t,this},n.mapping=function(t){return this.option(t,[]),this.prototype[t]=function(e){return this.map(this.options[t],e)},this},n.global=function(e){return this.prototype.globals.push(e),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(e,t){return null==t&&(t=e,e="library"),this.prototype.templates[e]=function(n){n=n.replace(' src="',' data-src="');var e=i(n),o={};return a(e.attributes,function(e){var t="data-src"===e.name?"src":e.name;r(e.name+"=",n)&&(o[t]=e.value)}),{type:e.tagName.toLowerCase(),attrs:o}}(t),this}},{emitter:8,domify:186,each:177,includes:70}],186:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t=t||document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,a=d[o]||d._default,r=a[0],s=a[1],l=a[2];(i=t.createElement("div")).innerHTML=s+e+l;for(;r--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var c=t.createDocumentFragment();for(;i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c};var o=document.createElement("div");o.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var i=!o.getElementsByTagName("link").length;o=void 0;var d={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};d.td=d.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],d.option=d.optgroup=[1,'<select multiple="multiple">',"</select>"],d.thead=d.tbody=d.colgroup=d.caption=d.tfoot=[1,"<table>","</table>"],d.polyline=d.ellipse=d.polygon=d.circle=d.text=d.line=d.path=d.rect=d.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],167:[function(e,t,n){var o=e("to-space-case");t.exports=function(e){return o(e).replace(/\s/g,"_")}},{"to-space-case":187}],187:[function(e,t,n){var o=e("to-no-case");t.exports=function(e){return o(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""})}},{"to-no-case":188}],188:[function(e,t,n){t.exports=function(e){if(o.test(e))return e.toLowerCase();a.test(e)&&(e=function(e){return e.replace(r,function(e,t){return t?" "+t:""})}(e));i.test(e)&&(e=function(e){return e.replace(s,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}(e));return e.toLowerCase()};var o=/\s/,i=/[a-z][A-Z]/,a=/[\W_]/;var r=/[\W_]+(.|$)/g;var s=/(.)([A-Z]+)/g},{}],168:[function(e,t,n){function o(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}t.exports=function(e){switch(arguments.length){case 0:return o();case 1:return function(e){return o()?"https:"+e:"http:"+e}(e)}}},{}],82:[function(e,t,n){var o=e("bind"),i=e("analytics.js-integration"),a=e("top-domain"),r=e("when"),s=(e("is"),e("each"),"function"==typeof window.define&&window.define.amd),l="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.js",c=t.exports=i("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",!1).option("trackNamedPages",!0).option("trackCategorizedPages",!0).option("trackUtmProperties",!0).option("trackReferrer",!1).option("batchEvents",!1).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",!1).option("forceHttps",!1).option("trackGclid",!1).option("saveParamsReferrerOncePerSession",!0).option("deviceIdFromUrlParam",!1).option("mapQueryParams",{}).tag('<script src="'+l+'">');c.prototype.initialize=function(){!function(e){var t=e.amplitude||{_q:[]};function n(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}for(var o=function(){return this._q=[],this},i=["add","append","clearAll","prepend","set","setOnce","unset"],a=0;a<i.length;a++)n(o,i[a]);t.Identify=o;for(var r=function(){return this._q=[],this},s=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],l=0;l<s.length;l++)n(r,s[l]);t.Revenue=r;var c=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];!function(t){function e(e){t[e]=function(){t._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<c.length;n++)e(c[n])}(t),e.amplitude=t}(window,document),this.setDomain(window.location.href),window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var t=o(this,this.loaded),n=this.ready;s?window.require([l],function(e){window.amplitude=e,r(t,function(){window.amplitude.runQueuedFunctions(),n()})}):this.load(function(){r(t,function(){window.amplitude.runQueuedFunctions(),n()})})},c.prototype.loaded=function(){return!(!window.amplitude||!window.amplitude.options)},c.prototype.page=function(e){var t=e.category(),n=e.fullName(),o=this.options;o.trackAllPages&&this.track(e.track()),t&&o.trackCategorizedPages&&this.track(e.track(t)),n&&o.trackNamedPages&&this.track(e.track(n))},c.prototype.identify=function(e){var t=e.userId(),n=e.traits();t&&window.amplitude.setUserId(t),n&&window.amplitude.setUserProperties(n)},c.prototype.track=function(e){var t=e.properties(),n=e.event(),o=e.revenue();window.amplitude.logEvent(n,t),o&&window.amplitude.logRevenue(o,t.quantity,t.productId)},c.prototype.setDomain=function(e){var t=a(e);window.amplitude.setDomain(t)},c.prototype.setDeviceId=function(e){e&&window.amplitude.setDeviceId(e)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(e,t,n){var o=e("url").parse;t.exports=function(e){var t=o(e).hostname.match(i);return t?t[0]:""};var i=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i},{url:64}],190:[function(e,t,n){var i=e("script-onload"),a=e("next-tick"),r=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==r(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var o=document.createElement("script");return o.type="text/javascript",o.async=!0,o.src=e.src,"function"==r(t)&&i(o,t),a(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(o,e)}),o}},{"script-onload":185,"next-tick":57,type:47}],191:[function(e,t,n){var a=encodeURIComponent,s=decodeURIComponent,l=e("trim"),r=e("type");n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=l(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),o=0;o<n.length;o++){var i,a=n[o].split("="),r=s(a[0]);(i=/(\w+)\[(\d+)\]/.exec(r))?(t[i[1]]=t[i[1]]||[],t[i[1]][i[2]]=s(a[1])):t[a[0]]=null==a[1]?"":s(a[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if("array"!=r(o))t.push(a(n)+"="+a(e[n]));else for(var i=0;i<o.length;++i)t.push(a(n+"["+i+"]")+"="+a(o[i]))}return t.join("&")}},{trim:54,type:47}],192:[function(e,t,n){t.exports=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}},{}],193:[function(e,t,n){var o=e("each"),i=!1,a=[];t.exports=function(e){i?s(e):a.push(e)};var r=setInterval(function(){document.body&&(i=!0,o(a,s),clearInterval(r))},5);function s(e){e(document.body)}},{each:177}],195:[function(e,t,n){function o(e){var t=e.toString();return 1===t.length?"0"+t:t}t.exports=function(e){return e.getUTCFullYear()+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},{}],196:[function(e,t,n){t.exports=function(t,n){return n=n||{},function(e){e=[].slice.call(arguments),window[t]||(window[t]=[]),!1===n.wrap?window[t].push.apply(window[t],e):window[t].push(e)}}},{}],197:[function(e,t,n){t.exports=function(t,n){var o,i=0;return function(){var e=(new Date).getTime();return n<=e-i&&(o=t.apply(this,arguments),i=e),o}}},{}],198:[function(e,t,n){var i=e("callback");t.exports=function(e,t,n){if(e())return i.async(t);var o=setInterval(function(){e()&&(i(t),clearInterval(o))},n||10)}},{callback:12}],199:[function(t,e,n){var o=t("type");try{var i=t("clone")}catch(e){i=t("clone-component")}e.exports=function(e,t){switch(o(t)){case"object":return function(e,t){for(var n in t)void 0!==e[n]&&(e[t[n]]=e[n],delete e[n]);return e}(i(e),t);case"function":return function(e,t){var n={};for(var o in e)n[t(o)]=e[o];return n}(i(e),t)}}},{type:47,clone:49}],200:[function(t,e,n){var a=t("is");try{var r=t("clone")}catch(e){r=t("clone-component")}e.exports=function e(t,n){t=r(t);for(var o in t){var i=t[o];a.date(i)&&(t[o]=n(i)),a.object(i)&&(t[o]=e(i,n))}return t}},{is:18,clone:13}],202:[function(e,t,n){var a=e("each");t.exports=function(n,o,i){return a(n,function(e,t){o=i.call(null,o,e,t,n)}),o}},{each:177}],203:[function(e,t,n){var o=e("to-space-case");t.exports=function(e){return o(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}},{"to-space-case":187}],204:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)t(e[o],o)&&n.push(e[o]);return n}},{"to-function":74}],205:[function(e,t,n){t.exports=function(e,t){var n={};for(var o in t)n[o]=t[o];for(var i=0;i<e.length;i++)delete n[e[i]];return n}},{}],206:[function(e,t,n){t.exports=function(e){for(var t,n=[].slice.call(arguments,1),o={},i=0;t=n[i];i++)t in e&&(o[t]=e[t]);return o}},{}],207:[function(e,t,n){var i=[].some;t.exports=function(e,t){if(i)return i.call(e,t);for(var n=0,o=e.length;n<o;++n)if(t(e[n],n))return!0;return!1}},{}],208:[function(e,t,n){t.exports=function(e,t,n){for(var o=0,i=e.length,a=3==arguments.length?n:e[o++];o<i;)a=t.call(null,a,e[o],++o,e);return a}},{}],149:[function(e,t,r){var i=e("ad-params"),s=e("clone"),n=e("cookie"),a=e("extend"),o=e("analytics.js-integration"),l=e("segmentio/json@1.0.0"),c=e("store"),d=e("protocol"),u=e("send-json"),f=e("top-domain"),p=e("utm-params"),h=e("uuid"),m={maxage:31536e6,secure:!1,path:"/"},v=r=t.exports=o("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");function g(){}r.storage=function(){return"file:"===d()||"chrome-extension:"===d()?c:n},r.global=window,v.prototype.initialize=function(){var o=this;this.ready(),this.analytics.on("invoke",function(e){var t=e.action(),n="on"+e.action();o.debug("%s %o",t,e),o[n]&&o[n](e),o.ready()})},v.prototype.loaded=function(){return!0},v.prototype.onpage=function(e){},v.prototype.onidentify=function(e){},v.prototype.ongroup=function(e){},v.prototype.ontrack=function(e){var t=e.json();delete t.traits,this.send("/analytics/track/",t)},v.prototype.onalias=function(e){},v.prototype.normalize=function(e){this.debug("normalize %o",e);var t=this.analytics.user(),n=r.global.location.search,o=e.context=e.context||e.options||{};return delete e.options,e.writeKey=this.options.apiKey,o.userAgent=navigator.userAgent,o.library||(o.library={name:"analytics.js",version:this.analytics.VERSION}),n&&(o.campaign=p(n)),this.referrerId(n,o),e.userId=e.userId||t.id(),e.anonymousId=t.anonymousId(),e.messageId=h(),e.sentAt=new Date,this.debug("normalized %o",e),e},v.prototype.send=function(e,n,o){var i=this.options.segmentUrl+e;o=o||g;var a=this;n=this.normalize(n),u(i,n,{"Content-Type":"text/plain"},function(e,t){if(a.debug("sent %O, received %O",n,arguments),e)return o(e);t.url=i,o(null,t)})},v.prototype.cookie=function(e,t){var n=v.storage();if(1===arguments.length)return n(e);var o=r.global.location.href,i="."+f(o);"."===i&&(i=""),this.debug("store domain %s -> %s",o,i);var a=s(m);a.domain=i,this.debug("store %s, %s, %o",e,t,a),n(e,t,a),n(e)||(delete a.domain,this.debug("fallback store %s, %s, %o",e,t,a),n(e,t,a))},v.prototype.referrerId=function(e,t){var n,o=this.cookie("s:context.referrer");o=o&&l.parse(o),e&&(n=i(e)),(n=n||o)&&(t.referrer=a(t.referrer||{},n),this.cookie("s:context.referrer",l.stringify(n)))}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(e,t,n){var i=e("querystring").parse;t.exports=function(e){var t=i(e);for(var n in t)for(var o in a)if(n===o)return{id:t[n],type:a[o]}};var a={btid:"dataxu",urid:"millennial-media"}},{querystring:27}],210:[function(e,t,n){var o,i=e("unserialize"),a=e("each");try{o=window.localStorage}catch(e){o=null}function r(e,t){var n=arguments.length;return 0==n?function(){var e,t=o.length,n={};for(;0<=--t;)e=o.key(t),n[e]=l(e);return n}():2<=n?s(e,t):1==n?null==e?o.clear():"string"==typeof e?l(e):"object"==_typeof(e)?a(e,s):void 0:void 0}function s(e,t){return null==t?o.removeItem(e):o.setItem(e,JSON.stringify(t))}function l(e){return i(o.getItem(e))}(t.exports=r).supported=!!o},{unserialize:214,each:177}],214:[function(e,t,n){t.exports=function(t){try{return JSON.parse(t)}catch(e){return t||void 0}}},{}],211:[function(e,t,n){var o,i=Object.defineProperty,a=window.location.protocol;function r(t){try{i(window.location,"protocol",{get:function(){return t}})}catch(e){o=t}}t.exports=function(e){return 0===arguments.length?o||window.location.protocol:r(e)},t.exports.http=function(){r("http:")},t.exports.https=function(){r("https:")},t.exports.reset=function(){r(a)}},{}],212:[function(e,t,a){var r=e("base64-encode"),n=e("has-cors"),s=e("jsonp"),l=e("json");function o(e,t,n,o){3==arguments.length&&(o=n,n={});var i=new XMLHttpRequest;for(var a in i.onerror=o,i.onreadystatechange=function(){if(4==i.readyState)return o(null,i)},i.open("POST",e,!0),n)i.setRequestHeader(a,n[a]);i.send(l.stringify(t))}function i(n,e,t,o){3==arguments.length&&(o=t);var i=a.prefix;e=r(l.stringify(e)),e=encodeURIComponent(e),s(n+="?"+i+"="+e,{param:a.callback},function(e,t){if(e)return o(e);o(null,{url:n,body:t})})}(a=t.exports=n?o:i).callback="callback",a.prefix="data",a.json=o,a.base64=i,a.type=n?"xhr":"jsonp"},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(e,t,n){var d=e("utf8-encode"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(e){var t,n,o,i,a,r,s,l="",c=0;e=d(e);for(;c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),o=e.charCodeAt(c++),i=t>>2,a=(3&t)<<4|n>>4,r=(15&n)<<2|o>>6,s=63&o,isNaN(n)?r=s=64:isNaN(o)&&(s=64),l=l+u.charAt(i)+u.charAt(a)+u.charAt(r)+u.charAt(s);return l}},{"utf8-encode":218}],218:[function(e,t,n){t.exports=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):(127<o&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}},{}],216:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],217:[function(e,t,n){var f=e("debug")("jsonp");t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t=t||{};var o,i,a=t.prefix||"__jp",r=t.param||"callback",s=null!=t.timeout?t.timeout:6e4,l=encodeURIComponent,c=document.getElementsByTagName("script")[0]||document.head,d=a+p++;s&&(i=setTimeout(function(){u(),n&&n(new Error("Timeout"))},s));function u(){o.parentNode.removeChild(o),window[d]=h}window[d]=function(e){f("jsonp got",e),i&&clearTimeout(i),u(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+r+"="+l(d)).replace("?&","?"),f('jsonp req "%s"',e),(o=document.createElement("script")).src=e,c.parentNode.insertBefore(o,c)};var p=0;function h(){}},{debug:15}],213:[function(e,t,n){var a=e("querystring").parse;t.exports=function(e){"?"==e.charAt(0)&&(e=e.substring(1));e=e.replace(/\?/g,"&");var t,n=a(e),o={};for(var i in n)~i.indexOf("utm_")&&("campaign"==(t=i.substr(4))&&(t="name"),o[t]=n[i]);return o}},{querystring:27}],219:[function(e,t,n){t.exports=function(e){return Math.floor(e.getTime()/1e3)}},{}],5:[function(e,t,n){t.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}),"object"===_typeof(exports)?module.exports=nUa("1"):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return nUa("1")}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(16))},59:function(e,t,a){"use strict";var r=n(a(0)),s=n(a(4)),l=n(a(19)),c=a(37),d=a(1),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(a(30)),f=a(11),p=a(31),h=a(17),m=a(173);function n(e){return e&&e.__esModule?e:{default:e}}function i(){var o=(0,r.default)(this),i=o.data(),a=i.modalUrl||null;o.addClass("inited"),v&&0!==v.length&&null!==a&&(0,d.jqOffOn)(o.find(".modal-link"),"click",function(e){if(!e.metaKey){e.preventDefault();var t=o.parents(".nf-feed-item");if(t.data("just-dragged"))return void t.removeData("just-dragged");if(w=o,N(i),k=i.isSolvable,C=i.isSet,i.refreshable,v.addClass("loading"),v.removeClass("loaded"),k?v.addClass("solvable").removeClass("note set"):C?v.addClass("set").removeClass("solvable note"):v.addClass("note").removeClass("solvable set"),q[a])L(a,i);else if(j[a])var n=setInterval(function(){q[a]&&(clearInterval(n),L(a,i))},200);else E=r.default.ajax({url:a,data:{force_full_page:"true"},success:P,error:A})}})}function o(e){if(0!==e.length){var t=e.data().modalUrl;t&&!0!==j[t]&&(j[t]=!0,r.default.get(t,{is_preloading:!0,force_full_page:!0}).then(function(e){q[t]=e}).fail(function(){j[t]=!1}))}}var v,g,y,_,b={urlStack:[]},w=(window.vkey,null),k=!1,C=!1,x=!1,E=null,I=[],T="assessment_modal_public_solvable_component",S="discussions_modal_single_component",O=!1,j={},q={},P=function(e){if(E=null,e.redirect)window.location=e.redirect;else{v.toggleClass("loading loaded");var t=_.modalUrl.replace("/modal","").replace("/_modal","").replace("-thread","/thread");if(t&&window.history.pushState){var n=(0,d.getRelativeUrl)();if(t!==n){var o={modalContent:!0};_.isPost||_.isSolvable?(o.isPostOrSolvable=!0,window.history.state&&window.history.state.isPostOrSolvable?window.history.replaceState(o,"",t):(b.urlStack.push(n),window.history.pushState(o,"",t))):(b.urlStack.push(n),window.history.pushState(o,"",t))}}k?(g.html(e),y.html("")):(y.html(e),(0,h.initGenericControllers)(y),g.html("")),$(),u.updateMathjax(v),u.checkOverflow(v);var i=v.find(".mini-profile");v.on("scroll",s.default.throttle(function(){i.each(function(e,t){(0,m.toggleMiniProfile)((0,r.default)(t),"hide")})},16)),k?a(78)[T](g):a(175)[S](y)}},A=function(e,t){"abort"!==t&&(404===e.status?(E=null,D(),(0,r.default)(".cmp_"+w.data("param_key")+"_id").parents(".nf-feed-item").remove()):(x=!0,E=null,D(),(0,p.errorModalHandler)(e)))},N=function(e){C&&v.is(":visible")&&(I.push({view:v.clone(),data:_,current_open_feed_item:w}),v.addClass("sub-view")),_=e,v.show().addClass("clearfix"),(0,f.crop)(),(0,d.jqOffOn)(d.$window,"keydown.nfmodal",function(e){27===e.which&&D()})},D=function(e){e=e||{};var t=!1;if(null!==E&&(E.abort(),t=!(E=null)),!x&&w&&w.data("refreshable")){var n=w.data(),o={version:n.version,deferred:n.deferred,page_key:n.page_key,cmp_url:n.cmp_url,individual_reload:n.individual_reload,param_key:n.param_key},i=new l.default(o.page_key);i.error=function(e){404===e.status?(0,r.default)(".cmp_"+o.param_key+"_id").parents(".nf-feed-item").remove():0<e.status&&(0,p.errorModalHandler)(e)},setTimeout(function(){i.get(o.cmp_url,o)},100)}if(!e.backButtonClicked&&window.history&&window.history.pushState&&!t&&(O=!0,window.history.back()),I.length){var a=I.pop();w=a.current_open_feed_item,v.replaceWith(a.view),v=(0,d.jqGetElemById)("nf-feeditem-modal").removeClass("inited"),C=!0,(0,c.initAutosubmit)(),M(v),(0,h.initGenericControllers)(v)}else w=null,x=!1,v.hide().removeClass("clearfix"),(0,f.crop)(!1),d.$window.off("keydown.nfmodal")},M=function(e,t){var n=0<arguments.length&&void 0!==e?e:d.$body,o=1<arguments.length?t:void 0;v=(0,d.jqGetElemById)("nf-feeditem-modal"),g=(0,d.jqGetElemByCmpName)(T),y=(0,d.jqGetElemByCmpName)(S),!0!==o&&0<v.length&&(n.find(".modal-feed-item").each(i),v.hasClass("inited")||(v.addClass("inited"),v.on("click",function(e){if(e.target===v[0])D();else if(C||I.length){(e.target===g[0]||e.target===y[0]||e.target===(0,d.jqGetElemById)("setview-header")[0])&&D()}else(0,r.default)(e.target).hasClass("refresh")&&(e.preventDefault(),(0,r.default)(e.target).parents("form").submit(),setTimeout(function(){window.location.href=window.location.href},1e3))}),v.on("click",".close-modal",function(e){e.preventDefault(),D()}),(0,r.default)("#nf-modal-close").on("click",D)))},$=function(){var e=g.add(y).find(".modal-target");e.length&&e.each(function(){o((0,r.default)(this))})},L=function(e,t){if(P(q[e]),delete q[e],delete j[e],t.isSolvable&&d.userIsAuthenticated){var n=e.replace("?","start_attempt/?");t.version=window.VERSIONS[t.page_key]||1,r.default.post(n,t).fail(p.errorModalHandler)}};b.preloadFirstItem=function(e){o(e.find(".modal-feed-item").first())},b.popstateHandlerHook=function(){if(O)return O=!1,b.urlStack.pop(),!0;var e=b.urlStack;return 0<e.length&&(0,d.getRelativeUrl)()===e[e.length-1]&&(b.urlStack.pop(),D({backButtonClicked:!0}),!0)},b.modal_events=i,b.feeditem_modal=M,b.feeditem_modal_close=D,e.exports=b},63:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualizationsPrefetchHandler=function(e){var t,n=/"type": ?"(.*?)"/g;for(;null!==(t=n.exec(e));){switch((i=2,function(e){if(Array.isArray(e))return e}(o=t)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[1]){case"CANVAS":Promise.all([a.e(0),a.e(2),a.e(6),a.e(7),a.e(75)]).then(a.t.bind(null,104,7));break;case"COIN_FLIP":Promise.all([a.e(9),a.e(76)]).then(a.t.bind(null,105,7));break;case"GRAPH_2D":Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(6),a.e(5),a.e(9),a.e(8),a.e(7),a.e(10),a.e(80)]).then(a.t.bind(null,103,7));break;case"GRAPH_3D":Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(6),a.e(5),a.e(9),a.e(8),a.e(70),a.e(7),a.e(10),a.e(79)]).then(a.t.bind(null,106,7));break;case"HUYGENS_CLOCK":Promise.all([a.e(2),a.e(6),a.e(7),a.e(83)]).then(a.t.bind(null,107,7));break;case"OPERATOR_SEARCH":Promise.all([a.e(0),a.e(4),a.e(3),a.e(87)]).then(a.t.bind(null,108,7));break;case"JAVASCRIPT":Promise.all([a.e(2),a.e(4),a.e(84)]).then(a.t.bind(null,109,7));break;case"QUANTUM_CIRCUIT":Promise.all([a.e(0),a.e(4),a.e(3),a.e(71),a.e(89)]).then(a.t.bind(null,110,7));break;case"LOGIC_CIRCUIT":Promise.all([a.e(1),a.e(85)]).then(a.t.bind(null,111,7));break;case"GREEDY_SCHEDULER":Promise.all([a.e(0),a.e(3),a.e(81)]).then(a.t.bind(null,112,7));break;case"CS_ONE_OFFS":Promise.all([a.e(0),a.e(77)]).then(a.t.bind(null,113,7));break;case"DRONE_GAME":Promise.all([a.e(0),a.e(1),a.e(78)]).then(a.t.bind(null,114,7));break;case"GRID_FILL":Promise.all([a.e(1),a.e(82)]).then(a.t.bind(null,115,7));break;case"ORDER_LOGIC":Promise.all([a.e(1),a.e(88)]).then(a.t.bind(null,116,7));break;case"NUMBER_BUNCHERS":Promise.all([a.e(1),a.e(86)]).then(a.t.bind(null,117,7));break;case"CALCDOKU":Promise.all([a.e(1),a.e(74)]).then(a.t.bind(null,118,7))}}var o,i},t.getModuleForVisualizationType=v,t.renderVisualization=d,t.renderVisualizationFromVue=function(e,t,n){return Object.assign(e.dataset,t),d((0,o.default)(e),!0,!0,n)};var n,o=(n=a(0))&&n.__esModule?n:{default:n},f=a(7),i=a(1),r=a(9);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=!1,h={},l=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in","quizzes_interstitial_pane"];function c(e){return(0,o.default)(".dp-mainbody-text .tail [data-visualizationkey=".concat(e,"]"))}var m=function(){function a(e,t,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.$container=e,this.$content=this.$container.find(".content"),this.key=t,this.slug=n,this.data=o,this.stash=this.stash.bind(this),this.initEventKeys(),this.bindEvents(),this.needsImmediateStash()?this.stash():this.waitUntilVisible().then(function(){i.trackVisualizationViewed()})}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(a,[{key:"initEventKeys",value:function(){var t="viz".concat(this.key),e=l.map(function(e){return"".concat(r.EVT_VKEY_BEFORE_UPDATE,".").concat(e,".").concat(t)}).join(" "),n="".concat(r.EVT_QUIZ_POSITION_LOADING,".").concat(t),o="".concat(r.EVT_QUIZ_POSITION_WILL_CHANGE,".").concat(t),i="".concat(r.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,".").concat(t);this.events={quizPositionDidChange:"".concat(r.EVT_QUIZ_POSITION_DID_CHANGE,".").concat(t),stashableEventGroup:[e,n,o].join(" "),dpMainbodyExpanded:i}}},{key:"resume",value:function(e){this.unstash(e),this.trackVisualizationViewed()}},{key:"bindEvents",value:function(){var t=this;i.$window.on(this.events.dpMainbodyExpanded,function(){i.$window.off(t.events.dpMainbodyExpanded);var e=c(t.key);e.length&&t.resume(e)}),i.userIsAuthenticated&&i.$window.on(this.events.stashableEventGroup,this.stash)}},{key:"unbindEvents",value:function(){i.userIsAuthenticated&&i.$window.off(this.events.stashableEventGroup)}},{key:"stash",value:function(){var t=this,n=function(e){return(0,o.default)("<div />").html(e)}("");Object.keys(this.data).forEach(function(e){n.attr("data-".concat(e),t.data[e])}),this.$container.after(n),i.$body.append(this.$container),this.$container.addClass("stashed"),this.$container.addClass("course-quiz-content"),this.$container.find('script[type="math/tex"]').remove(),this.unbindEvents()}},{key:"unstash",value:function(e){e.replaceWith(this.$container),this.$container.removeClass("stashed"),this.$container.removeClass("course-quiz-content"),this.bindEvents()}},{key:"needsImmediateStash",value:function(){return 0<c(this.key).length}},{key:"waitUntilVisible",value:function(){var t=this;return new Promise(function(e){setTimeout(function(){t.$container.is(":visible")?e():i.$window.on(t.events.quizPositionDidChange,function(){t.$container.is(":visible")&&(e(),i.$window.off(t.events.quizPositionDidChange))})},1)})}},{key:"trackVisualizationViewed",value:function(){(0,f.track)("ui",{action:"viewed_visualization",visualization_name:this.slug})}}]),a}();function v(e){switch(e){case"CANVAS":return Promise.all([a.e(0),a.e(2),a.e(6),a.e(7),a.e(75)]).then(a.t.bind(null,104,7));case"COIN_FLIP":return Promise.all([a.e(9),a.e(76)]).then(a.t.bind(null,105,7));case"GRAPH_2D":return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(6),a.e(5),a.e(9),a.e(8),a.e(7),a.e(10),a.e(80)]).then(a.t.bind(null,103,7));case"GRAPH_3D":return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(6),a.e(5),a.e(9),a.e(8),a.e(70),a.e(7),a.e(10),a.e(79)]).then(a.t.bind(null,106,7));case"HUYGENS_CLOCK":return Promise.all([a.e(2),a.e(6),a.e(7),a.e(83)]).then(a.t.bind(null,107,7));case"OPERATOR_SEARCH":return Promise.all([a.e(0),a.e(4),a.e(3),a.e(87)]).then(a.t.bind(null,108,7));case"QUANTUM_CIRCUIT":return Promise.all([a.e(0),a.e(4),a.e(3),a.e(71),a.e(89)]).then(a.t.bind(null,110,7));case"LOGIC_CIRCUIT":return Promise.all([a.e(1),a.e(85)]).then(a.t.bind(null,111,7));case"JAVASCRIPT":return Promise.all([a.e(2),a.e(4),a.e(84)]).then(a.t.bind(null,109,7));case"GREEDY_SCHEDULER":return Promise.all([a.e(0),a.e(3),a.e(81)]).then(a.t.bind(null,112,7));case"CS_ONE_OFFS":return Promise.all([a.e(0),a.e(77)]).then(a.t.bind(null,113,7));case"DRONE_GAME":return Promise.all([a.e(0),a.e(1),a.e(78)]).then(a.t.bind(null,114,7));case"GRID_FILL":return Promise.all([a.e(1),a.e(82)]).then(a.t.bind(null,115,7));case"ORDER_LOGIC":return Promise.all([a.e(1),a.e(88)]).then(a.t.bind(null,116,7));case"NUMBER_BUNCHERS":return Promise.all([a.e(1),a.e(86)]).then(a.t.bind(null,117,7));case"CALCDOKU":return Promise.all([a.e(1),a.e(74)]).then(a.t.bind(null,118,7));default:throw new Error("Unknown visualization type '".concat(e,"'"))}}function d(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=e.data(),a=n.visualizationkey,r=h[a];if(r)return r.resume(e),Promise.resolve();var s=window[a],l=window["".concat(a,"user_state__")],c=s.visualization,d=c.slug,u=c.type;return t||(h[a]=new m(e,a,d,n)),p||(document.body.dataset.mediaBaseUrl=n.mediaurl,p=!0),e.on("click touchstart",function(){(0,f.track)("ui",{action:"clicked_visualization",visualization_name:d})}),new Promise(function(n){v(u).then(function(e){var t={visualizationKey:a,data:s.data,userState:l.current_state};n(o?e.default.createInteractiveSolvable(t,i):e.default.createInteractive(t))})})}},686:function(e,t,n){"use strict";n(687),n(781);var o,i=(o=n(0))&&o.__esModule?o:{default:o},a=n(17),r=n(37),s=n(44);(0,n(18).onDOMReady)(function(){(0,a.initGenericControllers)(),(0,i.default)(".cmp-deferred").each(function(e,t){(0,s.add)((0,i.default)(t))});var e=(0,i.default)("form:not(.disable-submit-auto-disabling, #_fb_login)");(0,r.preventDefaultSubmitHandler)(e),(0,i.default)("form").each(function(e,t){var n=(0,i.default)(t);""===n.attr("action")&&n.attr("action",window.location.href)}),(0,r.initAutosubmit)()})},687:function(e,t,n){"use strict";n(688),n(693),n(697),n(700),n(703),n(707),n(711),n(719),n(723),n(726),n(730),n(733),n(738),n(754),n(758),n(72),n(127),n(43),n(56),n(1),n(11),n(7),n(170),n(36),n(336),n(30),n(128),n(129),n(35),n(171),n(337),n(34),n(338),n(42),n(15),n(73),n(18)},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderExpressionIntoElement=function(e,t){o.default.render(i.default.replace(e),t,a.default.inline)},t.default=void 0;var o=s(n(27));n(96),n(97),n(98);var i=s(n(99)),a=s(n(100)),r=s(n(101));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=a.default.inline;Object.assign(t,{delimiters:[{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredTags:["script","noscript","style","textarea","pre","code"],ignoredClasses:[],preProcess:i.default.replace,errorCallback:console.error}),(0,r.default)(e,t)}t.default=l},7:function(e,t,n){"use strict";var s=a(n(0)),c=a(n(4)),d=a(n(56)),o=a(n(28)),u=n(1),i=n(15);function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f={},p=function(){};var h,m=(h=[],function(e,t){var n={google_conversion_id:f.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};n.google_remarketing_only=!!t,e=c.default.extend({},n,e),window.google_trackConversion?(h.length&&(h.forEach(function(e){window.google_trackConversion(e)}),h=[]),window.google_trackConversion(e)):h.push(e)}),v=c.default.once(function(){p("loadCustomerio",f.cioKey);var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.id="cio-tracker",e.setAttribute("data-site-id",f.cioKey),e.src="https://assets.customer.io/assets/track.js",t.parentNode.insertBefore(e,t)}),g=function(){if(-1!==window.location.search.search(/(utm|ga)_/)){var t=(0,i.getParamsObject)(),n={},o={};["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"].forEach(function(e){n[e+"_latest"]=t[e]||"-",e in t&&(o[e+"_current"]=t[e])}),f.setSuperProperties(n),f.setTemporaryProperties(o)}};function y(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){o.default.captureMessage("Error parsing analytics JSON: "+t),t={}}for(var e in t)"string"==typeof t[e]&&(t[e]=t[e].replace(/\[QUOTE\]/g,'"'),t[e]=t[e].replace(/\[SINGLEQUOTE\]/g,"'"));return t}function _(e,t){window.dataLayer||function(e,t,n,o){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName("script")[0],a=t.createElement("script");a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id=GTM-5RMLTZ4",i.parentNode.insertBefore(a,i)}(window,document,0,"dataLayer");var a="gtag_value__",n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}({event:e.replace("gtag__","")},Object.entries(t).filter(function(e){return 0===l(e,1)[0].indexOf(a)}).reduce(function(e,t){var n=l(t,2),o=n[0],i=n[1];return e[o.replace(a,"")]=i,e},{}));window.dataLayer.push(n),p("track:gtag",n)}f.init=function(e){if(!window.nativeAnalyticsDisabled){var t,n=window.nativeAnalytics;n?(f.analyticsLive=!0,f.mobileNative=!0,f.superProperties=y(n.initialSuperProperties),f.userProperties={},f.identity=f.superProperties.indentity,f.cioIdentifyData=n.cioIdentifyData,f.cioKey=n.cioKey,f.displayedContinuePracticingBanner=!1,f.displayedRecommendedCourseBanner=!1,f.recommendedCourseId=null,f.userIsAuthenticated=n.userIsAuthenticated,f.initTrackingFromData(n,!1)):(t=e.data(),f.analyticsLive=t.analyticsLive,f.identity=t.analyticsIdentity,f.cioIdentifyData=y(t.cioIdentifyData),f.cioKey=t.cioKey,f.superProperties=y(t.analyticsSuperProperties),f.userProperties=y(t.analyticsUserProperties),f.displayedContinuePracticingBanner=!0===t.displayedContinuePracticingBanner,f.displayedRecommendedCourseBanner=!0===t.displayedRecommendedCourseBanner,f.recommendedCourseId=t.recommendedCourseId,f.userIsAuthenticated=u.userIsAuthenticated,f.initTrackingFromData(t,!0),function(e){e.children(".ax-event").each(function(){var e=(0,s.default)(this).data();f.track(e.axName,e.axProperties)})}(e))}},f.remoteInit=function(e,t){f.analyticsLive=e.analytics_live,f.identity=e.analytics_identity,f.cioIdentifyData=e.cio_identify_data,f.cioKey=e.cio_key,f.superProperties=e.analytics_super_properties,f.userProperties=e.analytics_user_properties,f.displayedContinuePracticingBanner=!1,f.displayedRecommendedCourseBanner=!1,f.recommendedCourseId=null,f.userIsAuthenticated=t.is_authenticated},f.initTrackingFromData=function(e,t){try{0===Object.keys(f.superProperties).length&&o.default.captureMessage("Missing backend superProperties")}catch(e){}f.superProperties.user_agent=f.superProperties.user_agent||window.navigator.userAgent,f.temporaryProperties={},f.analyticsLive&&(function(e){e.loggingEnabled&&(p=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=["[analytics][".concat(e,"]")].concat(n);console.log.apply(console,i)})}(e),function(e){f.segmentKey=e.segmentKey,d.default.initialize({Amplitude:{apiKey:e.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:!0,trackCategorizedPages:!1,trackGclid:!0,trackReferrer:!0,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:!1,trackAllPages:!1,trackNamedPages:!1,trackSessionEvents:!1,trackUtmProperties:!0,batchEvents:!1,mapQueryParams:{},useLogRevenueV2:!0,forceHttps:!0},"Segment.io":{apiKey:e.segmentKey,segmentUrl:e.segmentUrl,addBundledMetadata:!0,unbundledIntegrations:[]}}),g()}(e),t&&(function(e){var t,n,o,i;e.isNative&&0!==window.location.pathname.indexOf("/wiki/")?window.ga=function(){}:(t=window,n=document,t.GoogleAnalyticsObject="ga",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=n.createElement("script"),i=n.getElementsByTagName("script")[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(o,i),window.ga("create","UA-33841253-1","auto"),window.ga("require","displayfeatures"),window.ga("send","pageview"))}(e),function(e){if(!e.isNative&&e.isTrackedUser){if(n=window,o=document,n.fbq||(i=n.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},n._fbq||(n._fbq=i),(i.push=i).loaded=!0,i.version="2.0",i.queue=[],(a=o.createElement("script")).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(r=o.getElementsByTagName("script")[0]).parentNode.insertBefore(a,r)),window.fbq("init",e.facebookAdPixelId),window.fbq("track","PageView"),e.signedUp?window.fbq("track","CompleteRegistration"):e.viewedPaywall?window.fbq("trackCustom","BViewPaywall"):e.contentType&&window.fbq("track","ViewContent",{type:e.contentType,slug:e.slug,topic:e.topic}),e.ltvEventId){var t={value:e.ltvEventLtv,currency:e.ltvEventCurrency};window.fbq("track","Purchase",t),c.default.defer(function(){f.track("facebook_pixel_purchase",t)}),s.default.get(e.ltvEventConfirmUrl,function(e){p("ltvEvent:confirm",e.success)})}}else window.fbq=function(){};var n,o,i,a,r}(e),function(t){!t.isNative&&t.isTrackedUser&&(f.googleAdPixelId=t.googleAdPixelId,s.default.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then(function(){var e={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};t.tries&&(e.google_custom_params={tries_made:t.tries,max_level:t.level}),m(e,!0),m({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"}),t.signedUp?(m({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},!0),m({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})):t.viewedPaywall?(m({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},!0),m({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})):t.contentType&&(m({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:t.contentType,slug:t.slug,topic:t.topic}},!0),m({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})),t.ltvEventId&&(m({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}},!0),m({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}}))}))}(e),function(e){var t,n,o,i;!e.isNative&&e.isTrackedUser&&((t=window).qp||((n=t.qp=function(){n.qp?n.qp.apply(n,arguments):n.queue.push(arguments)}).queue=[],(o=document.createElement("script")).async=!0,o.src="https://a.quora.com/qevents.js",(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(o,i)),window.qp("init","bf612d420b9640a78c8db62ca253b9cf"),window.qp("track","ViewContent"),e.signedUp?window.qp("track","CompleteRegistration"):e.ltvEventId&&window.qp("track","Purchase"))}(e)),e.ltvEventId&&_("gtag__browser_purchased",{gtag_value__conversion_value:e.ltvEventLtv,gtag_value__conversion_currency:e.ltvEventCurrency,gtag_value__subscription_interval:e.ltvEventInterval}),function(){var e,t,n;for(window._cio=window._cio||[],e=function(e){return function(){_cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},t=["load","identify","sidentify","track","page"],n=0;n<t.length;n++)_cio[t[n]]=e(t[n])}(),f.identify())},f.track=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(n=c.default.extend({},{exclude:[]},n),!window.nativeAnalyticsDisabled){var o=t.action;null!=t.suffix&&void 0!==o&&(o+=t.suffix),void 0===o&&(o="none");var i=window.location.pathname,a={full_path:i+window.location.search,path:i},r=Object.assign({},a,f.superProperties,f.temporaryProperties,t);if("sign_of_life"===e){if(r.displayed_continue_practicing_banner=f.displayedContinuePracticingBanner,r.displayed_recommended_course_banner=f.displayedRecommendedCourseBanner,f.displayedContinuePracticingBanner){var s=(0,u.jqGetElemById)("continue-practicing-notif").data();s&&(r.continue_practicing_quiz_id=s.targetQuizId,r.continue_practicing_problems_left=s.problemsLeft)}f.displayedRecommendedCourseBanner&&(r.recommended_course_id=f.recommendedCourseId),Object.assign(r,{window_width:u.$window.width(),window_height:u.$window.height(),screen_width:window.screen.width,screen_height:window.screen.height})}if(0<=e.indexOf("gtag__"))return _(e,r),void delete t.gtag_value;if(p("track",e,o,r),f.analyticsLive){var l={All:!0};n.exclude.forEach(function(e){return l[e]=!1});try{d.default.track(e,r,{integrations:l})}catch(e){}window.ga&&"sign_of_life"!==e&&"ui"!==e&&window.ga("send","event",e,o),f.cioIdentifyData.created_at&&"ui"===e&&(window._cio.track(e,r),v())}}},f.setSuperProperties=function(e){p("setSuperProperties",e),f.analyticsLive&&(f.superProperties=c.default.extend({},f.superProperties,e))},f.setTemporaryProperties=function(e){f.temporaryProperties=c.default.extend({},f.temporaryProperties,e)},f.identify=function(){if(f.analyticsLive&&(f.userIsAuthenticated?d.default.identify(f.identity,f.userProperties):(d.default.identify(null,f.userProperties,{integrations:{All:!1,Amplitude:!0}}),p("identify:segment/amplitude",null,f.userProperties),d.default.identify(f.identity,f.userProperties,{integrations:{All:!0,Amplitude:!1}})),p("identify:segment/all",f.identity,f.userProperties),f.cioIdentifyData.created_at)){var e={};for(var t in f.cioIdentifyData)e[t]=f.cioIdentifyData[t];for(var t in f.superProperties)e[t]=f.superProperties[t];var n=navigator.userAgent.toLowerCase();-1!==n.indexOf("android")&&(e.ever_visited_with_android=!0),-1!==/iphone|ipad/gi.test(n)&&(e.ever_visited_with_ios=!0),u.isAndroid&&(e.has_installed_android_app=!0),u.isIos&&(e.has_installed_ios_app=!0),window._cio.identify(e),p("identify:cio",e)}},f.trackNativeBtn=function(n){n.on("click",function(){function e(e){return e.split("?")[0]}var t=n.data();delete t.controller,t.target=e(t.target),t.from=e(t.from),f.track("mobile_native_ui",t)})};f.setAnalyticsEvents=function(e){(e=e||(0,s.default)("body")).find(".ax-click").on("click.axclick",function(e){var t=(0,s.default)(this),n=t.data(),o=n.axRequire,i=n.axForbid,a=t.hasClass("ax-once");if(!0!==n.ax_active&&(t.data("ax_active",!0),(!o||t.hasClass(o))&&(!i||!t.hasClass(i)))){var r={element_type:n.axType,element_id:n.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};r.action=n.axAction?n.axAction:"click",n.gifUrl&&(r.gif_content=n.gifContent),a?function(e,t,n,o){var i=(0,s.default)(e);i.data("sent_"+t)||(f.track(n,o),i.data("sent_"+t,!0))}(this,"click_analytics","ui",r):f.track("ui",r)}})},f.trackFacebookPixel=function(e,t,n){window.fbq&&window.fbq(e?"trackCustom":"track",t,n||{})},f.trackPixelController=function(e){var t=e.data();t.tracked||(c.default.defer(function(){t.facebookEventName&&f.trackFacebookPixel(!0,t.facebookEventName,{slug:t.slug}),t.googleLabelRemarketing&&m({google_conversion_label:t.googleLabelRemarketing},!0),t.googleLabelConversions&&m({google_conversion_label:t.googleLabelConversions})}),e.data("tracked","true"),e.attr("data-tracked","true"))},f.setAnalyticsEvents(),window.banalytics=f,e.exports=f},72:function(e,t,n){"use strict";var o,i,s=(o=n(0))&&o.__esModule?o:{default:o},a=n(1),r=n(11);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s.default.support.transition=(i=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:i};function c(e){(0,s.default)(e).on("click",d,this.close)}var d='[data-dismiss="alert"]';c.prototype.close=function(e){var t,n=(0,s.default)(this),o=n.attr("data-target");function i(){t.trigger("closed").remove()}"#"!==(o=o||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""))&&(t=(0,s.default)(o)),e&&e.preventDefault()(t&&t.length)||(t=n.hasClass("alert")?n:n.parent()),t.trigger(e=s.default.Event("close")),e.isDefaultPrevented()||(t.removeClass("in"),s.default.support.transition&&t.hasClass("fade")?t.on(s.default.support.transition.end,i):i())},s.default.fn.alert=function(n){return this.each(function(){var e=(0,s.default)(this),t=e.data("alert");t||e.data("alert",t=new c(this)),"string"==typeof n&&t[n].call(e)})},s.default.fn.alert.Constructor=c,(0,s.default)(function(){(0,s.default)("body").on("click.alert.data-api",d,c.prototype.close)});function u(e){var t=(0,s.default)(e).on("click.dropdown.data-api",this.toggle);(0,s.default)("html").on("click.dropdown.data-api",function(){t.parent().removeClass("open").trigger(s.default.Event("close"))})}var f='[data-toggle="dropdown"]';function p(){(0,s.default)(f).parent().removeClass("open").trigger(s.default.Event("close"))}u.prototype={constructor:u,toggle:function(e){var t,n,o,i=(0,s.default)(this);if(!i.is(".disabled, :disabled"))return"#"!==(n=(n=i.attr("data-target"))||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""))&&(t=(0,s.default)(n)),t&&t.length||(t=i.parent()),o=t.hasClass("open"),p(),o?(e&&e.stopPropagation(),t.trigger(s.default.Event("close"))):(t.trigger(s.default.Event("open")),t.toggleClass("open"),t.trigger(s.default.Event("opened"))),!1}},s.default.fn.dropdown=function(n){return this.each(function(){var e=(0,s.default)(this),t=e.data("dropdown");t||e.data("dropdown",t=new u(this)),"string"==typeof n&&t[n].call(e)})},s.default.fn.dropdown.Constructor=u,(0,s.default)(function(){(0,s.default)("html").on("click.dropdown.data-api",p),(0,s.default)("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",f,u.prototype.toggle)});function h(e,t){this.options=t,this.$element=(0,s.default)(e).on("click.dismiss.modal",'[data-dismiss="modal"]',s.default.proxy(this.hide,this))}function m(e){this.$element.hide().trigger("hidden"),v.call(this)}function v(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=s.default.support.transition&&n;this.$backdrop=(0,s.default)('<div class="modal-bg '+n+'" />').appendTo(document.body),6===window.ie_version&&(this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3}),(0,s.default)(".carousel-control.left").css("left",5),(0,s.default)(".carousel-control.right").css("left",750)),"static"!=this.options.backdrop&&this.$backdrop.on("click",function(e){(0,s.default)(e.target).is(t.$backdrop)&&t.hide()}),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),o?this.$backdrop.one(s.default.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.default.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.default.support.transition.end,s.default.proxy(g,this)):g.call(this)):e&&e()}function g(){this.$backdrop.hide(),this.$backdrop.detach()}function y(){var t=this;this.isShown&&this.options.keyboard?(0,s.default)(document).on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||(0,s.default)(document).off("keyup.dismiss.modal")}h.prototype={constructor:h,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,e=s.default.Event("show");this.$element.trigger(e),6===window.ie_version&&(t.$element.css("position","absolute"),(0,a.setScrollPosition)(0)),this.isShown||e.isDefaultPrevented()||((0,s.default)("body").addClass("modal-open"),this.isShown=!0,y.call(this),v.call(this,function(){var e=s.default.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.appendTo(t.$backdrop),(0,r.crop)(),t.$element.show(),e&&t.$element[0].offsetWidth,t.$element.addClass("in"),e?t.$element.one(s.default.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=s.default.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,(0,s.default)("body").removeClass("modal-open"),(0,r.crop)(!1),y.call(this),this.$element.removeClass("in"),s.default.support.transition&&this.$element.hasClass("fade")?function(){var e=this,t=setTimeout(function(){e.$element.off(s.default.support.transition.end),m.call(e)},500);this.$element.one(s.default.support.transition.end,function(){clearTimeout(t),m.call(e)})}.call(this):m.call(this))}},s.default.fn.modal=function(o){return this.each(function(){var e=(0,s.default)(this),t=e.data("modal"),n=s.default.extend({},s.default.fn.modal.defaults,e.data(),"object"==l(o)&&o);t||e.data("modal",t=new h(this,n)),"string"==typeof o?t[o]():n.show&&t.show()})},s.default.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.default.fn.modal.Constructor=h,(0,s.default)(function(){(0,s.default)("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=(0,s.default)(this),o=(0,s.default)(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("modal")?"toggle":s.default.extend({},o.data(),n.data());e.preventDefault(),o.modal(i)})});function _(e,t){this.init("tooltip",e,t)}_.prototype={constructor:_,init:function(e,t,n){var o,i;this.type=e,this.$element=(0,s.default)(t),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(i="hover"==this.options.trigger&&/iphone|ipad/i.test(navigator.userAgent)?(o="touchstart","touchend"):(o="hover"==this.options.trigger?"mouseenter":"focus","hover"==this.options.trigger?"mouseleave":"blur"),this.$element.on(o,this.options.selector,s.default.proxy(this.enter,this)),this.$element.on(i,this.options.selector,s.default.proxy(this.leave,this))),this.options.selector?this._options=s.default.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=s.default.extend({},s.default.fn[this.type].defaults,e,this.$element.data())).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t=(0,s.default)(e.currentTarget)[this.type](this._options).data(this.type);if(!t.options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=(0,s.default)(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,n,o,i,a,r;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(a),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),o=e[0].offsetWidth,i=e[0].offsetHeight,t?a.split(" ")[1]:a){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-o/2};break;case"top":r={top:n.top-i,left:n.left+n.width/2-o/2};break;case"left":r={top:n.top+n.height/2-i/2,left:n.left-o};break;case"right":r={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(r).addClass(a).addClass("in"),this.$element.trigger(s.default.Event("show"))}},isHTML:function(e){return"string"!=typeof e||"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var e,t=this.tip();t.removeClass("in"),s.default.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){t.off(s.default.support.transition.end).remove()},500),t.one(s.default.support.transition.end,function(){clearTimeout(e),t.remove()})):t.remove(),this.$element.trigger(s.default.Event("hide"))},fixTitle:function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return s.default.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||(0,s.default)(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},s.default.fn.tooltip=function(o){return this.each(function(){var e=(0,s.default)(this),t=e.data("tooltip"),n="object"==l(o)&&o;t||e.data("tooltip",t=new _(this,n)),"string"==typeof o&&t[o]()})},s.default.fn.tooltip.Constructor=_,s.default.fn.tooltip.defaults={animation:!1,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};function b(e,t){this.$element=(0,s.default)(e),this.options=s.default.extend({},s.default.fn.typeahead.defaults,t),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=(0,s.default)(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()}var w,k=(w=/[]/g,function(e){var t={"":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"n","":"o","":"o","":"o","":"o","":"o","":"oe","":"u","":"u","":"u","":"u","":"y","":"y"};return e.replace(w,function(e){return t[e]})});b.prototype={constructor:b,select:function(){var e=this.$menu.find(".active").attr("data-value");return e&&0<e.length?this.$element.val(this.updater(e)).change():this.$element.val(),this.$element.trigger("ta_select"),this.hide()},updater:function(e){return e},show:function(){var e=s.default.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight}),t={top:e.top+e.height,left:e.left};return this.options.matchWidth&&(t.width=this.$element.width()),this.$menu.css(t),this.$menu.show(),this.shown=!0,this.$element.trigger("menued"),this},hide:function(){return this.$menu.hide(),this.shown=!1,this.$element.trigger("unmenued"),this},lookup:function(e){var t,n=this;return this.query=this.$element.val(),this.query?(t=s.default.grep(this.source,function(e){return n.matcher(e)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~k(e.toLowerCase()).indexOf(k(this.query.toLowerCase()))},sorter:function(e){for(var t,n=[],o=[],i=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?o.push(t):i.push(t):n.push(t);return n.concat(o,i)},highlighter:function(e){var t=k(e.toLowerCase()),n=k(this.query.toLowerCase()).replace(/\[|\]|\{|\}/g,function(e){return"\\"+e});t=t.replace(new RegExp("("+n+")","ig"),function(e,t){return"<strong>"+t+"</strong>"}),e=e.split("");for(var o=new RegExp("<strong>("+n+")</strong>","ig"),i=0,a=0,r=0,s=[];s=o.exec(t);){var l=o.lastIndex-s[0].length-i+a;i+=s[0].length,e.splice(r+l,0,"<strong>"),r+=1,e.splice(r+l+s[1].length,0,"</strong>"),r+=1,a+=1}return e=e.join("")},render:function(e){var n=this;return e=(0,s.default)(e).map(function(e,t){return(e=(0,s.default)(n.options.item).attr("data-value",t)).find("a").html(n.highlighter(t)),e[0]}),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=(0,s.default)(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("keypress",s.default.proxy(this.keypress,this)).on("keyup",s.default.proxy(this.keyup,this)),this.options.ignore_blur||this.$element.on("blur",s.default.proxy(this.blur,this)),this.eventSupported("keydown")&&this.$element.on("keydown",s.default.proxy(this.keypress,this)),this.$menu.on("click",s.default.proxy(this.click,this)).on("mouseenter","li",s.default.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if("keydown"!=e.type)break;e.preventDefault(),this.prev();break;case 40:if("keydown"!=e.type)break;e.preventDefault(),this.next()}e.stopPropagation()}},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.$element.data("has_blurred",!0),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),(0,s.default)(e.currentTarget).addClass("active")}},s.default.fn.typeahead=function(o){return this.each(function(){var e=(0,s.default)(this),t=e.data("typeahead"),n="object"==l(o)&&o;t||e.data("typeahead",t=new b(this,n)),"string"==typeof o&&t[o]()})},s.default.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:!0,matchWidth:!1},s.default.fn.typeahead.Constructor=b,(0,s.default)(function(){(0,s.default)("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var t=(0,s.default)(this);t.data("typeahead")||t.typeahead(t.data())})});function C(e,t){this.options=s.default.extend({},s.default.fn.affix.defaults,t),this.$window=(0,s.default)(window).on("scroll.affix.data-api",s.default.proxy(this.checkPosition,this)).on("click.affix.data-api",s.default.proxy(function(){setTimeout(s.default.proxy(this.checkPosition,this),1)},this)),this.$element=(0,s.default)(e),this.checkPosition()}C.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,t=(0,s.default)(document).height(),n=this.$window.scrollTop(),o=this.$element.offset(),i=this.options.offset,a=i.bottom,r=i.top;"object"!=l(i)&&(a=r=i),"function"==typeof r&&(r=i.top()),"function"==typeof a&&(a=i.bottom()),e=!(null!=this.unpin&&n+this.unpin<=o.top)&&(null!=a&&o.top+this.$element.height()>=t-a?"bottom":null!=r&&n<=r&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}};s.default.fn.affix;s.default.fn.affix=function(o){return this.each(function(){var e=(0,s.default)(this),t=e.data("affix"),n="object"==l(o)&&o;t||e.data("affix",t=new C(this,n)),"string"==typeof o&&t[o]()})},s.default.fn.affix.Constructor=C,s.default.fn.affix.defaults={offset:0}},73:function(e,t,n){"use strict";n(0);var o={get:function(e){var t=e[0];if(t){if(t.selectionStart)return t.selectionStart;if(!document.selection)return 0;var n,o=Global.octalCursorChar,i=document.selection.createRange(),a=i.duplicate();return a.moveToElementText(t),i.text=o,n=a.text.indexOf(o),i.moveStart("character",-1),i.text="",n}},set:function(e,t,n){var o=e[0];if(n=n||t,o)if(o.createTextRange){var i=o.createTextRange();i.move("character",t),i.select()}else o.selectionStart?(o.focus(),o.setSelectionRange(t,n)):o.focus()},insert:function(e,t,n){var o=e[0];o&&(document.selection?(o.focus(),sel=document.selection.createRange(),sel.text=t):o.selectionStart||"0"==o.selectionStart?o.value=o.value.substring(0,n)+t+o.value.substring(n,o.value.length):o.value+=t)}};e.exports=o},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormData=function(n){var o={};return["input:not([type=radio], [type=checkbox])","input[type=checkbox]:checked","input[type=radio]:checked","input[type=checkbox]:selected","select, textarea, button"].reduce(function(e,t){return e.add(n.find(t))},(0,i.default)()).each(function(e,t){var n=t.name||"";0<n.length&&(o[n]&&o[n]!==t.value?o[n]instanceof Array?o[n].push(t.value):o[n]=[o[n],t.value]:o[n]=t.value)}),o};var o,i=(o=n(0))&&o.__esModule?o:{default:o}},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(a){return new Promise(function(i){Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,143,7)).then(function(o){Promise.all([Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,624,7)),Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,625,7)),Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,626,7)),Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,627,7)),Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,160,7)),Promise.all([n.e(68),n.e(24)]).then(n.t.bind(null,628,7))]).then(function(){var e=a.$textarea.parents(".codex-textarea");a.$editor.html(""),e.find(".CodeMirror").remove(),a.$editor.append(e),e.removeClass("hide");var t=a.$editor.parents(".codex-container").data("allow-notes-editor"),n=o.default.fromTextArea(a.$textarea[0],{lineNumbers:!0,indentUnit:4,styleActiveLine:!0===t,mode:r[a.language],theme:"clouds",extraKeys:{Tab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")},"Shift-Tab":function(e){e.indentSelection("subtract")}}});n.brilliant={},i({cm:n,initialCode:a.initialCode,initialLanguage:a.initialLanguage})})})})},t.isUnchanged=function(e,t){var n=e.cm.getValue()===e.initialCode,o=parseInt(t,10)===e.initialLanguage;return n&&o},t.setReadOnly=function(e){e.cm.setOption("readOnly",!0)},t.onChange=function(e,t){e.cm.on("change",t)},t.getValue=function(e){return e.cm.getValue()},t.setValue=function(e,t){e.cm.brilliant.isEditing=!0,e.cm.setValue(t),e.cm.brilliant.isEditing=!1},t.getCursor=function(e){return e.cm.getCursor()},t.setCursor=function(e,t){e.cm.setCursor(t)},t.focus=function(e){e.cm.focus()},t.setLanguage=function(e,t){e.cm.setOption("mode",r[t])},t.initNoteEditor=function(e,t){return new i.CodexNoteEditor({cm:e.cm,$notesElement:t})},t.initNotes=function(e,t){var n={state:e,$container:t};if(o.isAndroid&&o.appVersion&&o.appVersion.isGreaterThanOrEqualTo("4.2.0"))return new i.CodexNotesDisplayHandlerAndroid(n);if(o.isMobile||o.isNative)return new i.CodexNotesDisplayHandlerMobile(n);return new i.CodexNotesDisplayHandlerBase(n)},t.initDeemphasizeEditor=function(e){var t=e.state,n=e.$deemphasizeField,o=e.$deemphasizeContainer;return new a.CodexDeemphasizerEditor({cm:t.cm,$deemphasizeField:n,$deemphasizeContainer:o})},t.initDeemphasize=function(e){var t=e.state,n=e.data,o=e.envId,i=e.initialCode;return new a.CodexDeemphasizer({cm:t.cm,data:n,envId:o,initialCode:i})};var o=n(1),i=n(130),a=n(131),r={0:"python",1:"shell",2:"clike",3:"rust",4:"qsharp"}},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODEX_LINE_HEIGHT=void 0;t.CODEX_LINE_HEIGHT=18},77:function(e,t,n){"use strict";var c=g(n(0)),d=g(n(4)),a=g(n(43)),r=g(n(19)),s=g(n(128)),u=n(37),f=n(1),o=i(n(30)),l=n(11),p=i(n(15)),h=n(31),m=n(17),v=n(45);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y={};function _(e){var t=null,n=null;if(e.length&&e.hasClass("comment-form-placeholder")||(e=e.find(".comment-form-placeholder")).length){var o=(0,f.jqGetElemById)("comment-form-template");t=d.default.template(o.text());var i=p.getParamsObject();i.sort&&(n=i.sort);var a=e.data();n&&a.formUrl.indexOf("sort="+n)<0&&(a.formUrl=p.appendGetParam(a.formUrl,"sort",n)),a.formId="discussion_comment_form_id_",a.formIdParentId?a.formId+="parent_id_"+a.formIdParentId:a.commentId?a.formId+="comment_"+a.commentId:a.postId?a.formId+="post_"+a.postId:a.formId+="unknown",a.formIdParentId?a.autosaveKey="comment-for-"+a.formIdParentId:a.commentId?a.autosaveKey="comment-"+a.commentId:a.autosaveKey="top-comment-for-"+a.postId;var r=e.find(".errorlist").get(0);r&&(a.errors=r.outerHTML),a=d.default.extend({},{version:1,commentId:null,formIdParentId:null,parentId:null,topLevelDiscCommentForm:!1,paramKey:null,commentText:"",isEditingThis:!1,commentFormSuccess:!1,errors:"",commentUserIsStaff:!1,commentUserName:null},a);var s=(0,c.default)(t(a)),l=e.parent();e.replaceWith(s),y.init(),(0,m.initGenericControllers)(l),d.default.defer(function(){l.find("form").off("submit"),(0,u.initAutosubmit)(l)}),r&&s.find("textarea:visible").focus()}}function b(e){var t=(0,f.jqGetElemById)("voting_div_for_comment_".concat(e)),n=0<t.find(".vote-up.voted").length,o=0<t.find(".vote-down.voted").length;return n?"True":o?"False":"None"}y.hitPreviewSolution=!1,y.editEvents=function(e){var i=".cmmnt, .discsol-post",t="click.commentediting";e.find(".edit-link .action").on("click",function(){var e=(0,c.default)(this),t=e.find(".dropdown-menu"),n=t.outerWidth()<e.offset().left+e.outerWidth()+10;t.toggleClass("pull-right",n)}),(0,f.jqOffOn)(e.find(".edit-comment-trigger"),t,function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget).parents(i);_(t),t.addClass("editing"),t.find(".comment-form").removeClass("previewing");var n=t.find("textarea:visible");k(n),n.trigger("focus"),(0,v.mentionsAndWikiLinks)(n),(0,a.default)(n);var o=t.find("fieldset");s.default.setVal(o)}),(0,f.jqOffOn)(e.find(".cancel-edit-trigger"),t,function(e){e.preventDefault(),(0,c.default)(e.currentTarget).parents(i).removeClass("editing focused replying")}),(0,f.jqOffOn)(e.find(".delete-trigger"),t,function(e){e.preventDefault(),(0,c.default)(e.currentTarget).parents(i).addClass("deleting")}),(0,f.jqOffOn)(e.find(".delete-cancel-trigger"),t,function(e){e.preventDefault(),(0,c.default)(e.currentTarget).parents(i).removeClass("deleting")}),e.find(".saved").delay(5e3).fadeOut(200,function(){(0,c.default)(this).remove()})},y.expander=function(e){e.find(".discsol-post .desc, .discsol-post .cmmnt .text").each(function(){var e=(0,c.default)(this);e.innerWidth()!==e[0].scrollWidth&&e.addClass("scrollable")})};function w(e,t){var n=e.data("vote-count")+t;e.toggleClass("voted",0<t),e.data("vote-count",n),e.find(".count").html(n),e.blur()}var k=function(e){(0,f.jqOffOn)(e,"mentions.show",function(){e.parents(".cmmnt").addClass("mentions-active")}),(0,f.jqOffOn)(e,"mentions.hide",function(){e.parents(".cmmnt").removeClass("mentions-active")})};y.events=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.$body,e=t.find(".comment-form").not("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id");e.each(function(e,t){var i=(0,c.default)(t);i.find("textarea:visible").each(function(e,t){var n=(0,c.default)(t);k(n),(0,v.mentionsAndWikiLinks)(n);function o(){(0,a.default)(n),i.addClass("focused"),setTimeout(function(){n.trigger("autosize.resize")},100)}n.val()?o():n.one("input",function(){o()})})}),(0,v.mentionsAndWikiLinks)(e.filter(".previewing").find("textarea"));var n=e.find(".comment-form-buttons");(0,f.jqOffOn)(n.find(".preview"),"click.previewlink",function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget),n=t.parents("form");t.parents(".comment-form-buttons").addClass("dim"),(0,r.default)("discussions_comments").form(n.get(0),{preview_comment:!0})}),(0,f.jqOffOn)(n.find(".edit"),"click.editlink",function(e){e.preventDefault(),(0,c.default)(e.currentTarget).parents(".comment-form").removeClass("previewing"),y.events(t)}),n.find("[type=submit]").on("click",function(){(0,c.default)(this).parents(".comment-form-buttons").addClass("dim")}),t.find(".cmmnt").each(function(){var e=(0,c.default)(this),t=e.next(".cmmnt-container"),n=t.find(".reply-form-wrapper"),o=e.find(".show-replies"),i=e.find(".hide-replies"),a=e.find(".reply-unhide-link");o.on("click",function(){e.addClass("expanded"),t.removeClass("hide"),n.hasClass("replying")||a.removeClass("hide"),!0===o.data("show-all-replies")&&e.parents(".cmmnt-container").addClass("show-all-replies")}),i.on("click",function(){e.removeClass("expanded"),t.addClass("hide"),a.addClass("hide")})}),t.find(".cmmnt:not(.solution)").each(function(e,t){var r=(0,c.default)(t);(0,f.jqOffOn)(r.find(".reply-unhide-link"),"click.unhidereply",function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget),n=r.data("comment"),o=(0,c.default)("div.unhide_new_reply_".concat(n));if(_(o),o.toggleClass("replying"),o.hasClass("replying")){t.addClass("hide");var i=o.find("textarea");k(i),(0,v.mentionsAndWikiLinks)(i);var a=o.find("fieldset");s.default.setVal(a),i.trigger("focus"),o.find(".cancel-edit-trigger").one("click",function(){t.removeClass("hide")}),0<t.closest(".qanda-comments").length&&t.closest(".comment-content").find(".show-replies").trigger("click")}})});var o=t.find(".discsol-post").find(".reply-unhide-link");(0,f.jqOffOn)(o,"click.comments",function(e){var t=(0,c.default)(e.currentTarget).parents(".discsol-post").next(".discsol-comments");t.toggleClass("hide-form"),t.hasClass("hide-form")||(0,v.mentionsAndWikiLinks)(t.find(".top-level-comment-form textarea"))}),t.find(".cmmnt .text").each(function(){var e=(0,c.default)(this),t="preface-html",n=e.data(t);n&&((0,c.default)("p:first",e).prepend((0,c.default)(n)),e.removeAttr("data-"+t).removeData(t))}),(0,f.jqOffOn)(e.find("textarea"),"focus.commentform",function(e){var t=(0,c.default)(e.currentTarget).parents(".comment-form");t.addClass("focused"),(0,a.default)(t.find("textarea:visible"))}),function(e){var t=(0<arguments.length&&void 0!==e?e:f.$body).find(".cmmnt");(0,f.jqOffOn)(t.find(".vote"),"click.commentvote",function(e){var t=(0,c.default)(e.currentTarget),n=t.parents(".voting"),o=n.find(".vote-up"),i=n.find(".vote-down"),a=n.data("action_url"),r=n.data("comment_id"),s=b(r),l=t.hasClass("vote-up")?"True":"False";s==l&&(l="None"),c.default.ajax({type:"POST",url:a,data:{comment_id:r,vote:l}}).fail(h.errorModalHandler).then(function(e){var t=b(r);t!=e.vote&&("None"==e.vote?w("True"==t?o:i,-1):"True"==e.vote?(w(o,1),"False"==t&&w(i,-1)):"False"==e.vote&&(w(i,1),"True"==t&&w(o,-1)))})})}(),this.editEvents(t.find(".disc-comments")),t.find(".top-level-comment-form,.cmmnt.editing,.reply-form-wrapper.replying").each(function(){_((0,c.default)(this))})},y.subscribe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.$body;(0,f.jqOffOn)(e.find("a.discussions_subscribe"),"click.dscsubscr",function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget),n=t.parents("form"),o=n.find("input[type=checkbox]"),i=!t.hasClass("subscribed"),a=n.data(),r=n.parents(".disc-post");if(t.parents(".wiggle").removeClass("wiggle"),0===r.length&&(r=(0,c.default)(".disc-comments-list")),o.prop("checked",i),n.trigger("submit"),!i){var s=r.find(".comment-subscr[data-subscribed=true]");0<s.length&&(0,l.showConfirmationModal)({title:a.confirmModalTitle,text:a.confirmModalText,cancelBtnText:a.confirmModalCancel,confirmBtnText:a.confirmModalOk}).then(function(e){e&&s.each(function(e,t){(0,c.default)(t).trigger("submit")})})}})},y.expandThreadsFor=function(e){e.parents(".cmmnt-container").prev(".cmmnt").find(".show-replies").trigger("click")},y.formattingGuideLink=function(t){var n,o;t.on("click",function(e){e.preventDefault(),n=n||t.data(),(o=o||(0,c.default)(n.target)).fadeToggle(100,function(){o.is(":visible")&&l.Anchors.scrollToTarget(o)})})},y.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.$body;this.events(e),this.votes(e),this.subscribe(e),this.expander(e),o.scaleSVG(e.find(".latexprocessor-block, .latexprocessor-inline"))},y.votes=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.$body).find(".discsol-vote").not(".inited").not(".disabled");e.addClass("inited"),e.on("click",function(){var n=(0,c.default)(this),o=n.data(),e="True"===o.currentVote?"None":"True";n.hasClass("disabled")||(n.addClass("disabled"),c.default.ajax({type:"POST",url:o.actionUrl,data:{post_id:o.postId,vote:e}}).fail(h.errorModalHandler).then(function(e){if(n.removeClass("disabled"),e.success){"True"===e.vote?(n.addClass("voted"),o.count++):(n.removeClass("voted"),o.count--),n.data("current-vote",e.vote);var t=n.find(".vote-count");t.length?t.find(".count").html(o.count):n.find(".count").html(o.count)}}))})},y.add_form=function(){var e=(0,f.jqGetElemById)("new_post_form_id").add("#new_solution_form_id").add("#new_dispute_form_id").add("#new_wikifeedback_form_id").add(".edit-solution-form");e.each(function(e,t){var n=(0,c.default)(t),o=n.find(".comment-form-buttons"),i=o.find(".preview"),a=o.find(".edit");(0,f.jqOffOn)(i,"click.dsc",function(e){var t;e.preventDefault(),o.addClass("dim"),n.hasClass("edit-solution-form")?(t={preview_comment:!0},y.hitPreviewSolution=!0):t={preview_post:!0},(0,r.default)("discussions").form((0,f.jqGetElemById)((0,c.default)(e.currentTarget).data("preview_form_id")),t)}),(0,f.jqOffOn)(a,"click.dsc",function(e){e.preventDefault(),n.removeClass("previewing"),(0,v.mentionsAndWikiLinks)((0,c.default)("textarea:visible"))})})},e.exports=y},78:function(e,t,n){"use strict";var _=x(n(0)),v=x(n(4)),b=x(n(43)),r=x(n(127)),w=x(n(19)),U=x(n(7)),o=n(37),G=n(9),s=p(n(44)),l=x(n(35)),F=n(1),m=p(n(30)),R=p(n(34)),i=x(n(171)),g=x(n(28)),c=x(n(129)),H=p(n(15)),V=n(11),h=n(86),d=x(n(77)),a=x(n(59)),y=n(31),k=n(17),C=n(45),u=x(n(88)),f=n(174);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function E(e){return j[e.data("solvable")]||{}}function I(e){if(e.$solversList){var t=e.$solversList;O.recentSolvers(t)}e.$solversContainer&&s.load(e.$solversContainer.children(".cmp-deferred"))}var T,S,O={},j={},q=!1,P=null,A=(S=["solutions","disputes"],function(e,t){if(e=e||"default",t.previousState=t.previousState||null,t.currentState=t.currentState||null,"back"!==e){if(t.$solvable.removeClass(S.join(" ")),i.default.removeBackButton(),e&&0<=S.indexOf(e)&&t.$solvable.addClass(e),"solutions"===e||"disputes"===e){if(N(t,e),"disputes"===e){var n=(0,_.default)(".solv-disputes");F.isMobile&&n.removeClass("hide"),V.Anchors.scrollToTarget(n)}}else"default"!==e||"solutions"!==t.currentState||F.isMobile||V.Anchors.scrollToTarget(F.$body);D(t),M(t),m.updateMathjax(t.$solvable),t.previousState=t.currentState,t.currentState=e,F.$body.trigger(_.default.Event("solvable.statechange",t))}else A(t.previousState,t)});O.setStateForSolvable=function(e,t){A(t=t||null,E(e))};var N=function(e,t){e.$solvable=e.$solvable||(0,_.default)(".solv-main");var n=e.$solvable.find("solutions"===t?".solv-solutions":".solv-disputes"),o=e.$solvable.find("#solv-simple-solution-target"),i=n.find(".cmp-deferred");if(e.$solvable.find(".btn-solution.wiggle-less").removeClass("wiggle-less active-green").blur(),e.$solvable.find(".btn-solution.wiggle").removeClass("wiggle").blur(),F.isMobile&&0<o.length)V.Anchors.scrollToTarget(o);else{if("solutions"===t&&F.isMobile&&0===o.length){var a=(0,F.jqGetElemByCmpName)("solutiondiscussions_publicsolvableaddsolutionpost");a.length||(a=(0,F.jqGetElemByCmpName)("solutiondiscussions_publicsolvablesolutionlist")),a.length&&V.Anchors.scrollToTarget(a)}if(0<n.length){i.each(function(e,t){s.add((0,_.default)(t))});var r=e.$solvable.parents("#nf-feeditem-modal");0<r.length&&function(e,t){v.default.defer(s.addCmpsInContainer,e,t),e.on("scroll.deferred",v.default.throttle(function(e){s.addCmpsInContainer((0,_.default)(e.target)||null,t)},50))}(r,i.length),(0,b.default)(n.find("textarea:visible"))}V.Anchors.scrollToTarget((0,_.default)("#solutions-scrollable-container,#disputes-scrollable-container,#solv-simple-solution,#b2-solution").filter(":visible"))}},D=function(e){var t=e.$solvable;m.scaleSVG(t,F.isMobile?.4:void 0)};function M(e){m.scaleSVG(e.$solvable.find(".btn-mcqs"))}function $(e){"solutions"===e.currentState?(e.$solvable.find(".solv-details .btn-solution").removeClass("active"),A("",e),F.$window.trigger(_.default.Event("solution.hide"))):(e.$solvable.find(".solv-details .btn-solution").removeClass("btn-accent").addClass("active"),e.$solvable.find(".esr-problem").addClass("btn-accent active"),A("solutions",e),F.$window.trigger(_.default.Event("solution.show")))}function L(e){var t=j[e.solvable];t.solutionsLoading||(t.solutionsJustLoaded=!0,t.solutionsLoading=!0,(0,w.default)(e.page_key).post(e.postLink,e))}function z(){var e=(0,_.default)(".mcq-edit-form"),t=(0,_.default)(".question-text"),n=(0,F.jqGetElemById)("solvable_title_editor_container");return e.is(":visible")||t.hasClass("previewing")||t.hasClass("editing")||n.hasClass("editing")}O.solvable=function(e){var t=e,n=t.data("solvable"),o=j[n]||{};o.$solvable=t,o.data=(0,F.jqGetElemById)("solvable-data").data(),o.solvableDidOnload=!0===o.solvable,o.currentState=null,o.previousState=null,j[n]=o,(0,F.jqGetElemById)("direct-link-input").on("click",function(e){e.stopPropagation(),(0,_.default)(e.currentTarget).select()}),D(o),o.solutionsJustLoaded?(j[n].solutionsJustLoaded=!1,o.solutionsJustLoaded=!1,A("solutions",o)):o.disputesJustLoaded?((0,_.default)(".dispute-disc-modal, .reveal-disputes-modal").modal("hide"),j[n].disputesJustLoaded=!1,o.disputesJustLoaded=!1,A("disputes",o)):F.isMobile&&F.userIsAuthenticated&&o.$solvable.find("#solv-simple-solution").length&&A("solutions",o),m.updateMathjax(t.find(".uses-latex, .latex")),!0!==o.solvableDidOnload&&(j[n].solvableDidOnload=!0,d.default.add_form(),d.default.votes());var i=t.data("ir-verification");if(i&&!i.preventUpdate){var a=t.find(".solv-details"),r=i.canStillAnswer===!a.hasClass("endstate"),s=i.answerIsCorrect===a.hasClass("correct"),l=i.attemptNumber===t.find("#attempt-number").data("attempt-number");r&&s&&l||U.default.track("instant response mismatch",{solvable:n,answer:encodeURIComponent(i.answer),url:window.location.href,"endstate mismatch":!r,"correct/incorrect state mismatch":!s,"attempt number mismatch":!l}),t.removeData("ir-verification")}},O.solvableRedesign=function(e){var t=e.data("solvable"),n=j[t]||{};n.$solvable=e,n.data=(0,F.jqGetElemById)("solvable-data").data(),n.solvableDidOnload=!0===n.solvable,n.currentState=null,n.previousState=null,j[t]=n,d.default.add_form(),d.default.votes(),e.find(".sharing-dd .dropdown-menu").on("click",function(e){e.stopPropagation()}),e.find(".bsharing-link").on("click",function(){(0,_.default)(this).parents(".dropup").removeClass("open")}),e.find(".direct-link").on("click",function(){(0,_.default)(this).find("input").select()}),"solutions"!==n.currentState&&!n.$solvable.hasClass("solutions")||(n.currentState="solutions",n.$solvable.find(".solv-details .btn-solution").first().addClass("active")),(0,f.images)(e),O.cropActionsMenu(e);var o=(0,_.default)(".solv-signed-up");if(o.length){var i=o.offset().top+o.outerHeight(),a=n.$solvable.find(".solv-details").offset().top;(0,F.setScrollPosition)(a-i-2*F.mediumPadding)}},O.editableTitle=function(o){var e=o.find(".edit-title-link");if(null!==o&&o.length&&null!==e&&e.length){var t=o.find(".cancel-edit-link");e.on("click",function(){if(z()){var e=o.data(),t=e.errorTitle,n=e.errorContent;(0,V.showGenericModal)(t,n)}else o.addClass("editing")}),t.on("click",function(){o.removeClass("editing")})}},O.solversInit=function(e){(j[e.data("solvable")].$solversContainer=e).find(".cmp-deferred").length?I(E(e)):e.appendTo((0,F.jqGetElemByCmpName)(e.data("cmp-target"))).removeClass("hide")},O.answerFormWrapper=function(t){var n=t.find("input#id_answer");if(n.length){var e=function(){var e=""===n.val().trim();t.find(".btn-submit").prop("disabled",e).toggleClass("disabled",e)};n.on("input",e),e()}v.default.defer(function(){var e=E(t);t.find("form").on("submit",function(){e.$solvable.find(".spinner").addClass("active")}),F.isMobile?-1!==navigator.userAgent.indexOf("Android 4.0")&&t.find("#id_answer").on("focus",function(){var t=(0,_.default)(this);setTimeout(function(){var e=t.offset().top-20;0<e&&(0,F.setScrollPosition)(e)},500)}):t.data("disable-auto-focus")||t.find("#id_answer").select(),M(e)})},O.loggedOutForm=function(b){function w(){var e="";if(l){var t=[];q.each(function(e){(0,_.default)(this).is(":checked")&&t.push(e+1)}),e=t.join("|")}else if(!P&&a.length)e=a.val();else if(q.length){var n=q.filter(":checked");e=n.length?n.val():""}return e.trim()}function k(e,t){if(e){var n=-1===e.indexOf("%3F")?"?":"&";return e+encodeURIComponent(n+t)}}function n(e,t,n){if(F.$body.hasClass("hundredday-page")){var o=(0,F.jqGetElemById)("solv-main");o.css({height:o.outerHeight()}),r.appendTo(F.$body),(0,F.jqOffOn)(r.find(".modal-bg"),"click.modalhack",function(){o.css("height","auto"),r.insertAfter(".solv-problem")})}!function(e,t){e.preventDefault();var n=w(),o={},i={},a=N,r=D,s=M,l=$,c=L,d=z;U.default.track("ui",{action:"click",element_type:"button",element_id:"logged_out_solvables_"+t});var u=isNaN(parseFloat(n));if(C.removeClass("text-answer alt show-form"),n.length){if(0<=n.indexOf("|"))j.text("Those choices");else if(P&&R.textContainsUnrenderedMath(n)){var f=q.filter(function(){return this.value===n}).parents(".btn-mcq").children("span").html();j.html(f)}else j.text(n.replace(/__replace_plus__/g,"+").replace(/__rep_perc__/g,"%").replace(/__rep_ques__/g,"?"));o.attempt=encodeURIComponent(n),i.attempt=encodeURIComponent(n),S.add(O).data("attempt",n),S.add(O).attr("data-attempt",n),u&&C.addClass("text-answer")}else B&&b.find("[name=answered]").prop("checked")||C.addClass("alt"),n="no-input";if(a=a&&a.replace("try-value-value",encodeURIComponent(n)),r=r&&r.replace("try-value-value",encodeURIComponent(n)),s=s&&s.replace("try-value-value",encodeURIComponent(n)),l=l&&l.replace("try-value-value",encodeURIComponent(n)),c=c&&c.replace("try-value-value",encodeURIComponent(n)),d=d&&d.replace("try-value-value",encodeURIComponent(n)),A.isQuiz||A.isDailyProblem){var p=A.solvableSlug?"problem=".concat(A.solvableSlug):null,h="attempt=".concat(n),m=p?"".concat(p,"&").concat(h):h;a=k(a,m),r=k(r,m),s=k(s,m),l=k(l,m),c=k(c,m);var v="";-1==d.indexOf("problem=")&&(v+="problem="+A.solvableSlug,-1==d.indexOf("attempt=")&&(v+="&")),-1==d.indexOf("attempt=")&&(v+="attempt="+encodeURIComponent(n)),d=k(d,v)}if(A.topicTag&&(o.topic_tag=A.topicTag,i.topic_tag=A.topicTag,a=k(a,"topic_tag="+A.topicTag),r=k(r,"topic_tag="+A.topicTag),s=k(s,"topic_tag="+A.topicTag),l=k(l,"topic_tag="+A.topicTag),S.add(O).data("topic_tag",A.topicTag),S.add(O).attr("data-topic_tag",A.topicTag)),c){var g=c.match(/next=(.*)/);g.length&&(S.data("next",g[1]),S.attr("data-next",g[1]),S.data("already_escaped",!0),S.attr("data-already_escaped",!0))}if(d){var y=d.match(/next=(.*)/);if(y.length){var _=decodeURIComponent(y[1]);O.data("next",_),O.attr("data-next",_)}}x.attr("href",H.appendGetParams(a,o)),E.attr("href",H.appendGetParams(r,o)),I.attr("href",H.appendGetParams(s,o)),T.attr("href",H.appendGetParams(l,o)),S.attr("href",H.appendGetParams(c,i)),O.attr("href",H.appendGetParams(d,i))}(e,t),(0,F.jqGetElemById)("nf-modal-close").hide(),r.addClass("open"),m.scaleSVG(j),a.blur();var i=r.find("#public-signup-tour");i.length&&!i.data("already-opened")&&(i.data("already-opened",!0),i.attr("data-already-opened",!0),U.default.track("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:!0,is_last_step:!1})),n&&r.on("click",function(){r.removeClass("open")})}function t(e,t){c?setTimeout(function(){n(e,t,!1)},1e4):n(e,t,!0)}function o(e){if(c){var t=b.parents(".solv-main").find("#solv-simple-solution");t.show(),e&&V.Anchors.scrollToTarget(t)}}var a=b.find(".logged-out-answer"),i=b.parents(".solv-details,.solv-details-loggedout").find(".logged-out-solution"),r=(0,F.jqGetElemById)("solv-public-signup"),C=r.find(".public-signup-right"),x=r.find("#signup-fb"),E=r.find("#login-fb"),I=r.find("#signup-google"),T=r.find("#login-google"),S=r.find("#signup-email, #problem-signup-link-alternative"),O=r.find("#problem-login-link, #problem-login-link-alternative"),j=r.find("#public-answer"),s=b.find(".btn-mcq"),q=b.find("[name=logged-out-mcq]"),P=b.hasClass("mcq-form"),l=b.hasClass("multi-select"),A=b.data(),N=x.attr("href"),D=E.attr("href"),M=I.attr("href"),$=T.attr("href"),L=S.attr("href"),z=O.attr("href"),c=!0===A.delayedSignup,B=A.interactive,d=!1;b.on("submit",function(e){e.preventDefault(),t(e,"submitted_form"),o(),w()&&c&&!d&&(d=!0,U.default.track("ui",{element_id:"viewed_logged_out_answer_sponsored"}))}),(0,F.jqOffOn)(i,"click",function(e){a.val(""),s.removeClass("active dim"),q.filter(":checked").prop("checked",!1),t(e,"clicked_solution_btn"),c&&(e.preventDefault(),o(!0),b.data("viewed-solution",!0),b.submit(),U.default.track("ui",{element_id:"viewed_logged_out_solution_sponsored"}),i.fadeOut(100))}),F.$body.on(G.EVT_QUIZ_POSITION_DID_CHANGE,function(){(0,_.default)(".logged-out-solution").removeClass("dim disabled").removeAttr("disabled")})},O.preventSocialButtonDoubleClick=function(e){e.find(".signup-social").on("click",function(e){var t=(0,_.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},O.mcqForm=function(t){function o(){var e=t.find("input:checked").length<=0;t.find(".btn-submit").prop("disabled",e).toggleClass("disabled",e)}var i=t.find("label");i.on("click",function(){var e=(0,_.default)(this),t=e.find("input"),n=t.val()||null;null!==n&&(t.prop("checked",!0),i.removeClass("active dim"),e.addClass("active"),T=n.replace(/__replace_plus__/g,"+")),o()}),o()},O.multiSelectForm=function(t){function i(){var e=t.find("input:checked").length<=0;t.find(".btn-submit").prop("disabled",e).toggleClass("disabled",e)}t.find("label").on("click",function(e){e.preventDefault();var o=(0,_.default)(this);setTimeout(function(){var e=o.find("input"),t=e.val()||null,n=e.is(":checked");null!==t&&(n?(e.prop("checked",!1),o.removeClass("active")):(e.prop("checked",!0),o.addClass("active")),i())})}),i()},O.answerForm=function(h){var m=h.find("#id_answer");h.on("submit",function(e){e.preventDefault();var t=h.attr("id"),n="mcq-form"===t,o="text_answer_entry_form"===t,i=m.val(),a=m.data("placeholder");if(q&&0===P&&(n||o&&""!==i&&i!==a))(0,F.jqGetElemById)("solv-public-form").addClass("open");else{var r=(0,w.default)(h.find("#id_page_key").val()),s=h.parents(".solv-main"),l=h.parents(".solv-details").clone(),c=!1,d=0,u=function(e){d&&!c&&(c=!0,U.default.track("ui",{element_id:"solvable_answer_resend",resend_count:d,resend_successful:e,resend_total_time:500*d}))},f=function(){s.find(".solv-details").replaceWith(l),s.find(".b2-solution").hide(),s.removeClass("solutions"),l.find(".spinner").removeClass("active"),l.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),(0,k.initGenericControllers)(l)},p=r.success;r.success=function(){p.apply(r,arguments),u(!0)},r.error=function(e,t){0===e.status?function(e){d<120?(d++,setTimeout(function(){r.post(e.url,e)},500)):((0,V.showGenericModal)("Error",h.data("max-resend-error")),f(),u(!1))}(t):"timeout"===e.statusText?((0,y.showTimeoutErrorModal)(),f()):0<e.status&&((0,y.errorModalHandler)(e),f())},v.default.defer(function(e){var t=s.data("ir-verification"),n={};try{t.preventUpdate?n.instant_response_check="cant_tell":n.instant_response_check=t.answerIsCorrect?"correct":"incorrect",n.instant_response_problem_completed=t.canStillAnswer?"no":"yes",n.instant_response_tries_left=t.triesLeft}catch(e){}r.form(e,n)},h.clone())}})},O.interactiveSolvable=function(i){function a(){return F.userIsAuthenticated?i.find("#solv-interactive-form"):i.find(".solv-form-logged-out")}var e="InteractiveProblem.".concat(i.data("solvable"));(0,F.jqOffOn)(F.$window,"".concat(e,".export-state"),function(e,t){i.find("[name=current_state]").val(JSON.stringify(t.state))}),(0,F.jqOffOn)(F.$window,"".concat(e,".check-answer"),function(e,t){var n=t.isSolved;if(F.userIsAuthenticated)i.find("[name=mark_correct]").prop("checked",!0===n),a().submit();else{var o=a();o.find("[name=answered]").prop("checked",!0),o.submit()}}),(0,F.jqOffOn)(F.$window,"".concat(e,".show-explanation"),function(){if(F.userIsAuthenticated)(0,_.default)(".btn-solution-full").trigger(_.default.Event("click"));else{var e=a();e.find("[name=answered]").prop("checked",!1),e.submit()}}),(0,F.jqOffOn)(F.$window,"".concat(e,".continue"),function(){var e=F.userIsAuthenticated?".solv-done-btn":".next-marker-btn";i.find(e).trigger(_.default.Event("click"))})},O.edit=function(r){var a=r.find("form"),t=r.find(".btn-edit"),n=(0,_.default)(".solv-edit-trigger").not(".btn-edit"),e=r.closest(".course-quiz-flex");0===e.length&&(e=r.closest(".solv-main"));var o=e.find(".solvable-mcq-options-btn"),i=e.find(".mcq-edit-form"),s=e.find(".edit-mcq-cancel"),l=r.find(".question-text-preview"),c=r.find(".btn-save"),d=r.find(".cancel-edit"),u=r.find(".question-text-preview-field"),f=r.find(".show-solution"),p=a.find("textarea").not(".codex-textarea textarea"),h="editing",m="previewing",v=r.hasClass(m);o.length||(o=(0,F.jqGetElemById)("answer-edit-trigger"));function g(e){u.val(e.toString()),r.data("previewing",!e)}function y(e){var t=(0,_.default)(e.currentTarget);if(e&&e.preventDefault(),t.is(":not(.is-reedit-trigger)")&&z()){var n=r.data(),o=n.errorTitle,i=n.errorContent;(0,V.showGenericModal)(o,i)}else t.addClass(G.CLASS_NAME_ACTIVE),r.removeClass(m),r.addClass(h),(0,_.default)(window).scrollTop(a.offset().top-150),(0,b.default)(p),(0,C.wikiLinks)(p),g(!0)}d.on("click",function(e){if(e&&e.preventDefault(),v){var a=r.data();(0,V.showConfirmationModal)({title:a.cancelConfirmText}).then(function(e){if(e){var t=a.cmpUrl,n=a.cmpKey,o=a.pageKey,i=a.paramKey;(0,w.default)(o).get(t,{component_key:n,param_key:i})}})}else r.removeClass(h),g(!1),t.add(n).removeClass(G.CLASS_NAME_ACTIVE)}),t.on("click",y),(0,F.jqOffOn)(n,"click",y),r.on("edit",y),r.hasClass(h)&&y(),c.on("click",function(e){if(!("false"===u.val())){var t=r.data();e.preventDefault(),(0,V.showConfirmationModal)({title:t.saveConfirmText}).then(function(e){e&&(g(!1),c.parents("form").trigger("submit"))})}}),o.on("click",function(e){if(e.preventDefault(),z()){var t=r.data(),n=t.errorTitle,o=t.errorContent;(0,V.showGenericModal)(n,o)}else i.siblings().hide(),i.show()}),s.on("click",function(e){e.preventDefault(),i.siblings(":not(script)").show(),i.hide()}),l.on("click",function(e){e.preventDefault(),a.submit()}),a.on("submit",function(){var e=r.data();e.suspended&&e.previewing&&(0,V.showGenericModal)(e.suspendedTitle,e.suspendedText)}),f.on("click",function(e){var t=(0,_.default)(e.target);e.preventDefault(),t.next().toggleClass("hide");var n={action:"staff_only_action",solvable:p[0].classList[0].replace("solvable_question-","")};"Show Solution"===t.html()?(t.html("Hide Solution"),n.element_id="clicked_show_solution"):(t.html("Show Solution"),n.element_id="clicked_hide_solution"),U.default.track("ui",n)})},O.solutionButton=function(i){var a=i.data(),r=E(i);(0,F.jqOffOn)(i,"click.showSolution",v.default.debounce(function(e){if(e.preventDefault(),!i.hasClass("disabled")){var t=(0,_.default)(".solv-solutions");if(F.isMobile&&t.hasClass("expanded")&&(0,F.setScrollPosition)(t.offset().top-(0,_.default)(".m-action-bar").height()),i.data("solutions-loaded"))$(r);else{var n=function(){var e=F.isMobile?i.find(".main"):i;i.addClass("dim").blur(),(0,V.toggleButtonLoadingState)(e,!0),L(a)},o=(0,F.jqGetElemById)("solv-confirm-box");if(o.length)if(F.isMobile){F.$body.append(o),o.show(),v.default.defer(function(){o.addClass("active")}),(0,F.jqOffOn)(o.find(".btn"),"click",function(e){o.removeClass("active"),setTimeout(function(){o.hide()},210),(0,_.default)(e.currentTarget).hasClass("btn-confirm")&&n()})}else n();else n()}}},300)),-1!==window.location.href.indexOf("/solution-comments/")&&"solutions"!==r.currentState&&(i.data("solutions-loaded")?$(r):r.$solvable.find(".solv-details.endstate").length&&L(i.data()))},O.disputeDiscTrigger=function(e){var t=e.data(),n=E(e),o=!1,i=(0,_.default)(".dispute-disc-modal");e.on("click",function(e){e.preventDefault(),t.disputesLoaded?(A("disputes",n),!1===o&&(o=!0,(0,_.default)("#solvable-resend-verification-form").submit())):(i.modal("show"),!1===o&&(o=!0,i.find("#solvable-resend-verification-form").submit()))})},O.staffDisputeDiscForm=function(e){e.on("submit",function(){j[e.data("solvable")].disputesJustLoaded=!0})},O.disputeModalForm=function(e){var t=e.find(".explanation");e.find('input[type="radio"]').on("change",function(){t.hasClass("visible")||(t.addClass("visible"),(0,b.default)(t.find("textarea")))})},O.disputeModalFormEndState=function(e){e.find(".view").on("click",function(){e.find(".view-reports").addClass("loading"),(0,F.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")})},O.revealDisputesModal=function(e){e.on("click",function(){(0,_.default)(".reveal-disputes-modal").clone(!0).modal("show")})},O.revealDisputes=function(e){e.on("click",function(e){(0,_.default)(e.currentTarget).addClass("".concat(G.CLASS_NAME_DISABLED," ").concat(G.CLASS_NAME_LOADING)),(0,F.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")})},O.enterDisputeDiscussionsForm=function(e){e.on("submit",function(){j[e.data("solvable-id")].disputesJustLoaded=!0})},O.deleteForm=function(t){var n=(0,F.jqGetElemById)("stats-delete-btn");n.on("click",function(){var e=t.find("form");t.modal(),n.addClass("hide"),e.on("submit",function(){t.modal("hide")})})},O.reviewedForm=function(t){var n=(0,F.jqGetElemById)("stats-reviewed-btn");n.on("click",function(){var e=t.find("form");t.modal(),n.addClass("hide"),e.on("submit",function(){t.modal("hide")})})};var B,W,K=!(O.mostPopularRecommendedProblem=function(e){var t=(0,_.default)(".recommended-problems .most-popular-recommended-problem");t.length&&t.clone(!0,!0).appendTo(e.empty())});O.NotifyAboutGoodSolution=new function(){var t=this,n=null,o=null,i=null,a=null,r=1e3,s=500;return t.exists=!1,t.controller=function(e){t.exists=!0,o=(n=e).find(".dropdown-toggle"),i=n.find(".dropdown-menu"),F.isMobile?(0,F.jqOffOn)((0,_.default)(".btn-solution"),"click.notifyAboutGoodSolution",function(e){e.preventDefault();var t=n.modal();t.find("button").on("click",function(){t.modal("hide")})}):(o.on("mouseenter",t.show).on("click",function(e){e.preventDefault()}),n.on("mouseleave",function(){a=setTimeout(t.hide,r)}).on("mouseenter",function(){clearTimeout(a)})),i.on("click",function(e){e.stopPropagation()}),n.find("form").on("submit",function(){K=!0,n.addClass("loading")}),K&&(K=!1,t.show())},t.show=function(e){n.hasClass("open")||(n.addClass("open"),i.addClass("open").fadeIn(e||s))},t.hide=function(e){if(n.hasClass("open")){var t=function(){n.removeClass("open"),i.removeClass("open")};i.is(":visible")?i.fadeOut({duration:e||s,complete:t}):(i.hide(),t())}},t.toggle=function(e){n.hasClass("open")?t.hide(e):t.show(e)},t.toggleIcon=function(e){n&&(e?n.show():n.hide())},t},O.cropActionsMenu=function(t){var n=t.find(".solv-actions-dropdown");n.find(".dropdown-toggle").on("click",function(){var e=t.outerHeight(!0)-t.find(".solv-footer").outerHeight(!0);F.isMobile&&(e-=t.find(".solv-details").outerHeight(!0)),n.find(".dropdown-menu").css("max-height",e)})},O.showChapterIntro=function(e){var t=e;e.hasClass("quiz-wrapper")||(t=e.parents(".quiz-wrapper"),e.find(".btn-link").on("click",function(){t.toggleClass("chapter-intro-view")}));var n=t.find(".chapter-intro-wrapper"),o=n.find(".btn-tabs .btn");o.on("click",function(){var e=(0,_.default)(this);e.hasClass("active")||(o.removeClass("active"),e.addClass("active"),n.removeClass("intro quizzes wikis").addClass(e.data("value")))})},O.practiceAnonWrapper=function(e){q=!0,P=e.data("signup_after_n_problems");var t=".prev-marker-btn",n=".next-marker-btn",i=e.find(".prac-anon-item"),o=e.find("".concat(t,", ").concat(n)),a=e.find(".prac-markers"),r=a.find(".prac-marker"),s="visible",l="current",c=1<a.length,d=i.length;function u(e){o.filter(t).toggleClass("disabled",0===e),o.filter(n).toggleClass("disabled",e===d-1)}function f(e){if(!(e<0||d<=e)){u(e),i.removeClass(s).eq(e).addClass(s),c?(r.removeClass(l),(0,_.default)(a[e]).find(".prac-marker").eq(e).addClass(l)):r.removeClass(l).eq(e).addClass(l),F.$body.trigger(G.EVT_QUIZ_POSITION_DID_CHANGE);var t=(0,_.default)(".prac-anon-item.visible .codex-container");t.length&&(0,h.controller)(t)}}if(o.on("click",function(e){e.preventDefault();var t=(0,_.default)(this),n=i.filter("."+s),o=i.index(n);t.hasClass("prev-marker-btn")?o--:t.hasClass("next-marker-btn")&&o++,f(o)}),r.on("click",function(){f((0,_.default)(this).index())}),c){i.length;var p=function(e){return function(){f(r.filter(".current").index()+e)}};(0,V.keyboardNavigation)({left:p(-1),right:p(1)})}u(r.filter(".current").index())},O.practiceAnon=function(e){if(e.hasClass("prac-anon-item")){var t=e.find(".solv-details").not(".course-quiz-solv-details"),n=e.outerHeight();t.css({overflow:"auto"});var o=(0,V.getScrollHeight)(t)+2;t.css({overflow:"hidden"}),n<o&&v.default.defer(function(){t.css({position:"static"})})}},O.nextSkillB2Modal=(B=null,function(e){e.on("click",function(e){e.preventDefault(),null===B?B=(0,F.jqGetElemById)("prac-next-skill-b2").modal():B.modal("show")})}),O.checkAnswerButton=function(o){function t(e){e=!0===e,F.isIos&&F.appVersion.isGreaterThanOrEqualTo("0.9.7")&&(window.location=e?"disableanswerbutton://":"enableanswerbutton://");var t="btn-outline disabled",n="btn-accent";o.removeClass(e?n:t),o.addClass(e?t:n)}var n=E(o).$solvable;v.default.defer(function(){var e=n.find(".btn-mcq");n.find(".mcq-form").removeClass("disable-for-mobile"),e.one("click",t)}),o.on("click",function(){o.hasClass("disabled")||n.find("#mcq-form").submit()})},O.recentSolvers=function(t){var n=(j[t.data("solvable")].$solversList=t).parents(".solv-author").find(".likes-container"),e=t.find(".btn-expand").width();n.css("padding-left",e+14),t.removeClass("hidden"),(0,F.jqOffOn)(t.find("button"),"click",function(){t.toggleClass("expanded");var e=t.find("button:visible").width();n.css("padding-left",e+14)})},vkey.assessment_modal_public_solvable_component=function(e){var t=e.find(".solv-main").data("solvable");j[t]=j[t]||{},j[t].solvableDidOnload=!1,(0,k.initGenericControllers)(e),d.default.add_form(),d.default.votes(),d.default.events(),e.find(".modal-target").each(a.default.modal_events),(0,o.initAutosubmit)(e)},O.assessment_modal_public_solvable_component=vkey.assessment_modal_public_solvable_component,O.levelUpModal=function(e){function t(){e.appendTo(F.$body),e.removeClass("hide"),v.default.defer(function(){e.addClass("in")}),e.find(".close").on("click",function(){e.removeClass("in"),setTimeout(function(){e.addClass("hide")},300)}),(0,F.jqGetElemById)("sidebar-leveled-up-msg").show(),U.default.track("ui",{element_id:e.data("ax-id"),element_type:"modal",action:"displayed"})}var n=(0,F.jqGetElemById)("streak-modal");v.default.defer(function(){n.length?n.on("hide",function(){v.default.defer(t)}):t()})},O.staffBios=function(n){function e(e){if(F.isMobile)i.modal();else{e.stopPropagation();var t=n.data("flag");t&&(l.default.update(t,!0),n.removeData("flag"),n.removeAttr("data-flag")),a=!a,n.toggleClass("bios-visible",a),a?(i.show(),v.default.defer(function(){i.addClass("in")})):(i.removeClass("in"),setTimeout(function(){i.hide()},o))}}var o=null!=n.data("delay")?n.data("delay"):200,i=(0,F.jqGetElemById)("prac-staff-bios"),a=!1;n.find(".bios-hover-trigger").on("mouseenter mouseleave",function(e){n.data("flag")||n.toggleClass("bios-hover")}).on("click",e),n.find(".btn-bios").on("click",e)},O.pracSolutionToggle=(W={},function(n){n.on("click",function(){$(E(n)),n.blur();var e=n.data();if(e.axUrl&&e.targetObjectId&&!W[e.targetObjectId]){var t={element_id:e.axId,source_attempt_id:e.sourceAttemptId,target_object_id:e.targetObjectId,target_object_type:"solution",target_object_referrer:encodeURIComponent(e.targetObjectReferrer)};_.default.get(e.axUrl,t),W[e.targetObjectId]=!0}})}),O.endstate=function(a){var r=a.closest(".solv-main"),s=r.find(".solv-author"),l=r.find(".solv-problem");s.length&&v.default.defer(function(){var e=s.offset().top,n=l.outerHeight(!0),o=r.find(".solv-details").outerHeight(!0);if(n<o){var t=parseInt(l.css("margin-top"),10);n=o,t<0&&(n-=t),l.css("min-height",n)}var i="height";a.find(".potw-solutions-activity").length&&(i="outerHeight"),c.default.stick(a,{bottom:e,handler:function(e){if(e.hasClass("stuck-bottom")){var t=Math.max(n,o)-e[i]();e.css("top",t)}else e.css("top","")},namespace:"sticky-solv-details-endstate"})})},O.autoshowSolutions=function(e){var t=E(e);v.default.defer(function(){t.$solvable.find(".btn-solution[data-controller*=solutionButton]").click(),"replaceState"in window.history&&window.history.replaceState({},"",window.location.href.replace(/[\?|&]just_created=true/,""))})},O.wikiContribModal=function(e){(0,F.jqGetElemById)("wiki-contrib-btn").on("click",function(){e.modal()})},O.previewCustomEndstateText=function(e){e.on("click",function(){(0,F.jqGetElemById)("solv-custom-endstate-preview").toggle()})},O.wikiModalProblem=function(e){a.default.feeditem_modal(),e.find(".load-modal").each(function(){if(F.isNative){var e=(0,_.default)(this).find(".modal-link"),t=e.attr("href");t+=-1===t.indexOf("?")?"?":"&",t+="newwindow=true",e.attr("href",t).attr("target","")}else a.default.modal_events.apply(this,arguments),m.checkOverflow((0,_.default)(this))})},O.wikiExpandableProblem=function(t){var n=t.find(".problem-container");t.on("click",function(e){e.pageY<n.offset().top&&t.toggleClass("expanded")})},O.sendFeedback=function(t){function o(){0<s.length&&0<r.find(".feedback-smiley").length&&(s.removeClass("hide"),l.html("Next quiz"))}var i,n=t.find("textarea"),a=t.find(".btn-accent"),e=t.find(".btn-feedback"),r=t.closest(".no-stars"),s=r.find("#quiz_stats_hider"),l=r.parent().find(".btn-accent.btn.next");(0,F.jqOffOn)(n,"keyup",function(e){n.val()?a.removeClass("disabled"):a.addClass("disabled")}),(0,F.jqOffOn)(e,"click",function(e){(0,_.default)(e.currentTarget).toggleClass("active"),i=e.currentTarget.value});var c=(0,w.default)(t.find("#id_page_key").val()),d=c.success;c.success=function(e,t,n){"up"===i?setTimeout(function(){d.apply(c,[e,t,n]),o()},200):(d.apply(c,[e,t,n]),o())},(0,F.jqOffOn)(t,"submit",function(e){e.preventDefault(),c.form(t,{version:t.find("#id_version").val(),component_key:t.data().cmpKey,thumbs:i})}),0<l.length&&(0,F.jqOffOn)(l,"click",function(e){0<t.find("textarea").length&&(e.preventDefault(),n.val()||n.val(" "),c.form(t,{version:t.find("#id_version").val(),component_key:t.data().cmpKey}))})};function X(e,t){var n=vkey.handle(e,t),o=n.parents(".solv-main"),i=E(o),a=0<o.find(".endstate").length;if(F.$body.toggleClass("endstate",a),i.$solvable=n.parents(".solv-main"),i.solvableDidOnload=!1,j[o.data("solvable")]=i,O.solvable(o),O.solvableRedesign(o),F.isMobile&&O.NotifyAboutGoodSolution.exists&&O.NotifyAboutGoodSolution.toggleIcon(i.data.answerIsCorrect||0===i.data.attemptNumber),function(e,t){if((e=e||(0,_.default)("[data-controller].dim")).length){e.removeClass("dim disabled").removeAttr("disabled"),e.data("solutions-loaded",t);var n=F.isMobile?e.find(".main"):e;(0,V.toggleButtonLoadingState)(n,!1)}}((0,_.default)(".btn-solution.dim,.btn-solution.disabled"),0<(0,_.default)(".solv-simple-solution,.solv-solutions").length),I(i),m.updateMathjax(n),F.isMobile&&!F.$body.hasClass("prac-solvable")){var r=o.find(".btn-solution");(0,_.default)(".solv-details.endstate.correct").length&&r.data("solutions-loaded",!0),!1===r.data("originally-disabled")&&r.removeClass("disabled")}else F.isMobile&&O.solutionButton(o.find(".btn-solution").not(".btn-b2-flag"));if(F.instantTryItYourself&&a){var s=(0,F.jqGetElemById)("cmp_wiki_canonical_page_id");if(s.length){var l=s.find(".summary").data();(0,w.default)(l.pageKey).post(l.cmpUrl,{page_key:l.pageKey,component_key:l.cmpKey})}}var c,d,u=n.find(".mcq.endstate .mcq");if(u.length&&T&&!i.data.canStillAnswer){var f=u.data("registered-choice").toString();f&&T!==f&&g.default.captureMessage("Registered choice does not match the corresponding clicked one",{tags:{"____Clicked.Choice":T,"___Registered.Choice":f,"__Answer.Is.Correct":i.data.answerIsCorrect,"_Problem.Url":window.location.href}})}if(T=null,(F.$body.hasClass("portal-page")||F.$body.hasClass("portal-feed-page"))&&(i.data.answerIsCorrect?(c="correct",d="Correct"):"solutions"===i.currentState?(c="viewed-solution",d="Viewed solution"):i.data.canStillAnswer?0<i.data.attemptNumber&&(c="incomplete",d="Not finished"):(c="incorrect",d="Incorrect"),c||d)){var p=i.$solvable.data("solvable"),h=(0,_.default)('.problems-section .feed-section-row[data-solvable-id="'+p+'"] .icon');c&&h.removeClass("correct viewed-solution incorrect incomplete").addClass(c),d&&h.attr("title",d)}return n}vkey.assessment_public_solvable_logged_in=vkey.hundred_day_challenge_solvable_logged_in=X,vkey.quizzes_remove_solvable_from_quiz=vkey.quizzes_remove_pane_from_quiz=function(e,t){var n=(0,_.default)(e.new_html).find(".target_content_id").val(),o=(0,_.default)(".target_content_id.".concat(n)).closest(".cmp_".concat(t,"_id"));if(0===o.length)window.vkey.handle(e,t);else{var i="".concat(t,"_").concat(n);o.addClass("cmp_".concat(i,"_id")),window.vkey.handle(e,i)}},vkey.quizzes_problemset=function(){var e=X.apply(vkey,arguments);O.cropActionsMenu(e);var t=e.parents(".prac-preload-wrapper");if(t.length&&u.default.practice(t,{reloaded:!0}),F.isMobile){var n=e.find(".b2-solution");n.length&&n.is(":visible")&&0===(0,F.jqGetElemById)("solv-simple-solution").length&&V.Anchors.scrollToTarget(n)}else{var o=(0,F.jqGetElemById)("b2-solution"),i=e.find(".solv-details").hasClass("endstate");if(o.length&&i){var a="auto_scrolled_to_free_solution";!0!==r.default.get(a)&&(V.Anchors.scrollToTarget(o),r.default.set(a,!0))}}!1},vkey.potw_problemset=vkey.potw_problemset_default=vkey.quizzes_problemset;function Y(e,t,n){var o=window.vkey.handle(e,t);m.updateMathjax(o.find(".latex")),d.default.votes(),d.default.add_form(),d.default.subscribe(),o.find(".vote-trigger.with-tooltip").tooltip(),d.default.events(),m.scaleSVG(o.find(".latexprocessor-block, .latexprocessor-inline"));var i=E(o.parents(".solv-main"));N(i,n)}vkey.quizzes_challengesolvablesolutionlist=vkey.potw_solvablesolutionlist=vkey.solutiondiscussions_publicsolvablesolutionlist=function(e,t){Y(e,t,"solutions")},vkey.potw_solvabledisputelist=vkey.quizzes_solvabledisputelist=vkey.disputediscussions_publicsolvabledisputelist=function(e,t){Y(e,t,"disputes")};function J(e,t){var n=window.vkey.handle(e,t);return m.updateMathjax(n.find(".latex")),d.default.add_form(),n}vkey.quizzes_challengesolvableaddsolutionpost=vkey.potw_addsolvabledisputepost=vkey.potw_solvableaddsolutionpost=vkey.quizzes_addsolvabledisputepost=vkey.groups_groupsolvableaddsolutionpost=vkey.solutiondiscussions_publicsolvableaddsolutionpost=vkey.disputediscussions_publicsolvableadddisputepost=J,vkey.disputediscussions_publicsolvableadddisputepostmodal=vkey.potw_addsolvabledisputepostmodal=vkey.quizzes_addsolvabledisputepostmodal=function(){var e=J.apply(vkey,arguments);(0,k.initGenericControllers)(e)},vkey.quizzes_solvabledisputesubscribe=vkey.quizzes_challengesolvablesolutionsubscribe=vkey.disputediscussions_publicsolvabledisputesubscribe=vkey.solutiondiscussions_publicsolvablesolutionsubscribe=function(e,t){vkey.handle(e,t),d.default.subscribe()},vkey.quizzes_interstitial_pane=vkey.admin_edit_interstitial_pane_component=function(e,t){var n=F.$body.data(G.QUIZ_CHAPTER_INTRO_STATE);if(n&&!0===n.active)F.$body.data(G.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:n.numContinuingPanes-1});else{var o,i=vkey.handle(e,t),a=i.parents(".prac-preload-wrapper");if(a.length)Object.values(G.CMP_RELOADING_FLAGS).forEach(function(e){!0===F.$body.data(e)&&(o=!1,F.$body.data(e,!1))}),void 0===o&&(o=!i.find(".solv-pane.is-editing-pane").length&&!(0,F.jqGetElemById)("sales-card").length),u.default.practice(a,{reloaded:!0,useTargetPosition:o});!0}},e.exports=O},781:function(e,t,n){"use strict";var o=n(1),i=n(18);if(n(172),n(19),n(37),n(44),n(339),n(179),n(180),n(382),n(17),n(355),n(134),n(176),n(363),n(360),n(59),n(173),n(362),n(77),n(45),n(175),n(78),n(346),n(181),n(356),n(359),n(31),n(88),n(361),n(63),n(140),n(174),n(379),n(357),n(86),o.isIos&&o.appVersion.isGreaterThanOrEqualTo("0.9.1")){var a=function(){window.location="loadcomplete://"};window.isLoaded?a():(0,i.onLoad)(a)}},782:function(e,t,n){var o={"./":340,"./account":495,"./account.js":495,"./animations":496,"./animations.js":496,"./codex/codemirror":75,"./codex/codemirror.js":75,"./codex/constants":76,"./codex/constants.js":76,"./codex/controllers":86,"./codex/controllers.js":86,"./codex/deemphasize":131,"./codex/deemphasize.js":131,"./codex/notes":130,"./codex/notes.js":130,"./codex/qsharp":160,"./codex/qsharp.js":160,"./codex/shared_context":132,"./codex/shared_context.js":132,"./comments":77,"./comments.js":77,"./content_modal":59,"./content_modal.js":59,"./dailyproblems":497,"./dailyproblems.js":497,"./discussions":175,"./discussions.js":175,"./disputes":346,"./disputes.js":346,"./educator_bios":498,"./educator_bios.js":498,"./error_modal":31,"./error_modal.js":31,"./front_chat":176,"./front_chat.js":176,"./generic_controllers":17,"./generic_controllers.js":17,"./glossary":177,"./glossary.js":177,"./groups":499,"./groups.js":499,"./header":355,"./header.js":355,"./image_gallery":178,"./image_gallery.js":178,"./index":340,"./index.js":340,"./instant_response":356,"./instant_response.js":356,"./login":357,"./login.js":357,"./mentions":45,"./mentions.js":45,"./mini_profiles":173,"./mini_profiles.js":173,"./moderators":500,"./moderators.js":500,"./newsfeed":359,"./newsfeed.js":359,"./notifications":360,"./notifications.js":360,"./nux":361,"./nux.js":361,"./paid":134,"./paid.js":134,"./practice":502,"./practice.js":502,"./preloaders":88,"./preloaders.js":88,"./pro":503,"./pro.js":503,"./profile":504,"./profile.js":504,"./qanda":505,"./qanda.js":505,"./quiz":506,"./quiz.js":506,"./save_to_group":362,"./save_to_group.js":362,"./search":363,"./search.js":363,"./signup":379,"./signup.js":379,"./solution_discussions":181,"./solution_discussions.js":181,"./solvables":78,"./solvables.js":78,"./sponsorship":508,"./sponsorship.js":508,"./stats/controllers":509,"./stats/controllers.js":509,"./stats/example_data":380,"./stats/example_data.js":380,"./stats/single_topic":381,"./stats/single_topic.js":381,"./testimonials":510,"./testimonials.js":510,"./user_levels":511,"./user_levels.js":511,"./videos":140,"./videos.js":140,"./visualizations":63,"./visualizations.js":63,"./vue":185,"./vue.js":185,"./wiki":512,"./wiki.js":512,"./zoomable":174,"./zoomable.js":174};function i(e){var t=a(e);return n(t)}function a(e){if(n.o(o,e))return o[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(o)},i.resolve=a,(e.exports=i).id=782},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mentionsInput=function(e,t,n){var o=arguments;"object"!==i(t)&&t||(n=t);e.each(function(){var e=j.default.data(this,"mentionsInput")||j.default.data(this,"mentionsInput",new a(n));return q.default.isFunction(e[t])?e[t].apply(this,Array.prototype.slice.call(o,1)):"object"!==i(t)&&t?void j.default.error("Method "+t+" does not exist"):e.init.call(this,this)})};var j=o(n(0)),q=o(n(4));n(1);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=8,A=9,N=13,D=37,M=38,$=39,L=40,z=36,B=35,U={triggerChar:"@",stopTriggerRegex:!1,onDataRequest:j.default.noop,mentionsStorage:{get:j.default.noop,set:j.default.noop},minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},highlightFunction:function(e){return e},templates:{wrapper:q.default.template('<div class="mentions-input-box"></div>'),autocompleteList:q.default.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:q.default.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:q.default.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:q.default.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:q.default.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:q.default.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:q.default.template("<strong><span><%= value %></span></strong>")}},G={htmlEncode:function(e){return q.default.escape(e)},regexpEncode:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+G.regexpEncode(t)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},a=function(f){var t,p,h,n,o,i,r,a,m=[],s={},v=[],g="";(f=j.default.extend(!0,{},U,f)).mentions&&(f.mentions=j.default.extend(!0,{},U,f.mentions)),f.wikiLinks&&(f.wikiLinks=j.default.extend(!0,{},U,f.wikiLinks));var y=f;function _(){var o=w();q.default.each(m,function(e){var t=(e.isUser&&f.mentions?f.mentions:e.isWiki&&f.wikiLinks?f.wikiLinks:f).templates.mentionItemSyntax(e),n=e.value?new RegExp(G.regexpEncode(e.value),"g"):e.value;o=o.replace(n,t)});var a=G.htmlEncode(o);q.default.each(m,function(e){var t,n=q.default.extend({},e,{value:G.htmlEncode(e.value)}),o=(t=e.isUser&&f.mentions?f.mentions:e.isWiki&&f.wikiLinks?f.wikiLinks:f).templates.mentionItemSyntax(n),i=t.templates.mentionItemHighlight(n);a=a.replace(new RegExp(G.regexpEncode(o),"g"),i)}),a=(a=a.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),a=f.highlightFunction(a),p.data("messageText",o),h.val(p.data("messageText")),r.find("div").html(a)}function b(){v=[]}function l(t){var e,n=w();g=g||"",e=0===y.triggerChar.indexOf("@")?new RegExp("[^\\w]"+G.regexpEncode(y.triggerChar)+G.regexpEncode(g),"gi"):new RegExp(G.regexpEncode(y.triggerChar)+G.regexpEncode(g),"gi");for(var o=[];e.exec(" "+n);)o.push(e.lastIndex);var i=o[o.length-1]-1,a=y.triggerChar.length,r=i-g.length-a,s=p.prop("selectionStart")?p.prop("selectionStart"):i,l=n.substr(0,r),c=n.substr(s,n.length),d=(l+t.value).length+1;q.default.find(m,function(e){return e.id==t.id})||m.push(t),b(),g="",E();var u=t.value;t.isUser&&(u=y.triggerChar+u);var f=l+u+" "+c;p.val(f),p.trigger("autosave.save"),h.val(p.data("messageText")),_(),p.focus(),G.setCaratPosition(p[0],d)}function w(){return j.default.trim(p.val())}function c(e){var t=(0,j.default)(this);return l(s[t.attr("data-uid")]),!1}function d(e){b()}function u(e){E()}function k(e){_(),function(){var n=w();m=q.default.reject(m,function(e,t){return!e.value||-1==n.indexOf(e.value)}),m=q.default.compact(m),y.mentionsStorage.set(m)}();var t=p.val();v=t.split("");var n,o=t;if(p.prop("selectionStart")&&(o=t.slice(0,p.prop("selectionStart"))),f.mentions&&f.wikiLinks){var i=o.lastIndexOf(f.mentions.triggerChar),a=-1<i,r=o.lastIndexOf(f.wikiLinks.triggerChar),s=-1<r;a&&s&&r<i||a&&!s?(n=i,y=f.mentions):a&&s&&i<r||s&&!a?(n=r,y=f.wikiLinks):n=-1}else if(0===f.triggerChar.indexOf("@")){for(var l=new RegExp("[^\\w]"+f.triggerChar,"gi"),c=[];l.exec(" "+o);)c.push(l.lastIndex);n=c[c.length-1]-2}else n=o.lastIndexOf(f.triggerChar);if(-1<n){var d=y.triggerChar.length;g=t.slice(n+d);var u=g=G.rtrim(g);if(p.prop("selectionStart")&&(u=o.slice(n+d),u=G.rtrim(u)),y.stopTriggerRegex)if(-1<u.search(y.stopTriggerRegex))return;q.default.defer(q.default.bind(S,this,u))}}function C(e){if(e.keyCode!==P){var t=String.fromCharCode(e.which||e.keyCode);0===t.charCodeAt(0)?v.push(p.val().split("").pop()):(window.typedValue=t,v.push(t))}}function x(e){if(e.keyCode===D||e.keyCode===$||e.keyCode===z||e.keyCode===B)return q.default.defer(b),void(-1<navigator.userAgent.indexOf("MSIE 9")&&q.default.defer(_));if(e.keyCode!==P){if(!o.is(":visible"))return!0;switch(e.keyCode){case M:case L:var t=null;return(t=e.keyCode===L?a&&a.length?a.next():o.find("li").first():(0,j.default)(a).prev()).length&&I(t),!1;case N:case A:if(a&&a.length)return a.trigger("mousedown"),!1}return!0}v=v.slice(0,-1+v.length)}function E(){a=null,o.empty().hide();var e=j.default.Event("mentions.hide");p.trigger(e),h.trigger(e)}function I(e){e.addClass(f.classes.autoCompleteItemActive),e.siblings().removeClass(f.classes.autoCompleteItemActive),a=e}function T(i,e){if(o.show(),!y.allowRepeat){var t=q.default.pluck(m,"value");e=q.default.reject(e,function(e){return q.default.include(t,e.name)})}if(e.length){o.empty();var a=(0,j.default)("<ul>").appendTo(o).hide();q.default.each(e,function(e,t){var n=q.default.uniqueId("mention_");s[n]=q.default.extend({},e,{value:e.value||e.name});var o=(0,j.default)(y.templates.autocompleteListItem(q.default.extend({},e,{id:G.htmlEncode(e.id),display:G.htmlEncode(e.name),type:G.htmlEncode(e.type),content:G.highlightTerm(G.htmlEncode(e.name),i)}))).attr("data-uid",n);0===t&&I(o),y.showAvatars&&(e.avatar?(0,j.default)(y.templates.autocompleteListItemAvatar({avatar:e.avatar})):(0,j.default)(y.templates.autocompleteListItemIcon({icon:e.icon}))).prependTo(o);o=o.appendTo(a)}),o.show(),f.onCaret&&function(e,t){var n=function(e){var t,n,o,i,a,r,s,l,c,d,u;if((c=e[0])&&(0,j.default)(c).is("textarea")&&null!=c.selectionEnd){for(s={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},d=0,u=(l=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"]).length;d<u;d++)s[a=l[d]]=(0,j.default)(c).css(a);return o=document.createElement("div"),(0,j.default)(o).css(s),(0,j.default)(c).after(o),n=document.createTextNode(c.value.substring(0,c.selectionEnd)),t=document.createTextNode(c.value.substring(c.selectionEnd)),(i=document.createElement("span")).innerHTML="&nbsp;",o.appendChild(n),o.appendChild(i),o.appendChild(t),o.scrollTop=c.scrollTop,r=(0,j.default)(i).position(),(0,j.default)(o).remove(),r}}(t),o=parseInt(t.css("line-height"),10)||18;e.css("top",o+n.top)}(o,p),a.show();var n=j.default.Event("mentions.show");p.trigger(n),h.trigger(n)}else E()}function S(t){t&&t.length&&t.length>=y.minChars?y.onDataRequest.call(this,"search",t,function(e){T(t,e)}):E()}function O(){p.val(""),m=[],_()}return{init:function(e){t=e,(0,j.default)(t).hasClass("inited")||(p=(0,j.default)(t),(h=p.clone()).val()==h.attr("placeholder")&&h.val(""),"true"!==p.attr("data-mentions-input")&&(p.addClass("inited"),h.addClass("inited"),p.attr("name",p.attr("name")+"__copy"),p.attr("id",p.attr("id")+"__copy"),h.addClass("clone"),h.val().trim().length&&(p.val(function(t){var e=t.match(/mention\[[\d]+:(.*?)\]/g)||null;return null!==e&&e.forEach(function(e){t=t.replace(e,e.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}),t}(h.val())),p.val(p.val()+" ")),n=p.parent(),i=(0,j.default)(f.templates.wrapper()),p.wrapAll(i),i=n.find("> div.mentions-input-box"),p.after(h),p.attr("data-mentions-input","true"),0<=navigator.userAgent.toLowerCase().indexOf("android")?p.on("input",function(){x.apply(this,arguments),C.apply(this,arguments),k.apply(this,arguments)}):(p.on("keydown",x),p.on("keypress",C)),p.on("click",d),p.on("blur",u),-1<navigator.userAgent.indexOf("MSIE 8")?p.on("propertychange",k):p.on("input",k),f.elastic&&p.elastic(),p.trigger(j.default.Event("mentions.ready")),h.trigger(j.default.Event("mentions.ready"))),(o=(0,j.default)(f.templates.autocompleteList())).appendTo(i),o.on("mousedown","li",c),(r=(0,j.default)(f.templates.mentionsOverlay())).prependTo(i),f.mentions&&f.mentions.mentionsStorage.get||f.mentionsStorage.get?(m=f.mentions?f.mentions.mentionsStorage.get():f.mentionsStorage.get(),p.data("messageText",h.val()),_()):p.val().trim().length?function(){var e=h.val().trim(),t=f.mentions?f.mentions.mentionRegex:f.mentionRegex,n=e.match(t);null!==n&&(n.forEach(function(e){var t=e.split(/[\[|\]|:]/g);m.push({id:t[1],user_id:t[1],name:t[2],value:t[2],isUser:!0})}),_())}():O(),f.prefillMention&&l(f.prefillMention))},val:function(e){q.default.isFunction(e)&&e.call(this,m.length?p.data("messageText"):w())},reset:function(){O()},getMentions:function(e){q.default.isFunction(e)&&e.call(this,m)}}}},790:function(e,t,n){var o={"./ajax":19,"./ajax.js":19,"./ajax_upload":186,"./ajax_upload.js":186,"./analytics":7,"./analytics.js":7,"./app_version":42,"./app_version.js":42,"./autosave":128,"./autosave.js":128,"./autosubmit":37,"./autosubmit.js":37,"./branch":170,"./branch.js":170,"./btooltip":87,"./btooltip.js":87,"./constants":9,"./constants.js":9,"./content_type":336,"./content_type.js":336,"./cookies":337,"./cookies.js":337,"./creation_modal":513,"./creation_modal.js":513,"./csrf":36,"./csrf.js":36,"./cursor":73,"./cursor.js":73,"./deferred":44,"./deferred.js":44,"./email_validator":358,"./email_validator.js":358,"./flags":35,"./flags.js":35,"./getFormData":74,"./getFormData.js":74,"./global":1,"./global.js":1,"./katex":69,"./katex.js":69,"./latex":30,"./latex.js":30,"./mathjax_loader":34,"./mathjax_loader.js":34,"./mobile_native":514,"./mobile_native.js":514,"./modal_helpers":171,"./modal_helpers.js":171,"./onload":18,"./onload.js":18,"./pager":179,"./pager.js":179,"./popstate":180,"./popstate.js":180,"./raven":28,"./raven.js":28,"./sharing":382,"./sharing.js":382,"./sticky":129,"./sticky.js":129,"./text_formatter":338,"./text_formatter.js":338,"./ui":11,"./ui.js":11,"./urls":15,"./urls.js":15,"./vkey":339,"./vkey.js":339};function i(e){var t=a(e);return n(t)}function a(e){if(n.o(o,e))return o[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(o)},i.resolve=a,(e.exports=i).id=790},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=D,t.expandableCode=function(l){function e(e,t){e&&e.preventDefault(),void 0!==t?(c&&(u[c]=t),d.toggleClass("active",t),l.toggleClass("expanded",t)):(c&&(u[c]=!u[c]),d.toggleClass("active"),l.toggleClass("expanded"));var n="",o=l.hasClass("expanded"),i=0<l.parents(".course-quiz-wrapper,.dp-problem-main").length;if(o&&!i){var a=(0,I.jqGetElemById)("wrapper").offset().left,r=parseInt((0,I.jqGetElemById)("wrapper").css("padding-left"),10),s=l.offset().left;n="".concat(a+r-s,"px")}l.css("margin-left",n)}var c=l.data("codex-env-id")||null,d=l.find(".codex-expand-toggle");d.show(),c&&(u[c]=u[c]||!1,!0===u[c]&&e(null,!0));d.on("click",e)};var b=r(n(0)),a=n(342),w=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}(n(75)),k=n(132),C=r(n(19)),x=n(36),o=n(11),E=n(9),I=n(1),T=n(74),i=n(15);function r(e){return e&&e.__esModule?e:{default:e}}var S="codex_page",O="cmp_".concat(S,"_id"),j=200,q=810,P=30;var A=I.isIos&&I.appVersion.isGreaterThanOrEqualTo("3.4.3");function N(e,t){var n=t.url,o=["codexAjaxRequest",e];"POST"===e?(o.push(n),o.push(JSON.stringify(t))):(delete t.url,t.page_key=S,o.push((0,i.appendGetParams)(n,t)));try{window.webkit.messageHandlers.main.postMessage(o)}catch(e){}window.codexAjaxResponse=function(e){var t="string"==typeof e?JSON.parse(e):e,n=t.actions&&t.actions[S];if(n)try{window.vkey.handle(n,S)}catch(e){}}}function D(r){var s=r.data(),t=r.parents(".solv-container,#solv-main"),i=r.closest(".".concat(O));if(!(0<r.parents(".dp-problem-main").length)||i.is(":visible")){var l,c=r.find(".codex-form"),d=r.find(".codex-btn-run"),u=r.find(".codex-view-original"),f=r.find(".codex-textarea textarea"),p=r.find(".codex-editor > div"),h=r.find("[name=language]"),m=r.find(".codex-orig").text(),v=s.codexLanguage,g=function(){var e=w.isUnchanged(l,h.val()),t=u.data("user-code");!e&&t?(u.removeData("user-code").removeData("user-code"),u.removeClass(E.CLASS_NAME_ACTIVE)):u.prop("disabled",e&&!t)},y=function(e){var o=0<arguments.length&&void 0!==e&&e;t.each(function(e,t){var n=(0,b.default)(t);n.css({height:!0===o?"auto":n.outerHeight()})})},_=function(e){var t=".".concat(O),n="".concat(O,"_ignore"),o=".".concat(n);e?(0,b.default)(t).not(i).addClass(n).removeClass(O):(0,b.default)(o).addClass(O).removeClass(n)},e=i.find('.codex-output img[src*=".gif?t="]');e&&setTimeout(function(){e.each(function(e,t){var o=(0,b.default)('\n                    <button class="replay-button">\n                        <span class="btn">Replay</span>\n                    </button>\n                '),i=new a.SuperGif(t,{autoPlay:!1,drawWhileLoading:!1,maxWidth:t.width-1,onEnd:function(){o.prop("disabled",!1),i.pause()}}),n="".concat(t.src,"&d=").concat(Date.now());i.loadURL(n,function(){var e=i.canvas,t=(0,b.default)(e);o.css({width:e.width,height:e.height});function n(){i.playing||(i.moveTo(0),i.play(),o.prop("disabled",!0))}t.on("click",n),o.prop("disabled",!0),o.on("click",function(e){e.preventDefault(),n()}),t.after(o),i.play()})})},200),w.init({$editor:p,$textarea:f,initialCode:m,initialLanguage:v,language:h.val()}).then(function(e){l=e,function(e,t,n){var o=parseInt(t.display.sizer.style.minHeight,10);if(I.isNative?t.setSize(null,"".concat(o+P,"px")):o<j?t.setSize(null,"".concat(j,"px")):q<o-P?t.setSize(null,"".concat(q,"px")):t.setSize(null,"".concat(o+P,"px")),0<e.length){var i,a,r=function(e){t.setSize(null,"".concat(Math.max(j,a+e.pageY-i),"px"))},s=function e(){I.$body.off("mousemove",r),I.$window.off("mouseup",e)};e.on("mousedown",function(e){i=e.pageY,a=n.height(),I.$body.on("mousemove",r),I.$window.on("mouseup",s)})}}(r.find(".resize"),l.cm,p);var n=s.shareContext?(0,k.getSharedContext)(s.codexEnvId):null;if(setTimeout(function(){return y(!0)}),s.autoRefresh)return w.setReadOnly(l),r.find(".CodeMirror-scroll").addClass("disabled"),void setTimeout(function(){y();var e={solvable_id:s.solvableId,note_id:s.noteId,pane_id:s.paneId,previous_solvable_ids:s.previousSolvableIds,pane_url:s.paneUrl,codex_env_id:s.codexEnvId};A?(e.url=s.cmpUrl.replace("/codex/","/codex/_native/"),e.native_component=!0,N("GET",e)):(0,C.default)(S).get(s.cmpUrl,e)},1e3);_(!1),n&&n.applyContext(r,l);var o=/[\u2018\u2019]/g,i=/[\u201C\u201D]/g;if(w.onChange(l,function(){var e=w.getValue(l);if(o.test(e)||i.test(e)){e=e.replace(o,"'").replace(i,'"');var t=w.getCursor(l);setTimeout(function(){w.setValue(l,e),w.setCursor(l,t)})}n&&n.setValue(e),f.val(w.getValue(l)),g()}),I.isNative){var t=function(e){e?(r.find(".offline-error").removeClass(E.CLASS_NAME_ACTIVE),r.find(".codex-email").removeClass(E.CLASS_NAME_HIDE),r.find(".codex-btn-run").removeClass(E.CLASS_NAME_DISABLED).prop("disabled",!1)):(r.find(".offline-error").addClass(E.CLASS_NAME_ACTIVE),r.find(".codex-email").addClass(E.CLASS_NAME_HIDE),r.find(".codex-btn-run").addClass(E.CLASS_NAME_DISABLED).prop("disabled",!0))};window.addEventListener("online",function(){return t(!0)}),window.addEventListener("offline",function(){return t(!1)}),window.navigator.onLine||t(!1)}if(d.on("click",function(){n&&n.clearOutput(),_(!0),y();var e={url:s.formAction,page_key:S,cluster:s.formField__cluster,param_key:s.formField__param_key||"",version:s.formField__version,csrfmiddlewaretoken:(0,x.getToken)()};(I.isNative&&(e.url=e.url.replace("/codex/","/codex/_native/"),e.native_component=!0),A)?N("POST",Object.assign({},(0,T.getFormData)(c),e)):(0,C.default)(S).form(c[0],e)}),u.on("click",function(e){if(e.preventDefault(),!u.is(":disabled")){if(u.toggleClass(E.CLASS_NAME_ACTIVE),u.hasClass(E.CLASS_NAME_ACTIVE))u.data("user-code",w.getValue(l)),u.data("user-language",h.val()),w.setValue(l,m),h.val(v);else{var t=u.data();w.setValue(l,t.userCode),h.val(t.userLanguage)}g()}}),h.on("change",function(){w.setLanguage(l,h.val()),w.focus(l),g()}),r.find("header label").show(),r.find(".codex-notes").children().addClass(I.isAndroid?"note-placeholder":"note"),s.allowNotesEditor)w.initNoteEditor(l,(0,I.jqGetElemById)("id_notes"));else if(s.hasNotes){w.initNotes(e,r).run()}s.allowDeemphasizeEditor?w.initDeemphasizeEditor({state:l,$deemphasizeField:(0,I.jqGetElemById)("id_deemphasize"),$deemphasizeContainer:(0,I.jqGetElemById)("codex-deemphasize-container")}):s.deemphasizeData&&w.initDeemphasize({state:l,data:s.deemphasizeData,envId:s.codexEnvId,initialCode:m}),g();var a=r.find(".codex-email");a.length&&a.find("button").on("click",function(e){e.stopPropagation(),e.preventDefault();var n=a.data();!function(e,t,n,o){var i=(0,b.default)("#confirm-modal");0<i.length&&i.remove();var a=!1,r=(0,b.default)('\n        <div class="modal hide codex-confirm" id="confirm-modal">\n            <div class="modal-body"><p>'.concat(t,'</p></div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(n.cancel_text,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(n.ok_text,"</a>\n            </div>\n        </div>\n    "));r.find(".confirm").on("click",function(e){e.preventDefault(),a=!0,r.modal("hide"),r.trigger(b.default.Event("codex.hide"))}),r.on("hide",function(){return o(a)}),e.find("div:first").after().append(r),r.modal()}(a.parents("header"),n.confirmText,{ok_text:n.confirmOkText,cancel_text:n.confirmCancelText},function(e){if(e){a.removeClass("error");var t={target_url:n.targetUrl,target_title:n.targetTitle};setTimeout(function(){b.default.post("".concat(n.baseUrl,"/codex/_native/email_me/"),t).fail(function(){return a.addClass("error")}).then(function(e){e.success?a.addClass("success"):a.addClass("error")})},100)}})})})}else I.$window.one(E.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,function(){return D(r)})}var u={};window.VERSIONS||window.vkey?(window.vkey=window.vkey||{},window.vkey.codex_page=function(e,t){var n=window.vkey.handle(e,t).find(".codex-output");0===n.find(".running").length&&o.Anchors.scrollToTarget(n)}):(window.VERSIONS=window.VERSIONS||{},window.vkey=window.vkey||{handle:function(e,t){var n=(0,b.default)("#cmp_".concat(t,"_id"));0===n.length&&(n=(0,b.default)(".cmp_".concat(t,"_id"))),n.html(e.new_html);var o=n.find(".codex-container");o.attr("data-controller-inited",!0),D(o)}})},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrientation=function(e,t){var n=[],o=e.offset(),i=s.$window,a=i.width()/2,r=o.top-i.scrollTop();r-=t?t.height()+50:300;return n.push(o.left>a?"right":"left"),n.push(0<r?"top":"bottom"),n.join(" ")},t.repositionTooltip=function(e){var t=e.$target,n=e.$tooltip,o=e.topOffset,i=e.leftOffset,a=e.zOffset,r=e.offsetMethod,s={},l="position"===r?t.position():t.offset(),c=n.attr("class").split(" "),d=a;void 0===d&&(d=t.parents(".modal,.nf-feeditem-modal").length?700:300);-1!==c.indexOf("top")?s.top=l.top-(n.outerHeight()+o):s.top=l.top+t.height()+o;-1!==c.indexOf("left")?s.left=l.left+t.width()/2+i:s.left=l.left-n.outerWidth()-i+t.width()/2;return{zIndex:d,top:s.top,left:s.left}};var s=n(1)},88:function(e,t,n){"use strict";var p=a(n(0)),h=a(n(4)),m=n(37),v=n(7),g=n(1),r=i(n(30)),y=i(n(34)),l=n(11),_=n(9),b=n(17),o=n(63);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w="notloaded",k="error",c={};function C(){return(0,g.jqGetElemById)("course-quiz-endstate").is(":visible")}var x={solvableList:[],currentPosition:null,$markers:null,inited:!1,solvablesLoaded:0,submitted:!1,noHistory:!1,enableKeyboardNav:!1,targetPosition:null},E={},I={reloaded:!1,instantResponse:!1},d={};function u(e){d[e]||((new Image).src=e,d[e]=!0)}var T=[];function f(e){T.push(e)}f(function(e){var n=/src="(.*?)"/,t=e.match(/img.*src="(.*?)"/g);t&&t.forEach(function(e){var t=e.match(n);t&&u(t[1])})}),f(o.visualizationsPrefetchHandler),c.practice=function(c,e){var o=Object.assign({},I,e),d=c.data("id");!0===o.reset?E[d]={solvableList:x.solvableList.slice(0),currentPosition:x.currentPosition,$markers:x.$markers,inited:x.inited,solvablesLoaded:x.solvablesLoaded,submitted:x.submitted,noHistory:x.noHistory,targetPosition:x.targetPosition}:E[d]=E[d]||Object.assign({},x,{solvableList:x.solvableList.slice(0)}),E[d].currentPosition=null===E[d].currentPosition?c.data("current")-1:E[d].currentPosition;var t=c.data();E[d].noHistory=t.noHistory,E[d].enableKeyboardNav=!0===t.enableKeyboardNav;var s=function(e,t){var n=!0===t,o=(0,g.jqGetElemById)("interstitial-pane-continue-form");if(o.length){var i="is-continuing";!0!==o.data(i)&&(o.data(i,!0),E[d].targetPosition=e,o.submit());var a=g.$body.data(_.QUIZ_CHAPTER_INTRO_STATE);if(!a||!0!==a.active)return;g.$body.data(_.QUIZ_CHAPTER_INTRO_STATE,{active:!0,numContinuingPanes:a.numContinuingPanes+1})}if(E[d].targetPosition=null,e!==E[d].currentPosition&&E[d].solvableList[e]){var r=E[d].solvableList[e].content;switch(r){case w:!function(e){g.$body.trigger(_.EVT_QUIZ_POSITION_LOADING),c.addClass("loading"),c.one("preloaded.p".concat(e),function(){s(e),E[d].solvableList[e].content!==k&&c.removeClass("loading")})}(e);break;case k:!function(e){E[d].noHistory?window.location.reload():window.location=E[d].solvableList[e].url}(e);break;default:!function(e,t,n){g.$body.trigger(_.EVT_QUIZ_POSITION_WILL_CHANGE);var o=c.find("#solv-main").add((0,g.jqGetElemById)("admin-sidebar")),i=(0,p.default)(t),a=i.find("#interstitial-pane-continue-form");a.length&&1===E[d].$markers.filter(":not(.correct,.incorrect)").length&&(a.find('input[name="form_name"]').val("continue_and_finish"),a.find("button").html("Finish quiz"));var r=(0,g.jqGetElemById)("endstate-trigger-btn");r.length&&r.removeAttr("data-show-immediately"),E[d].solvableList[E[d].currentPosition].content=o,E[d].currentPosition=e,o.remove(),c.append(i);var s=0<c.find(".endstate").length;g.$body.toggleClass("endstate",s),y.useKatex()||y.loadForElement(i),(0,b.initGenericControllers)(c,{force:!0}),(0,m.initAutosubmit)(c),(0,v.setAnalyticsEvents)(c),f(),(0,g.setScrollPosition)(0),n||u(E[d].currentPosition);var l=E[d].solvableList[E[d].currentPosition];l.viewed||(E[d].solvableList[E[d].currentPosition].viewed=!0,h.default.defer(function(e,t){var n=window.location,o=n.pathname;(0,v.track)("sign_of_life",{from_request:!0,is_android:g.isAndroid,ajax:!1,path:o,method:"GET",full_path:o+n.search});var i=null;switch(e.data.contentType){case"solvable":i={position:t+1};break;case"interstitial_pane":i={action:e.data.paneAction,ipconn_id:e.data.paneConnection,quiz_id:e.data.paneQuiz};break;default:throw Error("Unknown quiz item content type")}i&&p.default.ajax({method:"POST",url:e.data.statusUrl,data:JSON.stringify(i),headers:{"Content-type":"application/json"}})},l,E[d].currentPosition)),g.$body.trigger(_.EVT_QUIZ_POSITION_DID_CHANGE)}(e,r,n)}}},u=window.history.pushState&&!E[d].noHistory?function(t){h.default.defer(function(){var e={position:t};window.history.pushState(e,"",E[d].solvableList[t].url)})}:_.FUNC_NOOP;function i(e){var t=(0,p.default)(this),n=t.data("position");if(void 0===n)if(t.hasClass("btn-prev")){var o=E[d].$markers.filter(":not(.correct, .incorrect, .completed)");n=t.hasClass("solv-done-btn")&&o.length?o.first().data("position"):E[d].currentPosition-1}else n=E[d].currentPosition+1;e.preventDefault&&e.preventDefault(),t.hasClass("disabled")||s(n)}var f=function(){function e(){return(0,g.jqGetElemById)("prac-markers-".concat(d))}if(null===E[d].$markers||o.reloaded){if(E[d].$markers=e().find(".prac-marker"),E[d].currentPosition=E[d].currentPosition<0?E[d].$markers.filter(".current").data("position"):E[d].currentPosition,g.isMobile&&!o.instantResponse){var t=E[d].solvablesLoaded<E[d].solvableList.length-1;h.default.defer(function(){c.find(".btn-prev:not(.solv-done-btn)").toggleClass("disabled",0===E[d].currentPosition),c.find(".btn-next:not(.solv-done-btn)").toggleClass("disabled",E[d].currentPosition===E[d].solvableList.length-1)}),E[d].$markers.toggleClass("disabled",t),c.find(".actions-container").toggleClass("disabled",t)}}else E[d].$markers.removeClass("current"),E[d].$markers.eq(E[d].currentPosition).addClass("current"),e().empty().append(E[d].$markers);(0,g.jqOffOn)(E[d].$markers,"click.quiznav",i);var n=c.find(".btn-next, .btn-prev").not(".btn-continue");(0,g.jqOffOn)(n,"click.quiznav",i),c.find("#text_answer_entry_form,#mcq-form,#start-over-btn").on("submit",function(){E[d].submitted=!0,E[d].solvablesLoaded!==E[d].solvableList.length&&(c.find(".btn-next,.btn-prev").add(E[d].$markers).addClass("disabled"),c.find(".actions-container").addClass("disabled"))}),a(),y.useKatex()||r.updateMathjax(c)},a=function(){var e="num-free-solutions-remaining",t="revealed-solution-position",n=c.data(e),o=c.data(t)||[],r=(0,g.jqGetElemById)("alt-solution-btn").children();if(0<n&&(0,g.jqGetElemById)("solv-simple-solution").length)c.data(e,n-1),o.push(E[d].currentPosition),c.data(t,o);else if(0===n&&-1===o.indexOf(E[d].currentPosition)&&r.length){var i=c.find(".btn-solution-full");i.length&&i.each(function(e,t){var n=(0,p.default)(t),o=r.clone(),i=n.parents(".solv-main").find(".solv-details"),a=o.data("ax-id");n.replaceWith(o),a=i.hasClass("incorrect")?a.replace("preloaded","incorrect"):i.hasClass("correct")?a.replace("preloaded","correct"):a.replace("preloaded","nonterminal"),o.data("solvable",i.data("solvable")),o.data("ax-id",a),(0,b.executeFunctionByName)(o.data("controller"),o),(0,v.setAnalyticsEvents)(o.parent())})}};f(),E[d].inited||(E[d].inited=!0,E[d].$markers.each(function(e,t){var n=(0,p.default)(t),o=E[d].currentPosition===e,i=n.data();E[d].solvableList.push({url:n.attr("href"),data:i,viewed:o,content:o?c.find("#solv-main"):w}),o&&!i.isDummy||h.default.defer(function(){!function(e){var n=e.data("position");p.default.get(e.attr("href"),{web_preloading:!0,is_preloading:!0,force_full_page:!0}).then(function(t){E[d].solvableList[n].content=t,c.trigger(p.default.Event("preloaded.p".concat(n))),E[d].solvablesLoaded++,T.forEach(function(e){return e(t)})}).fail(function(){E[d].solvableList[n].content=k,c.trigger(p.default.Event("preloaded.p".concat(n)))})}(n)})}),E[d].noHistory||g.$window.on("popstate",function(){if(E[d].submitted||C())window.history.forward();else{var t;try{t=parseInt(window.location.href.match(/p=(\d)/)[1],10)-1}catch(e){t=window.history.state&&"position"in window.history.state?window.history.state.position:0}s(t,!0)}}),E[d].enableKeyboardNav&&(0,l.keyboardNavigation)({eventKey:"preloader",guard:function(){return!(g.$body.hasClass("modal-open")||0<E[d].$markers.filter(".disabled").length||C())},left:function(){s(E[d].currentPosition-1)},right:function(){s(E[d].currentPosition+1)}})),o.instantResponse||(E[d].submitted=!1),o.reloaded=!1,o.instantResponse=!1,o.useTargetPosition&&(null===E[d].targetPosition?(E[d].targetPosition=E[d].currentPosition+1,E[d].targetPosition<E[d].solvableList.length&&s(E[d].targetPosition)):s(E[d].targetPosition),E[d].targetPosition=null)},c.convertDummyPreloader=function(e,t){var n=w;try{n=s(E[t].solvableList,1)[0].content}catch(e){n=k}if(n!==w&&n!==k){var o=(0,p.default)(n);e.empty().append(o),(0,g.jqGetElemById)("admin-sidebar").remove(),e.data("enable-keyboard-nav",!0),E={},c.practice(e),(0,m.initAutosubmit)(o),(0,b.initGenericControllers)(o),(0,v.setAnalyticsEvents)(o),y.useKatex()||y.loadForElement(o)}else window.location.reload()},c.backgroundImages=function(e){function n(e,t){var n=window.getComputedStyle(e,t).backgroundImage;if("none"!==n){var o=n.match(/url\(['"]?(.*?)['"]?\)/);if(o)u(s(o,2)[1])}}e.find("*").add(e).each(function(e,t){n(t),n(t,":before"),n(t,":after")})},e.exports=c},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMP_RELOADING_FLAGS=t.QUIZ_CHAPTER_INTRO_STATE=t.FUNC_NOOP=t.TRANSITION_SPEED_SLOW=t.TRANSITION_SPEED_MEDIUM=t.TRANSITION_SPEED_FAST=t.EVT_VKEY_AFTER_UPDATE=t.EVT_VKEY_BEFORE_UPDATE=t.EVT_VKEY_BASE=t.EVT_MCQ_EDIT_FORM_SET_CONTEXT=t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED=t.EVT_QUIZ_POSITION_LOADING=t.EVT_QUIZ_POSITION_DID_CHANGE=t.EVT_QUIZ_POSITION_WILL_CHANGE=t.INTERACTION_TYPES=t.CLASS_NAME_LOADING=t.CLASS_NAME_HIDE=t.CLASS_NAME_EXPANDED=t.CLASS_NAME_DISABLED=t.CLASS_NAME_COLLAPSED=t.CLASS_NAME_CHECKED=t.CLASS_NAME_ANIM_IN=t.CLASS_NAME_ACTIVE=void 0;t.CLASS_NAME_ACTIVE="active";t.CLASS_NAME_ANIM_IN="in";t.CLASS_NAME_CHECKED="checked";t.CLASS_NAME_COLLAPSED="collapsed";t.CLASS_NAME_DISABLED="disabled";t.CLASS_NAME_EXPANDED="expanded";t.CLASS_NAME_HIDE="hide";t.CLASS_NAME_LOADING="loading";t.INTERACTION_TYPES={STATUS_DOT:"status_dot",CONTINUE_BUTTON:"continue_button",PREV_NEXT_BUTTON:"prev_next_button",ARROW_KEY:"arrow_key",URL_CHANGE:"url_change"};t.EVT_QUIZ_POSITION_WILL_CHANGE="quizPositionWillChange";t.EVT_QUIZ_POSITION_DID_CHANGE="quizPositionDidChange";t.EVT_QUIZ_POSITION_LOADING="quizPositionLoading";t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED="dailyproblemMainbodyExpanded";t.EVT_MCQ_EDIT_FORM_SET_CONTEXT="MCQEditFormContextSet";t.EVT_VKEY_BASE="vkey";var o="".concat("vkey",".beforeupdate");t.EVT_VKEY_BEFORE_UPDATE=o;var i="".concat("vkey",".afterupdate");t.EVT_VKEY_AFTER_UPDATE=i;t.TRANSITION_SPEED_FAST=100;t.TRANSITION_SPEED_MEDIUM=200;t.TRANSITION_SPEED_SLOW=500;t.FUNC_NOOP=function(){};t.QUIZ_CHAPTER_INTRO_STATE="QUIZ_CHAPTER_INTRO_STATE";t.CMP_RELOADING_FLAGS={DISPUTES:"reloading-disputes",PANE:"reloading-pane"}},97:function(e,t,n){"use strict";var o=n(27);o.__defineMacro("\\bra","\\mathinner{\\langle{#1}|}"),o.__defineMacro("\\ket","\\mathinner{|{#1}\\rangle}"),o.__defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}"),o.__defineMacro("\\Bra","\\left\\langle#1\\right|"),o.__defineMacro("\\Ket","\\left|#1\\right\\rangle"),o.__defineMacro("\\ketbra","\\ket{#1}\\bra{#2}"),o.__defineMacro("\\overparen","\\overgroup{#1}"),o.__defineMacro("\\mbox","\\text{#1}"),o.__defineMacro("\\pmatrix","\\begin{pmatrix}#1\\end{pmatrix}"),o.__defineMacro("\\longdiv","\\overline{\\smash{\\big)}#1}"),o.__defineMacro("\\cases","\\begin{cases}#1\\end{cases}"),o.__defineMacro("\\cancelto","\\cancel{#2}^{~~#1}")},98:function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(27);function a(e,t,n){var o=2<arguments.length&&void 0!==n?n:1/0;if(e.length<t||e.length>o)throw"Unexpected number of arguments."}function r(e,t){for(var n,o=[],i=[],a=0,r=e.future();r&&"EOF"!=r.text;){if(i.length>t)throw"Unexpected argument.";switch((r=e.future()).text){case"[":case"{":0!=a?o.push({token:r.text,type:_.LITERAL}):o.optional="["==r.text,++a;break;case"]":case"}":if(--a<0)return i;0!=a?o.push({token:r.text,type:_.LITERAL}):(i.push(o),o=[]);break;case"\\num":if(0==a)return i;break;default:if(0==a)return i;o.push((n=r.text,u[n]||{token:n,type:_.LITERAL}))}e.popToken()}return i}function s(e){var t=e.map(function(e){return e.token}).join("").split("=");if(2!=t.length)throw"Unexpected option.";return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t[0].trim(),t[1].trim().toLowerCase())}function l(e,t){if(e.length<4)return e;t||e.reverse();for(var n=[],o=0;o<e.length;++o)0!=o&&o%3==0&&n.push("\\,"),n.push(e[o]);return t?n:n.reverse()}function c(e){var n=!1,o=!1,i=[],a=[];return e.forEach(function(e){if(1<e.token.length)a.push(e.token);else if(","!==e.token){var t=e.token.charCodeAt(0);if(48<=t&&t<=57)i.push(e.token);else switch(0!=i.length&&(a.push(l(i,o).join("")),i=[]),e.token){case"e":case"E":n=!0,0!=a.length&&a.push("\\times"),a.push("10^{");break;case".":o=!0;default:a.push(e.token)}}}),0!=i.length&&a.push(l(i,o).join("")),n&&a.push("}"),a.join(" ")}i.__defineMacro("\\si",function(e){var t=r(e,2);a(t,1,2);var n={};!0===t[0].optional&&(n=s(t[0]),t=t.slice(1));return a(t,1),d(t[0],n)}),i.__defineMacro("\\SI",function(e){var t=r(e,4);a(t,2,4);var n={};!0===t[0].optional&&(n=s(t[0]),t=t.slice(1));a(t,2);var o=c(t[0]);a(t=t.slice(1),1);var i="";i+="".concat(d(t[0],n)),0!=(t=t.slice(1)).length?i+=" ".concat(o,"\\ ").concat(d(t[0],n)):i="".concat(o,"\\ ").concat(i);return i}),i.__defineMacro("\\num",function(e){var t=r(e,2);a(t,1,2);!0===t[0].optional&&(s(t[0]),t=t.slice(1));a(t,1);var n=c(t[0]);return"{ ".concat(n," }")}),i.__defineMacro("\\ang",function(e){var t=r(e,2);a(t,1,2);!0===t[0].optional&&(s(t[0]),t=t.slice(1));return a(t,1),"".concat(c(t[0])," \\degree")}),i.__defineMacro("\\tothe","^{#1}");var g=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.tokens=e,this.idx=-1}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"peek",value:function(){var e=this.idx+1;return e<this.tokens.length?this.tokens[e]:null}},{key:"remember",value:function(){var e=this.idx-1;return 0<=e?this.tokens[e]:null}},{key:"next",value:function(){var e=this.peek();return e&&++this.idx,e}}]),t}();function d(e,t){for(var n=[],o=[],i=new g(e),a="symbol"===t["per-mode"],r="pedagogical"===t["per-mode"],s=!1,l=i.next();l;){var c="",d=null;switch(l.type){case _.PER:s=!0,l=i.next();continue;case _.PREFIX:if(!(d=i.next())||d.type!=_.UNIT&&d.type!=_.LITERAL)throw'Unit expected after prefix "'.concat(l.token,'" but got "').concat(d.token,'".');c+=!1===l.text?l.token:"\\text{".concat(l.token,"}"),l=d;case _.UNIT:c+=!1===l.text?l.token:"\\text{".concat(l.token,"}");var u=!0;(d=i.peek())&&d.type==_.POWER_SUFFIX?(c+="^{".concat(!s||a?d.power:-1*d.power,"}"),u=!1,l=i.next()):s&&(a||(c+="^{-1}",u=!1)),(d=i.peek())?d.type==_.PER?u=u&&!a:y(d.token)?u=!1:"W"===l.token&&"h"===d.token&&(u=!1):u=!1,u&&(c+="\\,");break;case _.POWER_SUFFIX:c="^{".concat(l.power,"}");break;case _.LITERAL:if("."===l.token){var f=i.peek(),p=i.remember();c=y(f.token)&&y(p.token)?l.token:"\\,"}else if(!1===l.text||l.token.startsWith("\\")||y(l.token))c=l.token;else{c="\\text{".concat(l.token,"}");for(var h=i.peek();h&&h.type==_.LITERAL&&!y(h.token);)l=i.next(),c+="\\text{".concat(l.token,"}"),h=i.peek();h&&h.type==_.POWER_SUFFIX?(c+="^{".concat(!s||a?h.power:-1*h.power,"}"),l=i.next()):s&&(a||(c+="^{-1}"))}break;default:c=l.token}s?(o.push(c),(d=i.peek())&&d.type!=_.LITERAL&&!r&&(s=!1)):n.push(c),l=i.next()}var m,v=n.join(" ");return m=a&&1<o.length?"(".concat(o.join(" "),")"):o.join(" "),"".concat(v," ").concat(a&&0!=m.length?"/":""," ").concat(m)}function y(e){if(!e||1!=e.length)return!1;var t=e.charCodeAt(0);return t<=64||91<=t&&t<=96||123<=t}var _={LITERAL:0,UNIT:1,PREFIX:2,POWER_SUFFIX:3,PER:4},u={"\\ampere":{token:"A",type:_.UNIT},"\\pA":{token:"pA",type:_.UNIT},"\\nA":{token:"nA",type:_.UNIT},"\\uA":{token:"\\mu\\text{A}",type:_.UNIT,text:!1},"\\mA":{token:"mA",type:_.UNIT},"\\A":{token:"A",type:_.UNIT},"\\kA":{token:"kA",type:_.UNIT},"\\candela":{token:"cd",type:_.UNIT},"\\gram":{token:"g",type:_.UNIT},"\\kelvin":{token:"K",type:_.UNIT},"\\K":{token:"K",type:_.UNIT},"\\kilogram":{token:"kg",type:_.UNIT},"\\fg":{token:"fg",type:_.UNIT},"\\pg":{token:"pg",type:_.UNIT},"\\ng":{token:"ng",type:_.UNIT},"\\ug":{token:"\\mu\\text{g}",type:_.UNIT,text:!1},"\\mg":{token:"mg",type:_.UNIT},"\\g":{token:"g",type:_.UNIT},"\\kg":{token:"kg",type:_.UNIT},"\\metre":{token:"m",type:_.UNIT},"\\meter":{token:"m",type:_.UNIT},"\\pm":{token:"pm",type:_.UNIT},"\\nm":{token:"nm",type:_.UNIT},"\\um":{token:"\\mu\\text{m}",type:_.UNIT,text:!1},"\\mm":{token:"mm",type:_.UNIT},"\\cm":{token:"cm",type:_.UNIT},"\\dm":{token:"dm",type:_.UNIT},"\\m":{token:"m",type:_.UNIT},"\\km":{token:"km",type:_.UNIT},"\\mole":{token:"mol",type:_.UNIT},"\\fmol":{token:"fmol",type:_.UNIT},"\\pmol":{token:"pmol",type:_.UNIT},"\\nmol":{token:"nmol",type:_.UNIT},"\\umol":{token:"\\mu\\text{mol}",type:_.UNIT,text:!1},"\\mmol":{token:"mmol",type:_.UNIT},"\\mol":{token:"mol",type:_.UNIT},"\\kmol":{token:"kmol",type:_.UNIT},"\\second":{token:"s",type:_.UNIT},"\\as":{token:"as",type:_.UNIT},"\\fs":{token:"fs",type:_.UNIT},"\\ps":{token:"ps",type:_.UNIT},"\\ns":{token:"ns",type:_.UNIT},"\\us":{token:"\\mu\\text{s}",type:_.UNIT,text:!1},"\\ms":{token:"ms",type:_.UNIT},"\\s":{token:"s",type:_.UNIT},"\\becquerel":{token:"Bq",type:_.UNIT},"\\degreeCelsius":{token:"\\degree\\text{C}",type:_.UNIT,text:!1},"\\celsius":{token:"\\degree\\text{C}",type:_.UNIT,text:!1},"\\coulomb":{token:"C",type:_.UNIT},"\\farad":{token:"F",type:_.UNIT},"\\pF":{token:"pF",type:_.UNIT},"\\fF":{token:"fF",type:_.UNIT},"\\F":{token:"F",type:_.UNIT},"\\gray":{token:"Gy",type:_.UNIT},"\\hertz":{token:"Hz",type:_.UNIT},"\\mHz":{token:"mHz",type:_.UNIT},"\\Hz":{token:"Hz",type:_.UNIT},"\\kHz":{token:"kHz",type:_.UNIT},"\\MHz":{token:"MHz",type:_.UNIT},"\\GHz":{token:"GHz",type:_.UNIT},"\\THz":{token:"THz",type:_.UNIT},"\\henry":{token:"H",type:_.UNIT},"\\joule":{token:"J",type:_.UNIT},"\\uJ":{token:"\\mu\\text{J}",type:_.UNIT,text:!1},"\\mJ":{token:"mJ",type:_.UNIT},"\\J":{token:"J",type:_.UNIT},"\\kJ":{token:"kJ",type:_.UNIT},"\\katal":{token:"kat",type:_.UNIT},"\\lumen":{token:"lm",type:_.UNIT},"\\lux":{token:"lx",type:_.UNIT},"\\newton":{token:"N",type:_.UNIT},"\\mN":{token:"mN",type:_.UNIT},"\\N":{token:"N",type:_.UNIT},"\\kN":{token:"kN",type:_.UNIT},"\\MN":{token:"MN",type:_.UNIT},"\\ohm":{token:"\\Omega",type:_.UNIT,text:!1},"\\mohm":{token:"\\text{m}\\Omega",type:_.UNIT,text:!1},"\\kohm":{token:"\\text{k}\\Omega",type:_.UNIT,text:!1},"\\Mohm":{token:"\\text{M}\\Omega",type:_.UNIT,text:!1},"\\pascal":{token:"Pa",type:_.UNIT},"\\Pa":{token:"Pa",type:_.UNIT},"\\kPa":{token:"kPa",type:_.UNIT},"\\MPa":{token:"MPa",type:_.UNIT},"\\GPa":{token:"GPa",type:_.UNIT},"\\radian":{token:"rad",type:_.UNIT},"\\siemens":{token:"S",type:_.UNIT},"\\sievert":{token:"Sv",type:_.UNIT},"\\steradian":{token:"sr",type:_.UNIT},"\\tesla":{token:"T",type:_.UNIT},"\\volt":{token:"V",type:_.UNIT},"\\pV":{token:"pV",type:_.UNIT},"\\nV":{token:"nV",type:_.UNIT},"\\uV":{token:"\\mu\\text{V}",type:_.UNIT,text:!1},"\\mV":{token:"mV",type:_.UNIT},"\\V":{token:"V",type:_.UNIT},"\\kV":{token:"kV",type:_.UNIT},"\\watt":{token:"W",type:_.UNIT},"\\uW":{token:"\\mu\\text{W}",type:_.UNIT,text:!1},"\\mW":{token:"mW",type:_.UNIT},"\\W":{token:"W",type:_.UNIT},"\\kW":{token:"kW",type:_.UNIT},"\\MW":{token:"MW",type:_.UNIT},"\\GW":{token:"GW",type:_.UNIT},"\\kWh":{token:"kWh",type:_.UNIT},"\\weber":{token:"Wb",type:_.UNIT},"\\day":{token:"d",type:_.UNIT},"\\degree":{token:"\\degree",type:_.UNIT,text:!1},"\\hectare":{token:"ha",type:_.UNIT},"\\hour":{token:"h",type:_.UNIT},"\\litre":{token:"l",type:_.UNIT},"\\liter":{token:"L",type:_.UNIT},"\\ul":{token:"\\mu\\text{l}",type:_.UNIT,text:!1},"\\ml":{token:"ml",type:_.UNIT},"\\l":{token:"l",type:_.UNIT},"\\hl":{token:"hl",type:_.UNIT},"\\uL":{token:"\\mu\\text{L}",type:_.UNIT,text:!1},"\\mL":{token:"mL",type:_.UNIT},"\\L":{token:"L",type:_.UNIT},"\\hL":{token:"hL",type:_.UNIT},"\\minute":{token:"min",type:_.UNIT},"\\arcminute":{token:"\\prime",type:_.UNIT,text:!1},"\\arcsecond":{token:"\\prime\\prime",type:_.UNIT,text:!1},"\\tonne":{token:"t",type:_.UNIT},"\\astronomicalunit":{token:"au",type:_.UNIT},"\\atomicmassunit":{token:"u",type:_.UNIT},"\\amu":{token:"u",type:_.UNIT},"\\bohr":{token:"a_0",type:_.UNIT,text:!1},"\\clight":{token:"c_0",type:_.UNIT,text:!1},"\\dalton":{token:"Da",type:_.UNIT},"\\electronmass":{token:"m_e",type:_.UNIT,text:!1},"\\electronvolt":{token:"eV",type:_.UNIT},"\\meV":{token:"meV",type:_.UNIT},"\\eV":{token:"eV",type:_.UNIT},"\\keV":{token:"keV",type:_.UNIT},"\\MeV":{token:"MeV",type:_.UNIT},"\\GeV":{token:"GeV",type:_.UNIT},"\\TeV":{token:"TeV",type:_.UNIT},"\\elementarycharge":{token:"e",type:_.UNIT,text:!1},"\\hartree":{token:"E_h",type:_.UNIT,text:!1},"\\planckbar":{token:"\\hbar",type:_.UNIT,text:!1},"\\angstrom":{token:"\\AA",type:_.UNIT,text:!0},"\\bar":{token:"bar",type:_.UNIT},"\\barn":{token:"b",type:_.UNIT},"\\bel":{token:"B",type:_.UNIT},"\\decibel":{token:"dB",type:_.UNIT},"\\dB":{token:"dB",type:_.UNIT},"\\knot":{token:"kn",type:_.UNIT},"\\mmHg":{token:"mmHg",type:_.UNIT},"\\nauticalmile":{token:"M",type:_.UNIT},"\\neper":{token:"Np",type:_.UNIT},"\\yocto":{token:"y",type:_.PREFIX},"\\zepto":{token:"z",type:_.PREFIX},"\\atto":{token:"a",type:_.PREFIX},"\\femto":{token:"f",type:_.PREFIX},"\\pico":{token:"p",type:_.PREFIX},"\\nano":{token:"n",type:_.PREFIX},"\\micro":{token:"\\mu",type:_.PREFIX,text:!1},"\\milli":{token:"m",type:_.PREFIX},"\\centi":{token:"c",type:_.PREFIX},"\\deci":{token:"d",type:_.PREFIX},"\\deca":{token:"da",type:_.PREFIX},"\\deka":{token:"da",type:_.PREFIX},"\\hecto":{token:"h",type:_.PREFIX},"\\kilo":{token:"k",type:_.PREFIX},"\\mega":{token:"M",type:_.PREFIX},"\\giga":{token:"G",type:_.PREFIX},"\\tera":{token:"T",type:_.PREFIX},"\\peta":{token:"P",type:_.PREFIX},"\\exa":{token:"E",type:_.PREFIX},"\\zetta":{token:"Z",type:_.PREFIX},"\\yotta":{token:"Y",type:_.PREFIX},"\\squared":{power:2,type:_.POWER_SUFFIX},"\\cubed":{power:3,type:_.POWER_SUFFIX},"\\per":{token:"/",type:_.PER}}},99:function(e,t,n){"use strict";var o=/\\(begin|end)\s*{\s*(align|eqnarray|split)\*?\s*}/g;function i(e,t){return"\\".concat(t,"{aligned}")}var a=/\\begin{\s*array\s*}\s*[^{\s]/g;function r(e){return"\\begin{array}{c}".concat(e[e.length-1])}var s=/\\(begin|end){\s*equation\s*}/g;function l(e){return""}var c=/(.*?)([$%])/g;function d(e,t,n){return t.endsWith("\\")?"".concat(t).concat(n):"".concat(t,"\\").concat(n)}var u=/\\text(?:rm|bf|it|md|normal|sf|tt|up)?{([^}]*?)}/g,f=/(.*?)([_#&])/g;function p(e){return e.replace(f,d)}var h=/\u2013|\\u2013|\u2212|\\u2212/g,m={"":"-","\\u2013":"-","":"-","\\u2212":"-"};function v(e){return m[e]||e}var g=/\\require{[^}]*?}/g;function y(e){return""}var _={lightblue:"#95D3FE",blue:"#3D99F6",darkblue:"#0C6AC7",seagreen:"#1E93A5",aqua:"#27D2E7",lightgreen:"#67D94C",green:"#20A900",darkgreen:"#456461",yellow:"#CEBB00",lightyellow:"#FEDF53",yelloworange:"#FCA04A",orange:"#EC7300",redorange:"#FF664D",red:"#D61F06",pink:"#E81990",rosepink:"#F970BF",violet:"#BA33D6",amethyst:"#625CDB",indigo:"#302B94",purple:"#69047E",paleyellow:"#FFF7E6",beige:"#FBE6B8",sandybrown:"#FEDABE",peachy:"#FCC9A1",tan:"#DBA97F",lightbrown:"#B4825D",mediumlightbrown:"#AA7956",bronze:"#815331",brown:"#624F41",white:"#FFFFFF",lightgray:"#FBFBFB",mediumlightgray:"#F0F0F0",mediumgray:"#D8D8D8",gray:"#BBBBBB",mediumdarkgray:"#919191",darkgray:"#777777",black:"#333333",darkblack:"#161616"};function b(e){var t=e.trim().replace(/\\/g,"").toLowerCase();return _[t]||t}var w=/\\(color|colorbox|textcolor)\s*{(.*?)}/g;function k(e,t,n){return"\\".concat(t,"{").concat(b(n),"}")}var C=/\\fcolorbox\s*{(.*?)}\s*{(.*?)}/g;function x(e,t,n){return"\\fcolorbox{".concat(b(t),"}{").concat(b(n),"}")}e.exports={replace:function(e){return e.replace(h,v).replace(g,y).replace(s,l).replace(o,i).replace(a,r).replace(c,d).replace(w,k).replace(C,x).replace(u,p)}}}});
//# sourceMappingURL=brilliant_entry.8ab1f05ea691bcc13db7.js.map